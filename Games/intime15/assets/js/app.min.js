! function() {
    function a(a, b) {
        a = a || {};
        var c = {};
        for (var d in a) b.hasOwnProperty(d) ? c[d] = b[d] : c[d] = a[d];
        return c
    }
    var b = function(a) {
        return this.load(a)
    };
    b.version = "1.0.4";
    var c = !navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/);
    b.prototype.load = function(b) {
        var d = {
                loop: !0,
                preload: "load",
                autoplay: !0,
                touchstart: !0,
                src: "",
                isload: !1
            },
            e = a(d, b),
            f = new Audio;
        for (var g in e) e.hasOwnProperty(g) && g in f && (f[g] = e[g]);
        return f.oncanplay = function() {
            !this.isload && c && (this.isload = !0, this.play(), this.autoplay && this.played || this.pause())
        }, f
    }, "function" == typeof define ? define(function() {
        return b
    }) : "undefined" != typeof exports ? module.exports = b : (window.tp = window.tp || {}, window.tp.audio = b)
}(), ! function() {
    function a(a) {
        return function(b) {
            return Object.prototype.toString.call(b) === "[object " + a + "]"
        }
    }

    function b(a) {
        return JSON.stringify(a)
    }

    function c(a) {
        return /^-?\d+\.?\d*$/.test(a.replace(/["']/g, ""))
    }

    function d(a, b) {
        return "true" === b || "false" === b ? "true" === b : b
    }
    var e = a("Object"),
        f = (a("String"), a("Array")),
        g = (a("Function"), {
            version: "1.0.2",
            setItem: function(a, c) {
                if (this.isSupports()) {
                    if ("undefined" == typeof c) return !1;
                    (f(c) || e(c)) && (c = b(c)), window.localStorage.setItem(a, c)
                }
            },
            getItem: function(a) {
                if (this.isSupports()) {
                    var b = window.localStorage.getItem(a);
                    return b && "null" !== b ? "{" === b.charAt(0) || "[" === b.charAt(0) || c(b) ? JSON.parse(b, d) : b : null
                }
                return null
            },
            removeItem: function(a) {
                this.isSupports() && window.localStorage.removeItem(a)
            },
            clear: function() {
                this.isSupports() && window.localStorage.clear()
            },
            isSupports: function() {
                return "localStorage" in window && null !== window.localStorage
            }
        });
    "function" == typeof define ? define(function() {
        return g
    }) : "undefined" != typeof exports ? module.exports = g : (window.tp = window.tp || {}, window.tp.localStorage = g)
}(), ! function() {
    function a(a) {
        return function(b) {
            return Object.prototype.toString.call(b) === "[object " + a + "]"
        }
    }
    var b = {
        version: "0.0.4",
        isObject: a("Object"),
        isString: a("String"),
        isArray: a("Array"),
        isFunction: a("Function")
    };
    b.ismobile = function(a) {
        var b = /^(13[0-9]|14[0-9]|15[0-9]|170|18[0-9])([0-9]{8,8})$/;
        return null != a.match(b) ? !0 : !1
    }, b.is_zw = function(a) {
        return exp = /[0-9a-zA-Z_.,#@!$%^&*()-+=|\?\/<>]/g, -1 != a.search(exp) ? !1 : !0
    }, b.CheckBadChar = function(a, b) {
        return exp = /[,\uff0c]/g, -1 != a.value.search(exp) ? (alert(b + "\u4e0d\u80fd\u5305\u542b\u9017\u53f7"), a.value = "", a.focus(), !1) : !0
    }, b.is_number = function(a) {
        return !isNaN(a)
    }, b.CheckNumber = function(a, b) {
        return "" != a.value && (isNaN(a.value) || a.value < 0) ? (alert(b + "\u5e94\u586b\u6709\u6548\u6570\u5b57\uff01"), a.value = "", a.focus(), !1) : !0
    }, b.is_email = function(a) {
        return -1 == a.indexOf("@") || -1 == a.indexOf(".") ? !1 : !0
    }, b.is_date = function(a) {
        var b = /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,
            c = a.match(b);
        if (null == c) return is_shortdate(a);
        var d = new Date(c[1], c[3] - 1, c[4], c[5], c[6], c[7]),
            e = d.getFullYear() == c[1] && d.getMonth() + 1 == c[3] && d.getDate() == c[4] && d.getHours() == c[5] && d.getMinutes() == c[6] && d.getSeconds() == c[7];
        return 0 == e ? is_shortdate(a) : !0
    }, b.is_shortdate = function(a) {
        var b = a.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);
        if (null == b) return !1;
        var c = new Date(b[1], b[3] - 1, b[4]);
        return c.getFullYear() == b[1] && c.getMonth() + 1 == b[3] && c.getDate() == b[4]
    }, b.loadScript = function(a, c) {
        var d = document.createElement("script");
        d.type = "text/javascript", d.readyState ? d.onreadystatechange = function() {
            ("loaded" == d.readyState || "complete" == d.readyState) && (d.onreadystatechange = null, "function" == typeof c && c())
        } : d.onload = function() {
            "function" == typeof c && c()
        }, d.src = a, b.DOMReady(function() {
            document.body.appendChild(d)
        })
    };
    var c = !1;
    b.DOMReady = function(a) {
        c ? "function" == typeof a && a() : setTimeout(function() {
            document.body && (c = !0), DOMReady(a)
        }, 1)
    }, b.extend = function(a, b) {
        a = a || {};
        var c = {};
        for (var d in a) b.hasOwnProperty(d) ? c[d] = b[d] : c[d] = a[d];
        return c
    }, "function" == typeof define ? define(function() {
        return b
    }) : "undefined" != typeof exports ? module.exports = b : (window.tp = window.tp || {}, window.tp.util = b)
}(), ! function() {
    function a(a) {
        return ("0" + a.charCodeAt(0).toString(16)).slice(-2)
    }

    function b(a) {
        return String.fromCharCode(a)
    }
    var c = {
        version: "1.0.5"
    };
    c.queryParams = function(a) {
        for (var b, c = /(?:\?|&)?(\w+)=([^&=]*)/gi, d = a && a.split("#")[0] || window.location.href.split("#")[0], e = {}; null !== (b = c.exec(d));) e[b[1]] = this.decode(decodeURI(b[2]));
        return e
    }, c.encode = function(b) {
        for (var c = "", d = "!\"#$%&'()*+,/:;<=>?[]^`{|}~%", e = "", f = 0; f < b.length; f++) {
            var g = b.charAt(f),
                h = a(g);
            e += g + ":" + h + "n", c += parseInt("0x" + h) > 127 ? "%" + h.slice(0, 2) + "%" + h.slice(-2) : " " == g ? "+" : -1 != d.indexOf(g) ? "%" + h.toString(16) : g
        }
        return c
    }, c.decode = function(a) {
        for (var c = "", d = 0; d < a.length; d++) {
            var e = a.charAt(d);
            if ("+" == e) c += " ";
            else if ("%" == e) {
                var f = a.substring(d + 1, d + 3);
                parseInt("0x" + f) > 127 ? (c += b(parseInt("0x" + f + a.substring(d + 4, d + 6))), d += 5) : (c += b(parseInt("0x" + f)), d += 2)
            } else c += e
        }
        return c
    }, "function" == typeof define ? define(function() {
        return c
    }) : "undefined" != typeof exports ? module.exports = c : (window.tp = window.tp || {}, window.tp.url = c)
}(), ! function() {
    function a(a, c) {
        var d = document.createElement("script");
        d.type = "text/javascript", d.readyState ? d.onreadystatechange = function() {
            ("loaded" == d.readyState || "complete" == d.readyState) && (d.onreadystatechange = null, "function" == typeof c && c())
        } : d.onload = function() {
            "function" == typeof c && c()
        }, d.src = a, b(function() {
            document.body.appendChild(d)
        })
    }

    function b(a) {
        h ? "function" == typeof a && a() : setTimeout(function() {
            document.body && (h = !0), b(a)
        }, 1)
    }

    function c(a, b) {
        a = a || {};
        var c = {};
        for (var d in a) b.hasOwnProperty(d) ? c[d] = b[d] : c[d] = a[d];
        return c
    }
    var d = {
            version: "2.0.0"
        },
        e = {
            title: "",
            desc: "",
            link: "",
            imgUrl: "",
            success: function() {},
            cancel: function() {}
        },
        f = !1,
        g = "http://res.wx.qq.com/open/js/jweixin-1.0.0.js";
    d.wechat = null, d.setWechat = function(a) {
        d.wechat = a
    }, d.init = function(b, h, i) {
        b = b || {}, e = c(e, b), i = i || f, h = "function" == typeof h ? h : null, f = !!i;
        var j = "http://www.socialpark.com.cn/wechat/getshare.php?t=" + (new Date).getTime() + "&callback=tp.wx.config&url=" + encodeURIComponent(location.href.replace(location.hash, ""));
        "function" == typeof define ? require(["http://www.socialpark.com.cn/wechat/getshare.php?t=" + (new Date).getTime() + "&callback=define&url=" + encodeURIComponent(location.href.replace(location.hash, ""))], function(a) {
            "function" == typeof h && h(), d.config(a)
        }) : window.wx ? (d.setWechat(window.wx), a(j, h)) : a(g, function() {
            d.setWechat(window.wx), a(j, h)
        })
    }, d.config = function(a) {
        return 200 != a.ret ? void(f && alert(JSON.stringify(a))) : (d.wechat.config({
            debug: f,
            appId: a.appid,
            timestamp: a.timestamp,
            nonceStr: a.noncestr,
            signature: a.signature,
            jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "onMenuShareQZone", "hideMenuItems", "showMenuItems", "hideAllNonBaseMenuItem", "showAllNonBaseMenuItem", "translateVoice", "startRecord", "stopRecord", "onRecordEnd", "playVoice", "pauseVoice", "stopVoice", "uploadVoice", "downloadVoice", "chooseImage", "previewImage", "uploadImage", "downloadImage", "getNetworkType", "openLocation", "getLocation", "hideOptionMenu", "showOptionMenu", "closeWindow", "scanQRCode", "chooseWXPay", "openProductSpecificView", "addCard", "chooseCard", "openCard"]
        }), void d.wechat.ready(function() {
            d.wechat.checkJsApi({
                jsApiList: ["checkJsApi", "onMenuShareTimeline", "onMenuShareAppMessage", "onMenuShareQQ", "onMenuShareWeibo", "onMenuShareQZone", "hideMenuItems", "showMenuItems", "hideAllNonBaseMenuItem", "showAllNonBaseMenuItem", "translateVoice", "startRecord", "stopRecord", "onRecordEnd", "playVoice", "pauseVoice", "stopVoice", "uploadVoice", "downloadVoice", "chooseImage", "previewImage", "uploadImage", "downloadImage", "getNetworkType", "openLocation", "getLocation", "hideOptionMenu", "showOptionMenu", "closeWindow", "scanQRCode", "chooseWXPay", "openProductSpecificView", "addCard", "chooseCard", "openCard"],
                success: function(a) {
                    d.wechat.hideMenuItems({
                        menuList: ["menuItem:share:weiboApp", "menuItem:share:facebook"]
                    }), d.wechat.showMenuItems({
                        menuList: ["menuItem:profile", "menuItem:addContact"]
                    }), d.setshare()
                }
            })
        }))
    }, d.setshare = function(a) {
        a = a || {};
        var b = c(e, a);
        d.wechat.onMenuShareTimeline({
            title: b.title,
            link: b.link,
            imgUrl: b.imgUrl,
            success: function() {
                b.success && b.success();
                try {
                    _hmt.push(["_trackEvent", "\u5206\u4eab\u6210\u529f", "\u5206\u4eab\u5230\u670b\u53cb\u5708"])
                } catch (a) {}
            },
            cancel: function() {
                b.cancel && b.cancel();
                try {
                    _hmt.push(["_trackEvent", "\u53d6\u6d88\u5206\u4eab", "\u53d6\u6d88\u5206\u4eab"])
                } catch (a) {}
            }
        }), d.wechat.onMenuShareAppMessage({
            title: b.title,
            desc: b.desc,
            link: b.link,
            imgUrl: b.imgUrl,
            success: function() {
                b.success && b.success();
                try {
                    _hmt.push(["_trackEvent", "\u5206\u4eab\u6210\u529f", "\u5206\u4eab\u7ed9\u597d\u53cb"])
                } catch (a) {}
            },
            cancel: function() {
                b.cancel && b.cancel();
                try {
                    _hmt.push(["_trackEvent", "\u53d6\u6d88\u5206\u4eab", "\u53d6\u6d88\u5206\u4eab"])
                } catch (a) {}
            }
        }), d.wechat.onMenuShareQQ({
            title: b.title,
            desc: b.desc,
            link: b.link,
            imgUrl: b.imgUrl,
            success: function() {
                b.success && b.success();
                try {
                    _hmt.push(["_trackEvent", "\u5206\u4eab\u6210\u529f", "\u5206\u4eab\u6210\u529f"])
                } catch (a) {}
            },
            cancel: function() {
                b.cancel && b.cancel();
                try {
                    _hmt.push(["_trackEvent", "\u53d6\u6d88\u5206\u4eab", "\u53d6\u6d88\u5206\u4eab"])
                } catch (a) {}
            }
        })
    };
    var h = !1;
    "function" == typeof define ? define([g], function(a) {
        return d.setWechat(a), d
    }) : function() {
        window.tp = window.tp || {}, window.tp.wx = d
    }()
}(), ! function() {
    var a = {
        version: "1.0.3"
    };
    a.format = Date.prototype.format = function(a) {
        var b = {
            "M+": this.getMonth() + 1,
            "d+": this.getDate(),
            "h+": this.getHours(),
            "m+": this.getMinutes(),
            "s+": this.getSeconds(),
            "q+": Math.floor((this.getMonth() + 3) / 3),
            S: this.getMilliseconds()
        };
        /(y+)/.test(a) && (a = a.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)));
        for (var c in b) new RegExp("(" + c + ")").test(a) && (a = a.replace(RegExp.$1, 1 == RegExp.$1.length ? b[c] : ("00" + b[c]).substr(("" + b[c]).length)));
        return a
    }, a.diff = function(a, b, c) {
        var d = {
            D: 864e5,
            H: 36e5,
            M: 6e4,
            S: 1e3,
            T: 1
        };
        a = a.toUpperCase();
        var e = new Date(Date.parse(b.replace(/-/g, "/"))),
            f = new Date(Date.parse(c.replace(/-/g, "/")));
        try {
            return Math.round((f.getTime() - e.getTime()) / d[a])
        } catch (g) {
            return g.message
        }
    }, "function" == typeof define ? define(function() {
        return a
    }) : "undefined" != typeof exports ? module.exports = a : (window.tp = window.tp || {}, window.tp.date = a)
}(), ! function() {
    window._hmt = window._hmt || [];
    var a = function(a) {
        if (a) {
            var b = document.createElement("script");
            b.src = "//hm.baidu.com/hm.js?" + a;
            var c = document.getElementsByTagName("script")[0];
            c.parentNode.insertBefore(b, c)
        }
    };
    a.version = "1.0.4", "function" == typeof define ? define(function() {
        return a
    }) : "undefined" != typeof exports ? module.exports = a : (window.tp = window.tp || {}, window.tp.tongji = a)
}(), $(function() {
    Function.prototype.timeout = function(a) {
        setTimeout(this, a)
    };
    var a = "ontouchstart" in window ? "tap" : "click",
        b = tp.url.queryParams(),
        c = "./",
        d = (new Date).format("yyyyMMdd-d"),
        e = 0;
    new mo.Landscape, new mo.PCPrompt({
        title: "11.11-16 \u94f6\u6cf02015\u5468\u5e74\u5e86\u73a9\u5927\u7684\uff01\u521b\u610f\u653e\u6c34\u4efb\u6027\u73a9\uff01",
        url: "http://intime.socialpark.com.cn/fangshuigame/dist/",
        description: " ",
        preview: c + "assets/images/preview.jpg",
        prefix: "pc",
        jump: function() {
            alert("\u8bf7\u7528\u79fb\u52a8\u7aef\u626b\u4e00\u626b\u4e8c\u7ef4\u7801\uff0c\u8fdb\u884c\u6d4f\u89c8\u3002"), $("#pc_jump").hide()
        }
    });
    var f = function(b) {
            var c = {
                    text: "",
                    success: null,
                    btn: "\u597d\u54d2"
                },
                b = $.extend({}, c, b || {});
            $(".mask").removeClass("hide").children(".content").html(b.text).next(".btn-diy").html(b.btn).one(a, function() {
                $(this).parent(".mask").addClass("hide"), b.success && b.success()
            })
        },
        g = $(window).width(),
        h = function(a) {
            var b = !0,
                d = 0,
                e = function() {
                    if (b) {
                        $(".loading .gamebox .ani").attr({
                            src: c + "assets/images/game/ani0/" + d++ % 2 + ".png"
                        });
                        for (var a = 3 + Math.round(3 * Math.random()); a-- > 0;) $("<img >").attr({
                            src: c + "assets/images/game/jb/" + Math.round(3 * Math.random()) + ".png",
                            "class": "jb"
                        }).css({
                            width: .05 * g * Math.random() + .06 * g,
                            left: .6 * g * Math.random() + .1 * g
                        }).appendTo(".loading .gamebox").animate({
                            top: "100%",
                            left: .6 * g * Math.random() + .1 * g
                        }, 800 * Math.random() + 200);
                        setTimeout(e, 500)
                    }
                },
                f = [c + "assets/images/game/jb/0.png", c + "assets/images/game/jb/1.png", c + "assets/images/game/jb/2.png", c + "assets/images/game/jb/3.png", c + "assets/images/index/1-1.png", c + "assets/images/index/1-2.png", c + "assets/images/index/1-3.png", c + "assets/images/index/1-4.png", c + "assets/images/index/2-1.png", c + "assets/images/index/3-1.jpg", c + "assets/images/index/3-1.jpg", c + "assets/images/bg-1.png", c + "assets/images/bg-2.png", c + "assets/images/btn-1.jpg", c + "assets/images/choose/arrow-l.png", c + "assets/images/choose/arrow-r.png", c + "assets/images/choose/bg.jpg", c + "assets/images/choose/example.png", c + "assets/images/share.png", c + "assets/images/choose/man.png", c + "assets/images/choose/changqun.png", c + "assets/images/choose/kuzi.png", c + "assets/images/choose/tips.png", c + "assets/images/choose/women.png", c + "assets/images/game/ani0/0.png", c + "assets/images/game/ani0/1.png", c + "assets/images/game/ani1/0.png", c + "assets/images/game/ani1/1.png", c + "assets/images/game/ani2/0.png", c + "assets/images/game/ani2/1.png", c + "assets/images/game/ani3/0.png", c + "assets/images/game/ani3/1.png", c + "assets/images/game/bg.png", c + "assets/images/game/logo.png", c + "assets/images/game/tag.png", c + "assets/images/gameover/fail.jpg", c + "assets/images/gameover/success.jpg"];
            new mo.Loader(f, {
                onLoading: function(a, b) {
                    $(".loading .progress").text((a / b * 100).toFixed(2) + "%")
                },
                onComplete: function(c) {
                    b = !1, a && a(), _hmt.push(["_trackEvent", "\u9875\u9762\u52a0\u8f7d\u65f6\u95f4", "\u9875\u9762\u52a0\u8f7d\u65f6\u95f4:" + c])
                }
            }), e()
        };
    $.fn.animteOneByOne = function(a) {
        var b = {
                _loop: !1,
                delay: .5,
                duration: 1,
                animation: "fade"
            },
            a = $.extend({}, b, a || {}),
            c = 0;
        $(this).find("[data-animation]").each(function(b) {
            var d = $(this);
            if (a._loop || !d.data("isanimated")) {
                var e = d.data("animation") || a.animation,
                    f = void 0 != d.data("animation-delay") && d.data("animation-delay") || a.delay,
                    g = d.data("animation-duration") || a.duration;
                0 != b || d.data("animation-delay") || (f = 0), c += Number(f), a._loop && d.removeClass("animated").removeClass(e).removeAttr("style"), d.addClass(e).addClass("animated").css({
                    "-webkit-animation-delay": c + "s",
                    "-moz-animation-delay": c + "s",
                    "-ms-animation-delay": c + "s",
                    "animation-delay": c + "s",
                    "-webkit-animation-duration": g + "s",
                    "-moz-animation-duration": g + "s",
                    "-ms-animation-duration": g + "s",
                    "animation-duration": g + "s"
                }).data("isanimated", !0)
            }
        })
    }, $(".scratchpad").height(505 / 750 * g).wScratchPad({
        size: 30,
        bg: "assets/images/lottery/jp/0.jpg",
        fg: "assets/images/lottery/front.jpg",
        scratchMove: function(a, b) {
            console.log(b), b > 50 && !i.isopened && (i.isopened = !0, this.clear(), $(".scratchpad canvas").css("opacity", 0), i.opened())
        }
    });
    var i = {
            jp: ["\u4e0d\u4e2d\u5956", "\u65e0\u7ebf\u8033\u673a", "\u5b9a\u5236\u7248\u94f6\u9879\u94fe"],
            canlottery: function() {
                var a = tp.localStorage.getItem("lottery-times");
                return a > 0
            },
            inituser: function() {
                $.ajax({
                    url: "./main.php?action=setuser",
                    data: b,
                    success: function(a) {}
                })
            },
            opened: function() {
                0 == i.jpindex ? ($(".lottery .btn-group .btn-1").first().children("b").text("\u518d\u73a9\u4e00\u6b21").off(a).on(a, function() {
                    $(".page").removeClass("curr"), $(".choose").addClass("curr").animteOneByOne(), _hmt.push(["_trackEvent", "\u518d\u73a9\u4e00\u6b21", "\u518d\u73a9\u4e00\u6b21"])
                }), tp.wx.setshare({
                    title: "\u773c\u770b\u5956\u54c1\u98de\u8d70\u4e86\uff0c\u5c0f\u4f19\u4f34\u9760\u4f60\u4eec\u4e86\uff0111.11-16 \u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01",
                    desc: "\u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01\u73a9\u653e\u6c34\u6e38\u620f\uff0c\u62bdbeats\u8033\u673a\u3001\u5468\u5927\u798f\u9879\u94fe\u597d\u793c"
                })) : ($("#jp_out").text(i.jp[i.jpindex]), $(".lottery .btn-group .btn-1").first().children("b").text("\u9a6c\u4e0a\u9886\u5956").off(a).on(a, function() {
                    $(".page").removeClass("curr"), $(".success").addClass("curr").animteOneByOne(), _hmt.push(["_trackEvent", "\u8fdb\u5165\u9886\u5956\u9875\u9762", "\u8fdb\u5165\u9886\u5956\u9875\u9762"])
                }), tp.wx.setshare({
                    title: "\u54c7\uff0c\u4e2d\u5956\u4e86\uff01\u4f60\u4e5f\u6765\u8bd5\u8bd5\uff01 11.11-16 \u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01",
                    desc: "\u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01\u73a9\u653e\u6c34\u6e38\u620f\uff0c\u62bdbeats\u8033\u673a\u3001\u5468\u5927\u798f\u9879\u94fe\u597d\u793c"
                })), $(".lottery .btn-group").removeClass("hide").children(".btn-2").children("b").text(0 == i.jpindex ? "\u627e\u4eba\u6765\u62bd\u5956" : "\u70ab\u8000\u4e00\u4e0b").off(a).on(a, function() {
                    f({
                        text: "<p class='shareimg'><img src='" + c + "assets/images/" + (0 == i.jpindex ? "share-fail" : "share") + ".png'></p>"
                    })
                })
            },
            jpindex: 0,
            isopened: !1,
            getlottery: function() {
                return $(".scratchpad").wScratchPad("reset"), i.canlottery() ? ($(".scratchpad canvas").css("opacity", 1), $(".scratchpad").off("touchstart").wScratchPad("enable", !0), $(".lottery .btn-diy").removeClass("fadeOutDown"), $(".lottery .btn-group").addClass("hide"), i.isopened = !1, tp.localStorage.setItem("lottery-times", 0), $(".scratchpad img").attr("src", "assets/images/lottery/jp/" + i.jpindex + ".jpg"), void $.ajax({
                    url: "./main.php?action=getlottery",
                    data: {
                        openid: b.openid
                    },
                    success: function(a) {
                        200 != a.ret ? i.jpindex = 0 : i.jpindex = a.data.lottery, 0 != i.jpindex && $(".scratchpad img").attr("src", "assets/images/lottery/jp/" + i.jpindex + ".jpg"), _hmt.push(["_trackEvent", "\u5956\u54c1" + i.jpindex, "\u5956\u54c1" + i.jpindex])
                    }
                })) : ($(".scratchpad").off("touchstart").on("touchstart", function() {
                    alert("\u62bd\u5956\u673a\u4f1a\u4e0d\u8db3\uff01\u8bf7\u660e\u5929\u518d\u6765\uff01")
                }).wScratchPad("enable", !1), !1)
            }
        },
        j = {
            data: {},
            init: function() {
                j.data = {
                    cutdown: 3,
                    price: [900, 1500, 850, 600][e],
                    currprice: [900, 1500, 850, 600][e],
                    time: 15,
                    isplay: !1,
                    times: 0
                }, $(".game .cutdown").removeClass("hide").css({
                    transform: "translateY(0)",
                    "-webkit-transform": "translateY(0)"
                }), $(".gamebox .ani").attr({
                    src: c + "assets/images/game/ani" + e + "/0.png"
                }), j.setprice(), j.settime(), j.cutdown(j.start)
            },
            setprice: function() {
                $(".game .price").removeClass("hide").children(".currprice").html("\uffe5" + j.data.currprice)
            },
            settime: function() {
                $(".game .timeout .time").text(j.data.time--)
            },
            setcutdown: function() {
                j.data.cutdown--, $(".game .cutdown").animate({
                    transform: "translateY(" + 33.3333333333 * (j.data.cutdown - 3) + "00%)",
                    "-webkit-transform": "translateY(" + 33.3333333333 * (j.data.cutdown - 3) + "00%)"
                }, 200)
            },
            cutdown: function(a) {
                var b = function(c) {
                    c++ < j.data.cutdown + 1 ? function() {
                        b(c), j.setcutdown()
                    }.timeout(1e3) : a && a()
                };
                b(0)
            },
            timeout: function(a) {
                var b = function() {
                    j.data.time > 0 ? function() {
                        b(), j.settime()
                    }.timeout(1e3) : a && a()
                };
                b()
            },
            calprice: function() {
                j.data.times++;
                var a = j.data.price / 2 / 30;
                j.data.currprice = Math.round(Math.max(j.data.currprice - a, j.data.price / 2)), j.setprice(), j.handani();
                for (var b = 3 + Math.round(3 * Math.random()); b-- > 0;) j.gold.add()
            },
            handani: function() {
                function a(b) {
                    b-- > 0 && ($(".gamebox .ani").attr({
                        src: c + "assets/images/game/ani" + e + "/" + b % 2 + ".png"
                    }), setTimeout(function() {
                        a(b)
                    }, 300))
                }
                a(4)
            },
            gold: {
                add: function() {
                    $("<img >").attr({
                        src: c + "assets/images/game/jb/" + Math.round(3 * Math.random()) + ".png",
                        "class": "jb"
                    }).css({
                        width: .05 * g * Math.random() + .06 * g,
                        left: .8 * g * Math.random() + .1 * g
                    }).appendTo(".game .gamebox").animate({
                        top: "100%",
                        left: .8 * g * Math.random() + .1 * g
                    }, 800 * Math.random() + 200, function() {
                        $(this).remove()
                    })
                }
            },
            start: function() {
                $(".game .cutdown").addClass("hide").css({
                    transform: "translateY(0)",
                    "-webkit-transform": "translateY(0)"
                }), $(".game .price").removeClass("hide"), j.data.isplay = !0, setTimeout(function() {
                    j.timeout(function() {
                        j.data.isplay = !1, setTimeout(function() {
                            j.over()
                        }, 1e3)
                    })
                }, 1e3), _hmt.push(["_trackEvent", "\u6e38\u620f", "\u6e38\u620f\u5f00\u59cb"])
            },
            over: function() {
                if (j.data.times >= 30) $(".gameover .result img").attr("src", c + "assets/images/gameover/success.jpg").next(".tips").html("<p>\u606d\u559c\u4f60\u6210\u529f\u201c\u653e\u6c34\u201d,\u8d76\u5feb\u53bb\u62bd\u5956\u5427</p>"), $(".gameover .btn-group .btn-1").first().off(a).on(a, function() {
                    return i.canlottery() ? ($(".page").removeClass("curr"), $(".lottery").addClass("curr").animteOneByOne(), i.getlottery(), void _hmt.push(["_trackEvent", "\u6e38\u620f\u6210\u529f\u5e76\u62bd\u5956", "\u6e38\u620f\u6210\u529f\u5e76\u62bd\u5956"])) : void alert("\u4f60\u4eca\u65e5\u5df2\u7ecf\u62bd\u8fc7\u5956\u4e86\uff01(\u6bcf\u5929\u53ea\u6709\u4e00\u6b21\u62bd\u5956\u673a\u4f1a)")
                }).children("b").text("\u9a6c\u4e0a\u62bd\u5956"), $(".gameover .btn-group .btn-2").off(a).on(a, function() {
                    f({
                        text: "<p class='shareimg'><img src='" + c + "assets/images/share.png'></p>"
                    })
                }).children("b").text("\u70ab\u8000\u4e00\u4e0b"), tp.wx.setshare({
                    title: "\u653e\u6c34\u73a9\u5230\u201c5\u201d\u6298\u8fd8\u4e0d\u591f\uff0c11.11-16 \u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01"
                });
                else {
                    var b = (j.data.currprice / j.data.price * 10).toFixed(1);
                    $(".gameover .result img").attr("src", c + "assets/images/gameover/fail.jpg").next(".tips").html("<p>\u653e\u6c34\u73a9\u5230\u201c" + b + "\u201d\u6298\u8fd8\u4e0d\u591f\uff1f</p><p>\u94f6\u6cf02015\u5468\u5e74\u5e86\u73a9\u5927\u7684\uff01</p>"), $(".gameover .btn-group .btn-1").first().one(a, function() {
                        $(".page").removeClass("curr"), $(".choose").addClass("curr").animteOneByOne(), _hmt.push(["_trackEvent", "\u518d\u73a9\u4e00\u6b21", "\u518d\u73a9\u4e00\u6b21"])
                    }).children("b").text("\u518d\u73a9\u4e00\u6b21"), $(".gameover .btn-group .btn-2").off(a).on(a, function() {
                        f({
                            text: "<p class='shareimg'><img src='" + c + "assets/images/share-fail.png'></p>"
                        })
                    }).children("b").text("\u627e\u4eba\u653e\u6c34"), tp.wx.setshare({
                        title: "\u653e\u6c34\u73a9\u5230\u201c" + b + "\u201d\u6298\u8fd8\u4e0d\u591f\uff1f11.11-16 \u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01",
                        desc: "\u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\u3002\u94f6\u6cf0\u5929\u732b\u4ef7\uff0c\u5929\u732b\u94f6\u6cf0\u8d27\u3002\u4e09\u5927\u4efb\u6027\uff0c\u4fdd\u4ef7\u8840\u62fc\uff01"
                    })
                }
                $(".page").removeClass("curr"), $(".gameover").addClass("curr").animteOneByOne(), _hmt.push(["_trackEvent", "\u6e38\u620f", "\u6e38\u620f\u7ed3\u675f"]), _hmt.push(["_setCustomVar", 1, "\u5355\u6b21\u6e38\u620f\u6ed1\u52a8\u6b21\u6570", j.data.times])
            }
        };
    ! function() {
        var a, b, c, d, e = 0,
            f = !1;
        $(".game").on("touchstart", function(a) {
            return c = d = 0, a.preventDefault(), 2 != a.touches.length ? void(f = !1) : (f = !0, void(b = [a.touches[0].pageY, a.touches[1].pageY]))
        }).on("touchmove", function(a) {
            return a.preventDefault(), 2 != a.touches.length ? void(f = !1) : (f = !0, c = a.touches[0].pageY - b[0], void(d = a.touches[1].pageY - b[1]))
        }).on("touchend", function(b) {
            b.preventDefault(), f && (a = Math.abs(c) > 80 && Math.abs(c) > 80 && (c > 0 && 0 > d || 0 > c && d > 0), a && (e++, j.data.isplay && j.calprice()), f = !1)
        })
    }(), h(function() {
        $(".page").removeClass("curr"), $(".index").addClass("curr").animteOneByOne(), $("[data-src]").each(function() {
            $(this).attr("src", c + $(this).data("src"))
        }), tp.wx.init({
            title: "11.11-16  \u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01\u5c82\u6b625\u6298\uff01\u5c31\u8fd96\u5929\uff01",
            desc: "\u94f6\u6cf0\u5468\u5e74\u5e86\u6765\u4e86\uff01\u73a9\u653e\u6c34\u6e38\u620f\uff0c\u62bdbeats\u8033\u673a\u3001\u5468\u5927\u798f\u9879\u94fe\u597d\u793c",
            link: "http://intime.socialpark.com.cn/fangshuigame/",
            imgUrl: "http://intime.socialpark.com.cn/fangshuigame/dist/favicon.ico",
            success: function() {
                var a = tp.localStorage.getItem("sharetime" + d);
                null == a && (tp.localStorage.setItem("lottery-times", 1), tp.localStorage.setItem("sharetime" + d, !0))
            }
        }), i.inituser()
    }), null == tp.localStorage.getItem("lottery-times") && tp.localStorage.setItem("lottery-times", 1);
    var k = tp.localStorage.getItem("logintime" + d);
    null == k && (tp.localStorage.setItem("lottery-times", 1), tp.localStorage.setItem("logintime" + d, !0)), $(".choose .btn-1").first().off(a).on(a, function() {
        $(".gamebox .ani").attr({
            src: c + "assets/images/game/ani" + e + "/0.png"
        }), $(".page").removeClass("curr"), $(".game").addClass("curr").animteOneByOne(), f({
            text: "<p>\u7528\u624b\u6307\u540c\u65f6\u671d\u4e0d\u540c\u65b9\u5411\u6ed1\u52a8</p><p>\u5373\u53ef\u62e7\u52a8\u8863\u670d</p><p>\u5c06\u6c34\u5206\u201c\u653e\u201d\u51fa\u6765\u54e6~</p><p>&nbsp;</p> <p>&nbsp;</p><p>&nbsp;</p> <p>&nbsp;</p><p><img src='" + c + "assets/images/choose/example.png'  width='30%'/></p>",
            success: function() {
                j.init()
            },
            btn: "\u53bb\u653e\u6c34"
        }), _hmt.push(["_trackEvent", "\u9009\u62e9\u4eba\u7269", "\u9009\u62e9\u7b2c" + (e + 1) + "\u4e2a\u4eba\u7269"])
    }), $(".choose .btn-2").off(a).on(a, function() {
        $(".page").removeClass("curr"), $(".index").addClass("curr").animteOneByOne()
    });
    var l = new mo.Slide({
        target: $(".choose .list ul li"),
        effect: "slide",
        direction: "x",
        circle: !0,
        prevBtn: $(".choose .box .l"),
        nextBtn: $(".choose .box .r")
    });
    l.on("change", function() {
        e = l.curPage, _hmt.push(["_trackEvent", "\u67e5\u770b\u4eba\u7269", "\u67e5\u770b\u7b2c" + (e + 1) + "\u4e2a\u4eba\u7269"])
    }), $(".index .btn-1").first().off(a).on(a, function() {
        $(".page").removeClass("curr"), $(".choose").addClass("curr").animteOneByOne()
    }), $(".index .btn-2").off(a).on(a, function() {
        f({
            text: "<p>11.11-16   \u94f6\u6cf02015\u5468\u5e74\u5e86 </p><p>\u4efb\u6027\u5927\u653e\u6c34\u5566</p><p>\u6e38\u620f\u5f00\u59cb\u65f6</p><p>\u9009\u62e9\u5fc3\u4eea\u7684\u5546\u54c1</p><p>\u6839\u636e\u63d0\u793a\u7528\u4e24\u53ea\u624b</p><p>\u540c\u65f6\u4e0a\u4e0b\u6ed1\u52a8\u5c4f\u5e55</p><p>\u5373\u53ef\u4efb\u6027\u653e\u6c34</p><p>__</p><p>\u653e\u6c34\u6210\u529f\u53ef\u53c2\u4e0e\u62bd\u5956</p>\u6bcf\u4eba\u6bcf\u5929\u53ef\u6709\u4e00\u6b21\u62bd\u5956\u673a\u4f1a</p>\u8bb0\u5f97\u5206\u4eab\u7ed9\u5c0f\u4f19\u4f34\u4eec\u54e6 </p>"
        }), _hmt.push(["_trackEvent", "\u67e5\u770b\u6e38\u620f\u89c4\u5219", "\u67e5\u770b\u6e38\u620f\u89c4\u5219"])
    }), $(".lottery .btn-diy").off(a).on(a, function() {
        f({
            text: "<p class='gift'><img  width='100%' src='" + c + "assets/images/lottery/gift.png'/></p><p class='rule'><span class='num'>10\u4e2a</span><span class='no'>1</span>Beats by Dr. Dre Powerbeats2 \u65e0\u7ebf\u8033\u673a</p><p class='rule'><span class='num'>120\u4e2a</span><span class='no'>2</span>\u5468\u5927\u798f \u201cLOVE 17\u201d\u5b9a\u5236\u7248\u94f6\u9879\u94fe</p>",
            btn: "\u8fd4\u56de"
        }), _hmt.push(["_trackEvent", "\u67e5\u770b\u5956\u54c1", "\u67e5\u770b\u5956\u54c1"])
    }), $(".lottery .box").on("touchstart", function() {
        $(".lottery .btn-diy").addClass("fadeOutDown")
    }), $(".success .btn-group .btn-1").first().off(a).on(a, function() {
        var c = $(this),
            d = $("#name"),
            e = $("#tel"),
            f = $("#addr");
        return d.val().length < 2 ? (alert("\u59d3\u540d\u586b\u5199\u9519\u8bef"), void d.focus()) : tp.util.ismobile(e.val()) ? f.val().length < 4 ? (alert("\u5730\u5740\u586b\u5199\u9519\u8bef"), void f.focus()) : void $.ajax({
            url: "./main.php?action=userinfo",
            type: "post",
            data: {
                name: d.val(),
                tel: e.val(),
                addr: f.val(),
                openid: b.openid
            },
            success: function(b) {
                return 200 != b.ret ? void alert(b.msg) : ($(".form").html("<div class='tips'>\u63d0\u4ea4\u8d44\u6599\u6210\u529f</div>"), c.off(a).on(a, function() {
                    $(".page").removeClass("curr"), $(".choose").addClass("curr").animteOneByOne()
                }).children("b").text("\u518d\u73a9\u4e00\u6b21"), console.log(b), void _hmt.push(["_trackEvent", "\u63d0\u4ea4\u8d44\u6599\u6210\u529f", "\u63d0\u4ea4\u8d44\u6599\u6210\u529f"]))
            }
        }) : (alert("\u624b\u673a\u53f7\u7801\u586b\u5199\u9519\u8bef"), void e.focus())
    }).children("b").text("\u63d0\u4ea4\u8d44\u6599"), $(".success .btn-group .btn-2").off(a).on(a, function() {
        f({
            text: "<p class='shareimg'><img src='" + c + "assets/images/share.png'></p>"
        })
    }).children("b").text("\u70ab\u8000\u4e00\u4e0b");
    var m = new tp.audio({
        src: "assets/media/bg.mp3"
    });
    $(".music").off(a).on(a, function() {
        m.paused ? (m.play(), $(".music").attr("src", c + "assets/images/music-on.png"), _hmt.push(["_trackEvent", "\u97f3\u4e50\u6253\u5f00", "\u97f3\u4e50\u6253\u5f00"])) : (m.pause(), $(".music").attr("src", c + "assets/images/music-off.png"), _hmt.push(["_trackEvent", "\u97f3\u4e50\u5173\u95ed", "\u97f3\u4e50\u5173\u95ed"]))
    }), tp.tongji("e45c57feec0f39d47fd56a65afcbb8bd")
});
