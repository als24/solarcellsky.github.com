define("activity/5zhounian/shake/shakeFat",["require","./pixi","./util","./global","./portal"],function(require){function t(){var t=0,e=0;u.view.addEventListener("touchstart",function(e){var r=e.touches[0];t=r.pageY});var r=function(){var t=0;return function(e){t=setTimeout(function(){if(e)clearTimeout(t);i.scroll(e,1)},200)}}();u.view.addEventListener("touchmove",function(i){var n=i.touches[0];e=n.pageY;var o=t-e;if(0>o||o>0&&document.body.scrollTop+document.documentElement.clientHeight<$(document).height())r(o)})}function e(){if(window.requestAnimationFrame(e),p.currentStage.animate)p.currentStage.animate();u.render(p.currentStage)}var r=require("./pixi"),i=require("./util"),n=require("./global"),o=window.innerWidth,s=window.innerHeight,a=n.constants.targetWidth,h=n.constants.targetHeight;if(o/s>a/h)s=s*(o/s)/(a/h);var l=window.devicePixelRatio>2?2:window.devicePixelRatio,u=r.autoDetectRenderer(o,s,{transparent:!0,autoResize:!0,resolution:l});u.interactive=!0,document.body.appendChild(u.view);var c=$(".loop-audio");if(c.length)c[0].play();$(u.view).one("touchstart",function(){if(c.length&&$.os.ios)c[0].play()});var p=n.stage,d=require("./portal");p.loadNewStage(d),e(),t()});