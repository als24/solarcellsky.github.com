function Base64(){_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(e){var t,a,r,n,o,i,s,c="",d=0;for(e=_utf8_encode(e);d<e.length;)t=e.charCodeAt(d++),a=e.charCodeAt(d++),r=e.charCodeAt(d++),n=t>>2,o=(3&t)<<4|a>>4,i=(15&a)<<2|r>>6,s=63&r,isNaN(a)?i=s=64:isNaN(r)&&(s=64),c=c+_keyStr.charAt(n)+_keyStr.charAt(o)+_keyStr.charAt(i)+_keyStr.charAt(s);return c},this.decode=function(e){var t,a,r,n,o,i,s,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)n=_keyStr.indexOf(e.charAt(d++)),o=_keyStr.indexOf(e.charAt(d++)),i=_keyStr.indexOf(e.charAt(d++)),s=_keyStr.indexOf(e.charAt(d++)),t=n<<2|o>>4,a=(15&o)<<4|i>>2,r=(3&i)<<6|s,c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(a)),64!=s&&(c+=String.fromCharCode(r));return c=_utf8_decode(c)},_utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var r=e.charCodeAt(a);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode=function(e){for(var t="",a=0,r=c1=c2=0;a<e.length;)r=e.charCodeAt(a),128>r?(t+=String.fromCharCode(r),a++):r>191&&224>r?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&r)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),a+=3);return t}}!function(){function e(e){if(!e||3001==e.errno)return $("#smsLogin .pass-msg-generalMsgWrapper").addClass("pass-msg-generalError").text(e.msg),void setTimeout(function(){$("#smsLogin .pass-msg-generalMsgWrapper").addClass("pass-msg-generalError").text(e.msg)},15e3);if(!e||0!=e.errno)return void shakeFail(e);if(0!=e.data.isHit){var t=e.data,a="",r="";if(t.price&&$(".pricenum").text(t.price),t.tips?$(".succ .decr").text(t.tips).removeClass("hide"):t.startTime&&t.expireTime&&(r=formatDate(new Date(t.startTime))+"-"+formatDate(new Date(t.expireTime)),$(".succ .decr").text(r).removeClass("hide")),t.shareinfo&&""==APPCONF.shareinfo&&(APPCONF.shareinfo=t.shareinfo,Share(),"na"===APPCONF.terminal)){var n=$("#sharenm").attr("href"),o=n.split("&platform");n=o[0]+encodeURIComponent("&from_share=1&shareinfo="+APPCONF.shareinfo)+"&platform"+o[1],$("#sharenm").attr("href",n)}t.phone&&/^(13[0-9]|15[0-9]|17[678]|18[0-9]|14[57])\d{8}$/.test(t.phone)?(oValue.phone=t.phone,a=/^(\d{3})(.*?)(\d{4})$/.exec(oValue.phone),a="手机号"+a[1]+"****"+a[3]+"的"):a="您的",$(".phone").text(a),$(".loading").addClass("visibility"),$(".winning").addClass("fadeOutDown"),$('input[name="password"]').val(""),$(".succ .monad").addClass("hide"),$(".succ").removeClass("hide").addClass("fadeInDown"),statistics({page:'"shake_'+APPCONF.terminal+'"',area:'"get"'})}}var t=function(e,t){var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),a.appendChild(r);var n=function(){"function"==typeof t&&t()};document.all?r.onreadystatechange=function(){("loaded"==r.readyState||"complete"==r.readyState)&&n()}:r.onload=function(){n()}};Zepto&&($.getScript=t),$.getScript("http://wappass.baidu.com/static/touch/js/api/wrapper.js?cdnversion="+(new Date).getTime(),function(){var t;"0"==APPCONF.isLogin&&passport.use("smsLogin",{library:!1,defaultCss:!1},function(a){var r=(window.location.protocol+"//"+window.location.host,{});r="shouzhu"==APPCONF.terminal?{product:"appsearch",connect:1,memberPass:!0,staticPage:window.location.protocol+"//"+window.location.host+"/static/event-wap/shake_duang_150407/js/v3jump.html"}:{product:"nuomi",jumpBindCheck:1,memberPass:!0,staticPage:window.location.protocol+"//"+window.location.host+"/static/event-wap/shake_duang_150407/js/v3jump.html"},t=new a.passport.smsLogin(r),t.on("render",function(e){e.returnValue=!1,$('input[name="mobilenum"]').attr("placeholder","请输入手机号领取"),$('input[name="password"]').attr("placeholder","输入验证码"),$(".pass-button-send").val("获取验证码"),APPCONF.price&&$(".pricenum").text(APPCONF.price),("other"===APPCONF.terminal||"shouzhu"===APPCONF.terminal)&&(oValue.flag=!1,$(".winning").removeClass("hide").addClass("fadeInDown"))}),t.on("loginSuccess",function(t){t.returnValue=!1;var a=$("#smsLogin .pass-text-input-mobilenum").val(),r=new Base64;oValue.phone=a,oValue.bdu=r.encode(t.rsp.data.bdu),$.ajax("other"===APPCONF.terminal?{url:"/actcenter/oneshake/othershakeget",timeout:8e3,type:"POST",dataType:"json",cache:!1,data:{actid:oValue.actid,channel:oValue.channel,bdusign:oValue.bdu,phone:a},success:function(t){e(t)},error:function(e){shakeFail(e)},complete:function(){}}:{url:"/actcenter/oneshake/shakeget",timeout:8e3,type:"POST",dataType:"json",cache:!1,data:{actid:oValue.actid,channel:oValue.channel,bdusign:oValue.bdu,phone:a,r:oValue.r,t:oValue.t,s:oValue.s,trackid:oValue.track_id},success:function(t){e(t)},error:function(e){shakeFail(e)},complete:function(){}}),oValue.flag=!1}),t.render("smsLogin")})})}();