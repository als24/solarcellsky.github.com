define("util-m-swipe@0.2.5/index",[],function(t,n,e){function i(t,n){function e(){h=w.children,m=new Array(h.length),E=t.getBoundingClientRect().width||t.offsetWidth,w.style.width=h.length*E+"px";for(var n=h.length;n--;){var e=h[n];e.style.width=E+"px",e.setAttribute("data-index",n),f.transitions&&(e.style.left=n*-E+"px",o(n,b>n?-E:n>b?E:0,0))}f.transitions||(w.style.left=b*-E+"px"),t.style.visibility="visible"}function i(){b?r(b-1):n.continuous&&r(h.length-1)}function a(){b<h.length-1?r(b+1):n.continuous&&r(0)}function r(t,e){if(b!=t){if(f.transitions){for(var i=Math.abs(b-t)-1,a=Math.abs(b-t)/(b-t);i--;)o((t>b?t:b)-i-1,E*a,0);o(b,E*a,e||x),o(t,0,e||x)}else c(b*-E,t*-E,e||x);b=t,v(n.callback&&n.callback(b,h[b]))}}function o(t,n,e){s(t,n,e),m[t]=n}function s(t,n,e){var i=h[t],a=i&&i.style;if(a){var r=a["-webkit-transform"]&&a["-webkit-transform"].match(/scale\([\d.]+\)/);r&&"scale(1)"!=r[0]||(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=e+"ms",a.webkitTransform="translate("+n+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+n+"px)")}}function c(t,e,i){if(!i)return void(w.style.left=e+"px");var a=+new Date,r=setInterval(function(){var o=+new Date-a;return o>i?(w.style.left=e+"px",y&&d(),n.transitionEnd&&n.transitionEnd.call(event,b,h[b]),void clearInterval(r)):void(w.style.left=(e-t)*(Math.floor(o/i*100)/100)+t+"px")},4)}function d(){p=setTimeout(a,y)}function u(){clearTimeout(p)}var l=function(){},v=function(t){setTimeout(t||l,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(t){var h,m,E,w=t.children[0];n=n||{};var b=parseInt(n.startSlide,10)||0,x=n.speed||300;n.continuous=n.continuous?n.continuous:!0;var p,T,y=n.auto||0,L={},g={},k={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":v(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":v(this.transitionEnd(t));break;case"resize":v(e.call())}n.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];L={x:n.pageX,y:n.pageY,time:+new Date},T=void 0,g={},w.addEventListener("touchmove",this,!1),w.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){n.disableScroll&&t.preventDefault();var e=t.touches[0];g={x:e.pageX-L.x,y:e.pageY-L.y},"undefined"==typeof T&&(T=!!(T||Math.abs(g.x)<Math.abs(g.y))),T||(t.preventDefault(),u(),g.x=g.x/(!b&&g.x>0||b==h.length-1&&g.x<0?Math.abs(g.x)/E+1:1),s(b-1,g.x+m[b-1],0),s(b,g.x+m[b],0),s(b+1,g.x+m[b+1],0))}},end:function(){var t=+new Date-L.time,e=Number(t)<250&&Math.abs(g.x)>20||Math.abs(g.x)>E/2,i=!b&&g.x>0||b==h.length-1&&g.x<0,a=g.x<0;T||(e&&!i?(a?(o(b-1,-E,0),o(b,m[b]-E,x),o(b+1,m[b+1]-E,x),b+=1):(o(b+1,E,0),o(b,m[b]+E,x),o(b-1,m[b-1]+E,x),b+=-1),n.callback&&n.callback(b,h[b])):(o(b-1,-E,x),o(b,0,x),o(b+1,E,x))),w.removeEventListener("touchmove",k,!1),w.removeEventListener("touchend",k,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==b&&(y&&d(),n.transitionEnd&&n.transitionEnd.call(t,b,h[b]))}};return e(),y&&d(),f.addEventListener?(f.touch&&w.addEventListener("touchstart",k,!1),f.transitions&&(w.addEventListener("webkitTransitionEnd",k,!1),w.addEventListener("msTransitionEnd",k,!1),w.addEventListener("oTransitionEnd",k,!1),w.addEventListener("otransitionend",k,!1),w.addEventListener("transitionend",k,!1)),window.addEventListener("resize",k,!1)):window.onresize=function(){e()},n.callback&&n.callback(n.startSlide||0,h[n.startSlide||0]),{setup:function(){e()},slide:function(t,n){r(t,n)},prev:function(){u(),i()},next:function(){u(),a()},getPos:function(){return b},kill:function(){u(),w.style.width="auto",w.style.left=0;for(var t=h.length;t--;){var n=h[t];n.style.width="100%",n.style.left=0,f.transitions&&s(t,0,0)}f.addEventListener?(w.removeEventListener("touchstart",k,!1),w.removeEventListener("webkitTransitionEnd",k,!1),w.removeEventListener("msTransitionEnd",k,!1),w.removeEventListener("oTransitionEnd",k,!1),w.removeEventListener("otransitionend",k,!1),w.removeEventListener("transitionend",k,!1),window.removeEventListener("resize",k,!1)):window.onresize=null}}}}e.exports=i},{main:!0});