define("wepp-module-event@0.2.1/index",[],function(a,b,c){var d=Array.prototype.slice,e=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},f=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},g=0;_uniqueId=function(a){var b=++g+"";return a?a+b:b};var h={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!j(this,"once",a,[b,c])||!b)return this;var d=this,f=e(function(){d.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,c)},off:function(a,b,c){var d,e,f,g,h,i,k,l;if(!this._events||!j(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;for(g=a?[a]:Object.keys(this._events),h=0,i=g.length;i>h;h++)if(a=g[h],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=d.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;return c&&k(c,b),e&&k(e,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var g in d)a=d[g],a.off(b,c,this),(e||f(a._events))&&delete this._listeningTo[g];return this},extendTo:function(){d.call(arguments,0).forEach(function(a){for(var b in h)h.hasOwnProperty(b)&&"extendTo"!==b&&(a[b]=h[b])})}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};Object.keys(l).forEach(function(a){var b=l[a];h[a]=function(a,c,d){var e=this._listeningTo||(this._listeningTo={}),f=a._listenId||(a._listenId=_uniqueId("l"));return e[f]=a,d||"object"!=typeof c||(d=this),a[b](c,d,this),this}}),h.bind=h.on,h.unbind=h.off,c.exports=h},{main:!0});