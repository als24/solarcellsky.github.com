(function(a,e){e.baseCdnHost=location.protocol+"//g.alicdn.com/";var t=function(a,e,t){var i=document.createElement("script");i.type="text/javascript";if(t){i.setAttribute("charset",t)}i.src=a;if(navigator.userAgent.indexOf("MSIE")>-1){i.onreadystatechange=function(){var a=i.readyState;if(a==="loaded"||a==="complete"){e&&e()}}}else{i.onload=i.onerror=e}document.getElementsByTagName("head")[0].appendChild(i)};e.loadScript=t;e.loadCss=function(a){var e=document.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=a;document.getElementsByTagName("head")[0].appendChild(e)};var i=navigator.userAgent;var n=/AliApp\(TM\//.test(i);var o=/AliApp\(TB\//.test(i);function r(){var a,e="",t=document.scripts||document.getElementsByTagName("script"),i=/.+\/tmapp\/tida\/([^\/]+)\//;for(var n=t.length-1;n>=0;n--){var o=t[n].src;if(a=i.exec(o)){e=a&&a[1]||"";break}}if(/\d+\.\d+\.\d+/.test(e)){return e}else{return""}}e.version=r()||"2.1.86";var c=function(){if(a.TMM){var t=TMM.APP.call;TMM.APP.call=function(a,i,n,o,r){t(a,i,function(a){a.errorCode=a.errorCode||a.ret&&a.ret.retCod||a.code||0;a.errorMessage=a.ret&&a.ret.retMsg||"";n&&n(a)},function(a){a.errorCode=a.errorCode||a.ret&&a.ret.retCod||a.code||-1;a.errorMessage=a.ret&&a.ret.retMsg||"";o&&o(a)},r);e.newReport("/uaward.8.2","","api="+a,"H46747614")}}if(a.WindVane){var i=WindVane.call;WindVane.call=function(a,t,n,o,r,c){i(a,t,n,function(a){a.errorCode=a.errorCode||(a.ret&&a.ret=="HY_SUCCESS"?0:1)||0;o&&o(a)},function(a){a.errorCode=a.errorCode||-1;r&&r(a)},c);var s=a+"."+t;if(s=="wopc.invoke"){s=n.apiName+"."+n.methodName}e.newReport("/uaward.8.2","","api="+s,"H46747614")}}a.Ali=e};var s={interactParams:{},appinfo:{isTmall:n,isTaobao:o,name:n?"tmall":o?"taobao":""},isSupportedApp:n||o,version:e.version,ready:function(r,s){var d=function(){c();s&&s()};var l={cache:1,debug:0,combo:1};if(typeof r=="function"){d=r;r=l}for(var p in r){if(typeof r[p]!="undefined"){l[p]=r[p]}}var m=function(a){var i=["mtb/lib-env/1.4.1/env.js"].concat(a);var n=e.baseCdnHost;if(l.debug||e.getParam("tida-debug")==1){l.combo=0;n="//g-assets.daily.taobao.net/";n=(location.protocol=="file:"?"":"")+n}if(l.combo){t(n+"??"+i.join(","),function(){e.baseInit&&e.baseInit();d&&d()})}else{var o=0;for(var r=0;r<i.length;r++){t(n+i[r],function(){o++;if(o==i.length){e.baseInit&&e.baseInit();d&&d()}})}}};var u=["mtb/lib-windvane/2.0.0/windvane.js"];var f=a.TBAppLinkJsBridge||l.appLink;var g="tmall";if(n){u.push("mui/tmm/2.2.6/tmm.js")}else if(o){g="taobao"}else if(f){g="applink";l.module=["applink"]}var v="tmapp/tida/"+this.version+"/"+g+"/";var h=l.module;if(!h||h.length==0){h=["device","media","server","social","widget","sensor","share","draw","buy","award","im"]}h=["base"].concat(h);for(var b=0;b<h.length;b++){u.push(v+h[b]+".js")}if(f){u=["mtb/lib-httpurl/1.3.4/httpurl.js","mtb/lib-callapp/1.4.7/callapp.js",v+"applink.js"]}u=["tmapp/tida/"+this.version+"/config.js"].concat(u);if(/iPhone|iPod|Android/gi.test(i)){m(u)}else{m([])}var A=l.interactId||this.getParam("interactId");if(A){this.interactParams.interactId=A;this.getInitData(l.interactId)}},getParam:function(a,e){var t=a;e=e||location.href;if(e.indexOf("?")==-1||e.indexOf(t+"=")==-1){return""}e=e.split("#")[0];var i=e.substring(location.href.indexOf("?")+1);var n=i.split("&");var o,r,c;for(var s=0;s<n.length;s++){o=n[s].indexOf("=");if(o==-1){continue}r=n[s].substring(0,o);c=n[s].substring(o+1);if(r==t){return decodeURIComponent(c.replace(/\+/g," "))}}return""},_swapGame:function(){if(location.host.indexOf(".jaeapp.com")>-1&&location.host!="coolgame-1.play.m.jaeapp.com"&&location.host!="coolgame.play.m.jaeapp.com"){e.newReport("/uaward.8.2","","api=Tida._swapGame","H46747614");location.href="//m.tmall.com/channel/act/common/swap-game.html"+location.search}},getInitData:function(i){if(!i){return}a.initCB=function(t){if(t&&t.success&&t.data){e.interactData=t.data;var i=t.data;if(!i.active){}}else if(t&&(t.error=="IE008"||t.error=="IE001")){}try{delete a.initCB}catch(n){a.initCB=null}};t("//latour.taobao.com/interact/initInteract.do?callback=initCB&interactId="+i,function(){},"gbk")},reportToMmstat:function(t){var i=encodeURIComponent(navigator.userAgent.replace(/.*AliApp\(((TM|TB)\/\d+\.\d+\.\d+)\).*/gi,"$1"));var n=["domain="+location.host,"app="+i.substr(0,10),"interactid="+(e.interactParams.interactId||e.getParam("interactId")),"cache="+Math.random()+"_"+(new Date).getTime()];var o={"6.1.33":"H46807197","6.1.22":"H46807196","6.1.1":"H46777383","6.1.11":"H46807174","6.1.4":"H46777407","6.1.3":"H46777406","6.1.2":"H46777405","6.1.6.1.1":"H46896547","6.1.7":"H46777410","6.1.77":"H46807201"};if(a.goldlog&&a.goldlog.record){goldlog.record("/tmwap."+t,"",n.join("&"),o[t]||"")}else{a.mmstatImg=(new Image).src="//wgo.mmstat.com/tmwap."+t+"?logtype=2&"+n.join("&")}},openClient:function(i,n){if(n=="tmall"){t(e.baseCdnHost+"tmapp/jump/1.0.11/appjump.js",function(){appjump.go({href:'tmall://tmallclient/?{"action":"link:url='+i+'"}',fail:function(){a.open("http://m.laiwang.com/market/laiwang/tmall/app-download.php")}})})}else{t(e.baseCdnHost+"mtb/??lib-httpurl/1.3.2/httpurl.js,lib-callapp/1.4.4/callapp.js",function(){lib.callapp.gotoPage(i||"taobao://m.taobao.com")})}},newReport:function(e,t,i,n){var o=navigator.userAgent;var r=/AliApp\(TM\//.test(o);var c=/AliApp\(TB\//.test(o);var s=r?"tmall":c?"taobao":"other";var d=location.host.split(".")[0];var l=/iPhone|iPad|iPod|iwatch/gi.test(o)?"ios":/Android/gi.test(o)?"android":"other";(function(){a.goldlog?goldlog.record(e,t||"",i+"&client="+s+"&domain="+d+"&os="+l,n):setTimeout(arguments.callee,200)})()}};a.windvaneCall=function(a,t,i,n,o){a=a.split(".");var r=a[0],c=a[1];var s=t;if(document.domain.indexOf(".jaeapp.com")>-1){r="wopc";c="invoke";s={apiName:"Tida."+a[0],methodName:a[1],methodParam:t,appKey:e.interactParams&&e.interactParams.appkey}}WindVane&&WindVane.call(r,c,s,i,n,o)};for(var d in s){e[d]=s[d]}var l=e.baseCdnHost+"tmapp/tida/"+e.version;if(e.getParam("tida-debug")==1){l="//g-assets.daily.taobao.net/tmapp/tida/"+e.version}e.sourcePath=l;var p=function(){var n=document.getElementsByTagName("script");for(var o=0;o<n.length;o++){var r=n[o].getAttribute("src");var c=new RegExp("(^|&|\\?)appkey=([^&]*)(&|$)");if(r){var s=r.match(c);if(s){e.interactParams.appkey=s[2];break}}}var d=/iPhone|iPod|Android/gi.test(i);if(!d){t(l+"/??/config.js,/lib/juicer.js,/pc/modal/index.js,/pc/base.js,/pc/tpl/template.js,/pc/tida-web.js")}a.TMM&&TMM.APP.call("GlobalNavigation.show",["false"]);var p=e.getParam("shopId");if(p){a.khcshop=function(t){var i=document.querySelector("meta[name='share-intro']");var n=document.querySelector("meta[name='mobile-image']");var o=document.querySelector(".Tida-enter-header");if(t&&t.data){i&&i.setAttribute("content","\uff03\u5929\u732b\u53cc11\uff03\u8fd9\u91cc\u6709\u7ea2\u5305\uff0c\u8fd9\u91cc\u6709\u7ea2\u5305\uff0c\u8fd9\u91cc\u6709\u7ea2\u5305\u3002\u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d\u3002\u53cc11\u72c2\u6b22\u57ce\uff0c\u4ebf\u5143\u7ea2\u5305\u7b49\u4f60\u6765\u62a2\uff01");e.isKHCShop=1;if(o&&d){o.className="Tida-enter-header Tida-khc-header";var r='<div class="Tida-1111-logo"></div><div class="Tida-1111-tips"></div>';o.insertAdjacentHTML("afterBegin",r)}e.newReport("/uaward.8.3","","khc=1","H46747615")}else{i&&i.setAttribute("content","\uff03\u5929\u732b\u53cc11\uff03\u73a9\u53cc11\u6e38\u620f\uff0c\u8d62\u5e97\u94fa\u5927\u5956\uff01\u901f\u6765\uff01");var c=document.querySelector("meta[name='all-link']");if(c){var s="https://shop"+p+".taobao.com/?shop_tab_type=newitem&shop_origin="+e.getParam("shop_origin");c.setAttribute("content",s)}if(o){o.style.visibility="visible"}e.newReport("/uaward.8.3","","khc=0","H46747615")}a.khcshop=null};e.loadScript("//latour.taobao.com/carnivalcity/common/CheckShopId.do?callback=khcshop&shopId="+p)}else{var m=document.querySelector(".Tida-enter-header");if(m){m.style.visibility="visible"}e.newReport("/uaward.8.3","","khc=-1","H46747615")}};if(document.attachEvent){document.attachEvent("onreadystatechange",p)}else{a.addEventListener("DOMContentLoaded",p)}try{e.loadCss(l+"/ui/tida.css")}catch(m){}if(/windvane/gi.test(i)&&/iPhone|iPad|iPod|iwatch/gi.test(i)){var u=a.alert;a.alert=function(a){setTimeout(u,0,a)}}if(!/windvane/gi.test(i)){a.prompt=function(){return true}}e.newReport("/uaward.8.1","","","H46747592")})(window,window["Tida"]||(window["Tida"]={}));