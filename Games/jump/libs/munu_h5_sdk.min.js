munu = function(h) {
    var a = {}
      , f = document;
    a.init = function(d, b) {
        a.game_id = d;
        a.cur_folder = a.getCurFolder();
        a.cur_url = h.location.href.split("#")[0];
        a.url_data = a.GetRequest();
        if ("undefined" == typeof a.url_data.channel || null == a.url_data.channel || "" == a.url_data.channel)
            a.url_data.channel = b || "demo";
        "g2o" === a.url_data.channel && (a.g2o_url = "http://www.mun-u.com/1/api.php".replace("1", "g2o_api_test"))
    }
    ;
    a.addLiebaoAbroadAD = function(a, b) {
        (function(a, d, b, m, g, l, k, f) {
            "use strict";
            a[l] ? a[l] = a[l] : (a[l] = g,
            a[g] = a[g] || {},
            a[g].ready = function(a) {
                d.addEventListener("onCmGameApiReady", a, !1)
            }
            ,
            k = d.createElement(b),
            f = d.getElementsByTagName(b)[0]) && (k.async = 1) && (k.src = m) && f.parentNode.insertBefore(k, f)
        })(window, document, "script", "//h5game.cmcm.com/sdk/cm_game_sdk.js", "cm", "CmGameAPI");
        cm.ready(function() {
            window.cmcm_ad = cm.ad(a);
            cmcm_ad.show("mid")
        });
        (function(a, d, b, m, g, f, k) {
            a.GoogleAnalyticsObject = g;
            a[g] = a[g] || function() {
                (a[g].q = a[g].q || []).push(arguments)
            }
            ;
            a[g].l = 1 * new Date;
            f = d.createElement(b);
            k = d.getElementsByTagName(b)[0];
            f.async = 1;
            f.src = m;
            k.parentNode.insertBefore(f, k)
        })(window, document, "script", "//www.google-analytics.com/analytics.js", "ga");
        ga("create", b, "auto");
        ga("send", "pageview");
        showAD = function() {
            cmcm_ad.show("mid")
        }
    }
    ;
    a.addLiebaoAD = function(a, b) {
        var c = c || {
            use: function(a, d) {
                window.cmcm_task = [a, d]
            },
            ready: function(a) {
                window.cmcm_task = a || void 0
            }
        };
        (function() {
            var a = document.createElement("script");
            a.type = "text/javascript";
            a.src = ("https:" == document.location.protocol ? " https://" : " http://") + unescape("/www.liebao.cn/game/cm_game_sdk/cm_game_sdk.js");
            var d = document.getElementsByTagName("script")[0];
            d.parentNode.insertBefore(a, d);
            a.onload = function() {
                c.do()
            }
        })();
        var e = {
            gameid: a,
            ads: [1, 2]
        };
        c.ready(function() {
            c.get("module/cmgame-sdk", function(a) {
                window.cmcm_ad = new a(e)
            })
        })(function(a, d, b, c, e, f, h) {
            a.GoogleAnalyticsObject = e;
            a[e] = a[e] || function() {
                (a[e].q = a[e].q || []).push(arguments)
            }
            ;
            a[e].l = 1 * new Date;
            f = d.createElement(b);
            h = d.getElementsByTagName(b)[0];
            f.async = 1;
            f.src = c;
            h.parentNode.insertBefore(f, h)
        })(window, document, "script", "//www.google-analytics.com/analytics.js", "ga");
        ga("create", b, "auto");
        ga("send", "pageview");
        showAD = function() {
            try {
                cmcm_ad.show()
            } catch (a) {}
        }
    }
    ;
    a.addHHSdk = function(a) {
        (function() {
            var b = document.createElement("script");
            b.src = "//{0}.haihaigame.com/static/js/HHAPI-1.1.js?v\x3d".format(a ? "yuntest" : "game") + Date.now();
            var c = document.getElementsByTagName("script")[0];
            c.parentNode.insertBefore(b, c)
        })();
        (function() {
            document.addEventListener("HHReady", function() {
                console.log("HHReady loaded!");
                HHAPI.uploadScore(0)
            }, !1)
        })()
    }
    ;
    a.addHHStatistics = function() {
        var a = document.createElement("script");
        a.src = "//hm.baidu.com/hm.js?c62c6ec5cf24004b58c745af5fc2b619";
        var b = document.getElementsByTagName("script")[0];
        b.parentNode.insertBefore(a, b)
    }
    ;
    a.ready = function(a) {}
    ;
    a.debug = !1;
    a.getcookie = function(a) {
        var b;
        return (b = f.cookie.match(RegExp("(^| )" + a + "\x3d([^;]*)(;|$)"))) ? decodeURIComponent(b[2]) : null
    }
    ;
    a.setCookie = function(a, b) {
        var c = new Date;
        c.setTime(c.getTime() + 2592E6);
        f.cookie = a + "\x3d" + encodeURIComponent(b) + ";expires\x3d" + c.toGMTString()
    }
    ;
    a.GetQueryString = function(a) {
        a = RegExp("(^|\x26)" + a + "\x3d([^\x26]*)(\x26|$)");
        a = h.location.search.substr(1).match(a);
        return null != a ? decodeURIComponent(a[2]) : null
    }
    ;
    a.GetRequest = function() {
        var a = location.search
          , b = {};
        if (-1 != a.indexOf("?"))
            for (strs = a.substr(1).split("\x26"),
            a = 0; a < strs.length; a++)
                b[strs[a].split("\x3d")[0]] = strs[a].split("\x3d")[1];
        return b
    }
    ;
    a.isWeiXin = function() {
        return "micromessenger" == h.navigator.userAgent.toLowerCase().match(/MicroMessenger/i) ? !0 : !1
    }
    ;
    String.prototype.format = function() {
        var a = arguments;
        return this.replace(/\{(\d+)\}/g, function(b, c) {
            return a[c]
        })
    }
    ;
    a.log = function() {
        console.log()
    }
    ;
    a.getSign = function(a, b) {
        var c = [], e;
        for (e in a) {
            var f = a[e];
            "sign" != e && c.push(e + "\x3d" + f + "\x26")
        }
        c.sort();
        c = c.join("");
        c = c.substr(0, c.length - 1);
        return [faultylabs.MD5(c + b).toLowerCase(), c]
    }
    ;
    a.addMd5Js = function(d) {
        a.loadJs("http://www.mun-u.com/h5/munu_sdk/lib/md5.js", d)
    }
    ;
    a.showShare = function() {
        console.log(typeof mobShare);
        a.isWeiXin() ? a.share_layer ? a.share_layer.style.display = "inline" : a.createShaerLayer() : "undefined" != typeof mobShare && mobShare.ui.open()
    }
    ;
    a.initShare = function(d, b, c, e) {
        a.share_url = d || a.cur_url;
        a.share_title = b;
        a.share_desc = c;
        a.share_img = e || a.getCurFolder() + "res/icon.png";
        a.setShare()
    }
    ;
    a.createShaerLayer = function() {
        var d = document.createElement("div");
        d.style.cssText = "background:rgba(0,0,0,0.8); position:fixed;top:0px; left:0px; width:100%; height:" + document.documentElement.clientHeight + "px; z-index:10000; display:none;";
        d.id = "share-wx";
        d.className = "ewm_fenxiang";
        d.onclick = closeshare;
        document.body.appendChild(d);
        wxqrP1 = document.createElement("div");
        wxqrP1.className = "fenxiang1";
        wxqrP1.innerHTML = "\x3cdiv style\x3d'max-width:640px;width:100%; margin:auto;'\x3e\x3cdiv class\x3d'yaoqing' \x3e\x3cimg src\x3d'/resources/images/ewm_share.png'\x3e\x3c/div\x3e\x3cdiv class\x3d'ewm_content'\x3e\x3cdiv class\x3d'ewm_content_1'\x3e\x3cdiv class\x3d'ewm_content_1_a' id\x3d'ewm_share_headimg'\x3e\x3cimg  width\x3d'92' height\x3d'92'\x3e\x3c/div\x3e\x3cdiv class\x3d'ewm_content_1_b'\x3e\x3cp id\x3d'ewm_share_msg'style\x3d'color: rgb(255, 255, 255)'\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d'guanbi1'\x3e\x3cimg src\x3d'/resources/images/xijie/ewm_close.png' width\x3d'64' height\x3d'64'\x3e\x3c/div\x3e\x3cp class\x3d'clear'\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d'ewm_content_2' id\x3d'ewm_share_url'\x3e\x3cimg  \x3e\x3c/div\x3e\x3cdiv  class\x3d'ewm_content_3'\x3e\x3cp id\x3d'ewm_share_words' style\x3d'text-align: center;color: rgb(255, 255, 255)'\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
        d.appendChild(wxqrP1);
        wxqrP4 = document.createElement("div");
        isMobile() ? wxqrP4.style.cssText = "text-align:center;width:212px;padding-top:20px;margin:0 auto;font: bold 20px Arial, Helvetica, sans-serif" : wxqrP4.style.cssText = "text-align:center;width:265px;padding-top:20px;margin:0 auto;font: bold 20px Arial, Helvetica, sans-serif";
        wxqrP1.appendChild(wxqrP4);
        blackCanvas.appendChild(share_label);
        blackCanvas.onclick = function() {
            blackCanvas.style.display = "none"
        }
        ;
        a.share_layer = blackCanvas
    }
    ;
    a.setShare = function() {
        "huowu" == a.url_data.channel ? ih5game.setShare({
            link: "index.html",
            img: "resource/assets/icon.png",
            title: a.share_title,
            desc: a.share_desc
        }) : a.isWeiXin() ? a.wxReady ? a.share_wx() : a.loadJs("http://res.wx.qq.com/open/js/jweixin-1.0.0.js", function(d) {
            a.xhrPost("http://www.mun-u.com/wx/wx_sign.php", ["url\x3d" + encodeURIComponent(h.location.href.split("#")[0])], function(b, d) {
                a.init_wx(b)
            })
        }) : "undefined" != typeof mobShare ? mobShare.config({
            debug: a.debug,
            appkey: "bb01a7ef8234",
            params: {
                url: a.share_url,
                title: a.share_title,
                description: a.share_desc,
                pic: a.share_img
            },
            callback: function(d, b) {
                console.log("setShare_callback");
                "g2o" == a.url_data.channel && a.shareStats(d)
            }
        }) : (f.body.innerHTML = '\x3cdiv class\x3d"-mob-share-ui -mob-share-ui-theme -mob-share-ui-theme-slide-bottom" style\x3d"display: none"\x3e\x3cul class\x3d"-mob-share-list"\x3e\x3cli class\x3d"-mob-share-weibo"\x3e\x3cp\x3e\u65b0\u6d6a\u5fae\u535a\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"-mob-share-tencentweibo"\x3e\x3cp\x3e\u817e\u8baf\u5fae\u535a\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"-mob-share-qzone"\x3e\x3cp\x3eQQ\u7a7a\u95f4\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"-mob-share-weixin"\x3e\x3cp\x3e\u5fae\u4fe1\x3c/p\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"-mob-share-close"\x3e\u53d6\u6d88\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"-mob-share-ui-bg"\x3e\x3c/div\x3e' + f.body.innerHTML,
        a.loadJs("http://f1.webshare.mob.com/code/mob-share.js?appkey\x3dbb01a7ef8234", a.setShare, "-mob-share"))
    }
    ;
    a.shareStats = function(d) {
        console.log("shareStats", d);
        var b = a.url_data.userid
          , c = a.url_data.gameid;
        "undefined" != typeof b && null != b && "" != b && "undefined" != typeof c && null != c && "" != c && (faultylabs ? (b = {
            api: "user_share_game",
            userid: b,
            gameid: c,
            plat: d
        },
        c = a.getSign(b, "munu-g2o"),
        b.sign = c[0],
        $.ajax({
            type: "post",
            data: b,
            url: a.g2o_url,
            dataType: "json",
            async: !1,
            success: function(a) {
                a.status && console.log("shareStats")
            },
            error: function(a) {
                console.log("error:", a.status)
            }
        })) : a.loadJs("http://www.mun-u.com/h5/munu_sdk/lib/md5.js", function() {
            a.shareStats(d)
        }))
    }
    ;
    a.getCurFolder = function() {
        var a = h.location.href.split("?")[0].split("/");
        a[a.length - 1] = null ;
        return a.join("/")
    }
    ;
    a.loadJs = function(a, b, c) {
        var e = f.createElement("script");
        c && (e.id = c);
        b && (e.onload = e.onreadystatechange = function(a, c) {
            e = e.onload = e.onreadystatechange = null ;
            c || b(200, "success")
        }
        );
        e.src = a;
        f.getElementsByTagName("head")[0].appendChild(e)
    }
    ;
    a.initDataStats = function(d, b) {
        "undefined" != typeof DCAgent ? (b = b || 1,
        1 == b ? DCAgent.init({
            appId: d,
            appVer: "v1.0.0",
            channel: a.url_data.channel,
            interval: 30,
            virus: !1
        }) : DCAgent.init({
            appId: d,
            channel: a.url_data.channel
        })) : a.loadJs("http://www.mun-u.com/h5/munu_sdk/lib/dcagent.min.js", function(c) {
            console.log("initDataStats");
            a.initDataStats(d, b)
        })
    }
    ;
    a.xhrPost = function(a, b, c) {
        var e = new XMLHttpRequest;
        e.onerror = function() {}
        ;
        e.onreadystatechange = function(a, b) {
            4 == e.readyState && c && "function" === typeof c && c(JSON.parse(e.responseText), a)
        }
        ;
        e.open("POST", a, !0);
        e.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        e.send(b.join("\x26"))
    }
    ;
    a.uploadScore = function(d, b) {
        var c = a.url_data.userid
          , e = a.url_data.gameid;
        console.log("userid:", c, "gameid:", c);
        "undefined" != typeof c && null != c && "" != c && "undefined" != typeof e && null != e && "" != e && ("undefined" == typeof faultylabs ? a.loadJs("http://www.mun-u.com/h5/munu_sdk/lib/md5.js", function() {
            a.uploadScore(d, b)
        }) : (b = b || 0,
        c = {
            api: "game_up_score",
            userid: c,
            gameid: e,
            score: d,
            gold: b
        },
        e = a.getSign(c, "munu-g2o"),
        c.sign = e[0],
        $.ajax({
            type: "post",
            data: c,
            url: a.g2o_url,
            dataType: "json",
            async: !1,
            success: function(a) {
                a.status && (parent._trigger(),
                console.log("success:"))
            },
            error: function(a) {
                console.log("error:", a.status)
            }
        })))
    }
    ;
    a.share_wx = function() {
        if (a.wxReady) {
            var d = function() {}
            ;
            wx.onMenuShareAppMessage({
                title: a.share_title,
                desc: a.share_desc,
                link: a.share_url,
                imgUrl: a.share_img,
                success: function() {
                    DCAgent.onEvent("wx_share", 1, {
                        shareType: "AppMessage"
                    });
                    "g2o" == a.url_data.channel && a.shareStats(plat)
                },
                cancel: d
            });
            wx.onMenuShareTimeline({
                title: a.share_desc,
                link: a.share_url,
                imgUrl: a.share_img,
                success: function() {
                    DCAgent.onEvent("wx_share", 1, {
                        shareType: "Timeline"
                    });
                    "g2o" == a.url_data.channel && a.shareStats(plat)
                },
                cancel: d
            });
            wx.onMenuShareQQ({
                title: a.share_title,
                desc: a.share_desc,
                link: a.share_url,
                imgUrl: a.share_img,
                success: function() {
                    DCAgent.onEvent("wx_share", 1, {
                        shareType: "QQ"
                    });
                    "g2o" == a.url_data.channel && a.shareStats(plat)
                },
                cancel: d
            });
            wx.onMenuShareQZone({
                title: a.share_title,
                desc: a.share_desc,
                link: a.share_url,
                imgUrl: a.share_img,
                success: function() {
                    DCAgent.onEvent("wx_share", 1, {
                        shareType: "QZone"
                    });
                    "g2o" == a.url_data.channel && a.shareStats(plat)
                },
                cancel: d
            });
            wx.onMenuShareWeibo({
                title: a.share_title,
                desc: a.share_desc,
                link: a.share_url,
                imgUrl: a.share_img,
                success: function() {
                    DCAgent.onEvent("wx_share", 1, {
                        shareType: "Weibo"
                    });
                    "g2o" == a.url_data.channel && a.shareStats(plat)
                },
                cancel: d
            })
        }
    }
    ;
    a.init_wx = function(d) {
        wx.config({
            debug: a.debug,
            appId: d.appId,
            timestamp: d.timestamp,
            nonceStr: d.nonceStr,
            signature: d.signature,
            jsApiList: "checkJsApi onMenuShareTimeline onMenuShareAppMessage onMenuShareQQ onMenuShareWeibo getNetworkType".split(" ")
        });
        wx.ready(function() {
            a.wxReady = !0;
            a.share_wx()
        });
        wx.error(function(a) {})
    }
    ;
    a.func_list = {};
    a.jsonp = function(a, b, c) {}
    ;
    a.config = function(a, b) {}
    ;
    a.loadCss = function(a) {
        var b = f.createElement("link");
        b.setAttribute("rel", "stylesheet");
        b.setAttribute("type", "text/css");
        b.setAttribute("href", a);
        f.getElementsByTagName("head")[0].appendChild(b)
    }
    ;
    a.createHoverBtn = function() {}
    ;
    a.showG2o = function() {
        window.location.href = a.url_data.urltype ? "http://www.mun-u.com/g2o_test/#/game" : "http://www.mun-u.com/g2o/game.html"
    }
    ;
    a.getGoldConf = function(d, b) {
        var c = a.url_data.userid
          , e = a.url_data.gameid;
        console.log("getGoldConf", c, e);
        "undefined" != typeof c && null != c && "" != c && "undefined" != typeof e && null != e && "" != e && ("undefined" == typeof faultylabs ? a.loadJs("http://www.mun-u.com/h5/munu_sdk/lib/md5.js", function() {
            a.getGoldConf(d, b)
        }) : (c = {
            api: "game_gold_conf",
            userid: c,
            gameid: e
        },
        e = a.getSign(c, "munu-g2o"),
        c.sign = e[0],
        $.ajax({
            type: "post",
            data: c,
            url: a.g2o_url,
            dataType: "json",
            async: !0,
            success: function(a) {
                a.status && d && d.call(b, a.data)
            },
            error: function(a) {
                console.log("error:", a.status)
            }
        })))
    }
    ;
    return a
}(this);