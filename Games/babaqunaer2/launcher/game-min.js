var egret;
(function(a){a.egret_string_code={};a.egret_string_code[-1]="\u4e0d\u5b58\u5728\u7684stringId:{0}";a.egret_string_code[1E3]="Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";a.egret_string_code[1001]="\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";a.egret_string_code[1002]=
"egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";a.egret_string_code[1003]="Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";a.egret_string_code[1004]="ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";a.egret_string_code[1005]="\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
a.egret_string_code[1006]="child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";a.egret_string_code[1007]="\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";a.egret_string_code[1008]="child\u672a\u88abaddChild\u5230\u8be5parent";a.egret_string_code[1009]="\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";a.egret_string_code[1010]="addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";a.egret_string_code[1011]='BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
a.egret_string_code[1012]="egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";a.egret_string_code[1013]="TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";a.egret_string_code[1014]="Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";a.egret_string_code[1015]="xml not found!";a.egret_string_code[1016]="{0}\u5df2\u7ecf\u5e9f\u5f03";a.egret_string_code[1017]="JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";a.egret_string_code[1018]="egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
a.egret_string_code[1019]="\u7f51\u7edc\u5f02\u5e38:{0}";a.egret_string_code[1020]="\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";a.egret_string_code[1021]="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";a.egret_string_code[1022]="{0} ArgumentError";a.egret_string_code[1023]="\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";a.egret_string_code[1024]="\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";a.egret_string_code[1025]="\u9047\u5230\u6587\u4ef6\u5c3e";a.egret_string_code[1026]=
"EncodingError! The code point {0} could not be encoded.";a.egret_string_code[1027]="DecodingError";a.egret_string_code[1028]="\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";a.egret_string_code[1029]="Function.prototype.bind - what is trying to be bound is not callable";a.egret_string_code[1030]="\u8be5API\u5df2\u5e9f\u5f03";
a.egret_string_code[1031]="setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";a.egret_string_code[1032]="getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";a.egret_string_code[2E3]="RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";a.egret_string_code[2001]='RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';a.egret_string_code[3E3]="\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
a.egret_string_code[3001]="\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";a.egret_string_code[3002]='\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';a.egret_string_code[3003]="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";a.egret_string_code[3004]="addChild(){0}addElement()\u4ee3\u66ff";a.egret_string_code[3005]="addChildAt(){0}addElementAt()\u4ee3\u66ff";
a.egret_string_code[3006]="removeChild(){0}removeElement()\u4ee3\u66ff";a.egret_string_code[3007]="removeChildAt(){0}removeElementAt()\u4ee3\u66ff";a.egret_string_code[3008]="setChildIndex(){0}setElementIndex()\u4ee3\u66ff";a.egret_string_code[3009]="swapChildren(){0}swapElements()\u4ee3\u66ff";a.egret_string_code[3010]="swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";a.egret_string_code[3011]='\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';a.egret_string_code[3012]=
"\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";a.egret_string_code[3013]="UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";a.egret_string_code[4E3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";a.egret_string_code[4001]="Abstract class can not be instantiated!";a.egret_string_code[4002]="Unnamed data!";a.egret_string_code[4003]="Nonsupport version!";
a.egret_string_code[3100]="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";a.egret_string_code[3101]="\u8bf7\u5148\u8fde\u63a5WebSocket";a.egret_string_code[3102]="\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"})(egret||(egret={}));
(function(a){a.egret_string_code={};a.egret_string_code[-1]="\u4e0d\u5b58\u5728\u7684stringId:{0}";a.egret_string_code[1E3]="Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";a.egret_string_code[1001]="\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
a.egret_string_code[1002]="egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";a.egret_string_code[1003]="Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";a.egret_string_code[1004]="ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";a.egret_string_code[1005]="\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
a.egret_string_code[1006]="child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";a.egret_string_code[1007]="\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";a.egret_string_code[1008]="child\u672a\u88abaddChild\u5230\u8be5parent";a.egret_string_code[1009]="\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";a.egret_string_code[1010]="addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";a.egret_string_code[1011]='BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
a.egret_string_code[1012]="egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";a.egret_string_code[1013]="TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";a.egret_string_code[1014]="Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";a.egret_string_code[1015]="xml not found!";a.egret_string_code[1016]="{0}\u5df2\u7ecf\u5e9f\u5f03";a.egret_string_code[1017]="JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";a.egret_string_code[1018]="egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
a.egret_string_code[1019]="\u7f51\u7edc\u5f02\u5e38:{0}";a.egret_string_code[1020]="\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";a.egret_string_code[1021]="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";a.egret_string_code[1022]="{0} ArgumentError";a.egret_string_code[1023]="\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";a.egret_string_code[1024]="\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";a.egret_string_code[1025]="\u9047\u5230\u6587\u4ef6\u5c3e";a.egret_string_code[1026]=
"EncodingError! The code point {0} could not be encoded.";a.egret_string_code[1027]="DecodingError";a.egret_string_code[1028]="\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";a.egret_string_code[1029]="Function.prototype.bind - what is trying to be bound is not callable";a.egret_string_code[1030]="\u8be5API\u5df2\u5e9f\u5f03";
a.egret_string_code[1031]="setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";a.egret_string_code[1032]="getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";a.egret_string_code[2E3]="RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";a.egret_string_code[2001]='RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';a.egret_string_code[3E3]="\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
a.egret_string_code[3001]="\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";a.egret_string_code[3002]='\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';a.egret_string_code[3003]="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";a.egret_string_code[3004]="addChild(){0}addElement()\u4ee3\u66ff";a.egret_string_code[3005]="addChildAt(){0}addElementAt()\u4ee3\u66ff";
a.egret_string_code[3006]="removeChild(){0}removeElement()\u4ee3\u66ff";a.egret_string_code[3007]="removeChildAt(){0}removeElementAt()\u4ee3\u66ff";a.egret_string_code[3008]="setChildIndex(){0}setElementIndex()\u4ee3\u66ff";a.egret_string_code[3009]="swapChildren(){0}swapElements()\u4ee3\u66ff";a.egret_string_code[3010]="swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";a.egret_string_code[3011]='\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';a.egret_string_code[3012]=
"\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";a.egret_string_code[3013]="UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";a.egret_string_code[4E3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";a.egret_string_code[4001]="Abstract class can not be instantiated!";a.egret_string_code[4002]="Unnamed data!";a.egret_string_code[4003]="Nonsupport version!";
a.egret_string_code[3100]="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";a.egret_string_code[3101]="\u8bf7\u5148\u8fde\u63a5WebSocket";a.egret_string_code[3102]="\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"})(egret||(egret={}));var __extends=this.__extends||function(a,g){function e(){this.constructor=a}for(var d in g)g.hasOwnProperty(d)&&(a[d]=g[d]);e.prototype=g.prototype;a.prototype=new e};
(function(a){function g(d){for(var c=[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];if(b=a.egret_string_code[d])for(var f=c.length,n=0;n<f;n++)b=b.replace("{"+n+"}",c[n]);return b}var e=function(){function d(){}d.openLogByType=function(a){null==d.logFuncs&&(d.logFuncs={error:console.error,debug:console.debug,warn:console.warn,info:console.info,log:console.log});switch(a){case d.OFF:console.error=function(){};case d.ERROR:console.warn=function(){};case d.WARN:console.info=function(){},console.log=
function(){};case d.INFO:console.debug=function(){}}switch(a){case d.ALL:console.debug=d.logFuncs.debug;case d.INFO:console.log=d.logFuncs.log,console.info=d.logFuncs.info;case d.WARN:console.warn=d.logFuncs.warn;case d.ERROR:console.error=d.logFuncs.error}};d.fatal=function(c,b){void 0===b&&(b=null);a.Logger.traceToConsole("Fatal",c,b);throw Error(a.Logger.getTraceCode("Fatal",c,b));};d.info=function(c,b){void 0===b&&(b=null);a.Logger.traceToConsole("Info",c,b)};d.warning=function(c,b){void 0===
b&&(b=null);a.Logger.traceToConsole("Warning",c,b)};d.fatalWithErrorId=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];b.unshift(a);(b=g.apply(null,b))?d.fatal(b):d.warning(g(-1,a))};d.infoWithErrorId=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];b.unshift(a);(b=g.apply(null,b))?d.info(b):d.warning(g(-1,a))};d.warningWithErrorId=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];b.unshift(a);(b=g.apply(null,b))?d.warning(b):d.warning(g(-1,
a))};d.traceToConsole=function(c,b,f){console.log(a.Logger.getTraceCode(c,b,f))};d.getTraceCode=function(a,b,f){return"["+a+"]"+b+(null==f?"":":"+f)};d.ALL="all";d.DEBUG="debug";d.INFO="info";d.WARN="warn";d.ERROR="error";d.OFF="off";return d}();a.Logger=e;e.prototype.__class__="egret.Logger";a.getString=g})(egret||(egret={}));
(function(a){var g=function(){function a(){this._hashCode=a.hashCount++}Object.defineProperty(a.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0});a.hashCount=1;return a}();a.HashObject=g;g.prototype.__class__="egret.HashObject"})(egret||(egret={}));
(function(a){var g=function(a){function d(b){void 0===b&&(b=300);a.call(this);this.objectPool=[];this._length=0;1>b&&(b=1);this.autoDisposeTime=b;this.frameCount=0}__extends(d,a);var c=d.prototype;c._checkFrame=function(){this.frameCount--;0>=this.frameCount&&this.dispose()};Object.defineProperty(c,"length",{get:function(){return this._length},enumerable:!0,configurable:!0});c.push=function(b){var f=this.objectPool;-1==f.indexOf(b)&&(f.push(b),b.__recycle&&b.__recycle(),this._length++,0==this.frameCount&&
(this.frameCount=this.autoDisposeTime,d._callBackList.push(this)))};c.pop=function(){if(0==this._length)return null;this._length--;return this.objectPool.pop()};c.dispose=function(){0<this._length&&(this.objectPool=[],this._length=0);this.frameCount=0;var b=d._callBackList,f=b.indexOf(this);-1!=f&&b.splice(f,1)};d._callBackList=[];return d}(a.HashObject);a.Recycler=g;g.prototype.__class__="egret.Recycler"})(egret||(egret={}));
(function(a){a.__START_TIME;a.getTimer=function(){return Date.now()-a.__START_TIME}})(egret||(egret={}));
(function(a){a.__callLaterFunctionList=[];a.__callLaterThisList=[];a.__callLaterArgsList=[];a.callLater=function(g,e){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];a.__callLaterFunctionList.push(g);a.__callLaterThisList.push(e);a.__callLaterArgsList.push(d)};a.__callAsyncFunctionList=[];a.__callAsyncThisList=[];a.__callAsyncArgsList=[];a.__callAsync=function(g,e){for(var d=[],c=2;c<arguments.length;c++)d[c-2]=arguments[c];a.__callAsyncFunctionList.push(g);a.__callAsyncThisList.push(e);
a.__callAsyncArgsList.push(d)}})(egret||(egret={}));
(function(a){var g=function(){function e(){}var d=e.prototype;d.call=function(a){this.callback&&this.callback.call(this.thisObject,a)};d.dispose=function(){this.thisObject=this.callback=null;e.__freeList.push(this)};e.push=function(c,b){var f;f=e.__freeList.length?e.__freeList.pop():new a.RenderCommand;f.callback=c;f.thisObject=b;a.MainContext.__DRAW_COMMAND_LIST.push(f)};e.__freeList=[];return e}();a.RenderCommand=g;g.prototype.__class__="egret.RenderCommand"})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f,a){void 0===f&&(f=!1);void 0===a&&(a=!1);e.call(this);this.data=null;this._type="";this._cancelable=this._bubbles=!1;this._eventPhase=2;this._target=this._currentTarget=null;this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1;this.isNew=!0;this._type=b;this._bubbles=f;this._cancelable=a}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});
Object.defineProperty(c,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0});Object.defineProperty(c,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0});Object.defineProperty(c,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0});Object.defineProperty(c,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0});Object.defineProperty(c,"target",{get:function(){return this._target},
enumerable:!0,configurable:!0});c.isDefaultPrevented=function(){return this._isDefaultPrevented};c.preventDefault=function(){this._cancelable&&(this._isDefaultPrevented=!0)};c.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)};c.stopImmediatePropagation=function(){this._bubbles&&(this._isPropagationImmediateStopped=!0)};c._reset=function(){this.isNew?this.isNew=!1:(this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1,this._currentTarget=
this._target=null,this._eventPhase=2)};c.__recycle=function(){this.data=this._target=this._currentTarget=null};d._dispatchByTarget=function(b,f,n,c,d,e){void 0===d&&(d=!1);void 0===e&&(e=!1);var g=b.eventRecycler;g||(g=b.eventRecycler=new a.Recycler);var k=g.pop();k?k._type=n:k=new b(n);k._bubbles=d;k._cancelable=e;if(c)for(var l in c)k[l]=c[l],null!==k[l]&&(c[l]=null);b=f.dispatchEvent(k);g.push(k);return b};d._getPropertyData=function(b){var f=b._props;f||(f=b._props={});return f};d.dispatchEvent=
function(b,f,a,c){void 0===a&&(a=!1);var t=d._getPropertyData(d);void 0!=c&&(t.data=c);d._dispatchByTarget(d,b,f,t,a)};d.ADDED_TO_STAGE="addedToStage";d.REMOVED_FROM_STAGE="removedFromStage";d.ADDED="added";d.REMOVED="removed";d.COMPLETE="complete";d.LOOP_COMPLETE="loopcomplete";d.ENTER_FRAME="enterFrame";d.RENDER="render";d.FINISH_RENDER="finishRender";d.FINISH_UPDATE_TRANSFORM="finishUpdateTransform";d.LEAVE_STAGE="leaveStage";d.RESIZE="resize";d.CHANGE="change";d.ACTIVATE="activate";d.DEACTIVATE=
"deactivate";d.CLOSE="close";d.CONNECT="connect";return d}(a.HashObject);a.Event=g;g.prototype.__class__="egret.Event"})(egret||(egret={}));
(function(a){var g=function(a){function d(c,b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);a.call(this,c,b,f);this._status=0}__extends(d,a);Object.defineProperty(d.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0});d.dispatchHTTPStatusEvent=function(a,b){null==d.httpStatusEvent&&(d.httpStatusEvent=new d(d.HTTP_STATUS));d.httpStatusEvent._status=b;a.dispatchEvent(d.httpStatusEvent)};d.HTTP_STATUS="httpStatus";d.httpStatusEvent=null;return d}(a.Event);a.HTTPStatusEvent=
g;g.prototype.__class__="egret.HTTPStatusEvent"})(egret||(egret={}));(function(a){var g=function(a){function d(c,b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);a.call(this,c,b,f)}__extends(d,a);d.SOUND_COMPLETE="soundComplete";return d}(a.Event);a.SoundEvent=g;g.prototype.__class__="egret.SoundEvent"})(egret||(egret={}));
(function(a){var g=function(a){function d(c,b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);a.call(this,c,b,f)}__extends(d,a);d.FOCUS_IN="focusIn";d.FOCUS_OUT="focusOut";return d}(a.Event);a.FocusEvent=g;g.prototype.__class__="egret.FocusEvent"})(egret||(egret={}));
(function(a){var g=function(e){function d(a,b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);e.call(this,a,b,f)}__extends(d,e);d.dispatchIOErrorEvent=function(c){a.Event._dispatchByTarget(d,c,d.IO_ERROR)};d.IO_ERROR="ioError";return d}(a.Event);a.IOErrorEvent=g;g.prototype.__class__="egret.IOErrorEvent"})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f,a,c,d,g,h,k,l,m){void 0===f&&(f=!0);void 0===a&&(a=!0);void 0===c&&(c=0);void 0===d&&(d=0);void 0===g&&(g=0);void 0===h&&(h=!1);void 0===k&&(k=!1);void 0===m&&(m=!1);e.call(this,b,f,a);this._stageY=this._stageX=0;this.touchPointID=NaN;this.touchDown=this.altKey=this.shiftKey=this.ctrlKey=!1;this.touchPointID=c;this._stageX=d;this._stageY=g;this.ctrlKey=h;this.altKey=k;this.touchDown=m}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"stageX",{get:function(){return this._stageX},
enumerable:!0,configurable:!0});Object.defineProperty(c,"stageY",{get:function(){return this._stageY},enumerable:!0,configurable:!0});Object.defineProperty(c,"localX",{get:function(){return this._currentTarget.globalToLocal(this._stageX,this._stageY,a.Point.identity).x},enumerable:!0,configurable:!0});Object.defineProperty(c,"localY",{get:function(){return this._currentTarget.globalToLocal(this._stageX,this._stageY,a.Point.identity).y},enumerable:!0,configurable:!0});d.dispatchTouchEvent=function(b,
f,n,c,t,e,g,k,l){void 0===n&&(n=0);void 0===c&&(c=0);void 0===t&&(t=0);void 0===e&&(e=!1);void 0===g&&(g=!1);void 0===k&&(k=!1);void 0===l&&(l=!1);var m=a.Event._getPropertyData(d);m.touchPointID=n;m._stageX=c;m._stageY=t;m.ctrlKey=e;m.altKey=g;m.shiftKey=k;m.touchDown=l;a.Event._dispatchByTarget(d,b,f,m,!0,!0)};d.TOUCH_TAP="touchTap";d.TOUCH_MOVE="touchMove";d.TOUCH_BEGIN="touchBegin";d.TOUCH_END="touchEnd";d.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside";d.TOUCH_ROLL_OUT="touchRollOut";d.TOUCH_ROLL_OVER=
"touchRollOver";d.TOUCH_OUT="touchOut";d.TOUCH_OVER="touchOver";return d}(a.Event);a.TouchEvent=g;g.prototype.__class__="egret.TouchEvent"})(egret||(egret={}));(function(a){var g=function(e){function d(a,b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);e.call(this,a,b,f)}__extends(d,e);d.dispatchTimerEvent=function(c,b){a.Event._dispatchByTarget(d,c,b)};d.TIMER="timer";d.TIMER_COMPLETE="timerComplete";return d}(a.Event);a.TimerEvent=g;g.prototype.__class__="egret.TimerEvent"})(egret||(egret={}));
(function(a){var g=function(e){function d(a,b,f,n){void 0===b&&(b=!1);void 0===f&&(f=!1);void 0===n&&(n="");e.call(this,a,b,f);this.text=n}__extends(d,e);d.dispatchTextEvent=function(c,b,f){var n=a.Event._getPropertyData(d);n.text=f;a.Event._dispatchByTarget(d,c,b,n)};d.LINK="link";return d}(a.Event);a.TextEvent=g;g.prototype.__class__="egret.TextEvent"})(egret||(egret={}));
(function(a){var g=function(e){function d(a,b,f,n,d){void 0===b&&(b=!1);void 0===f&&(f=!1);void 0===n&&(n=0);void 0===d&&(d=0);e.call(this,a,b,f);this.bytesTotal=this.bytesLoaded=0;this.bytesLoaded=n;this.bytesTotal=d}__extends(d,e);d.dispatchProgressEvent=function(c,b,f,n){void 0===f&&(f=0);void 0===n&&(n=0);a.Event._dispatchByTarget(d,c,b,{bytesLoaded:f,bytesTotal:n})};d.PROGRESS="progress";d.SOCKET_DATA="socketData";return d}(a.Event);a.ProgressEvent=g;g.prototype.__class__="egret.ProgressEvent"})(egret||
(egret={}));(function(a){var g=function(){function a(){}a.CAPTURING_PHASE=1;a.AT_TARGET=2;a.BUBBLING_PHASE=3;return a}();a.EventPhase=g;g.prototype.__class__="egret.EventPhase"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){void 0===b&&(b=null);e.call(this);this._captureEventsMap=this._eventsMap=this._eventTarget=null;this._eventTarget=b?b:this}__extends(d,e);var c=d.prototype;c.addEventListener=function(b,f,n,c,d){void 0===c&&(c=!1);void 0===d&&(d=0);"undefined"===typeof c&&(c=!1);"undefined"===typeof d&&(d=0);f||a.Logger.fatalWithErrorId(1010);c?(this._captureEventsMap||(this._captureEventsMap={}),c=this._captureEventsMap):(this._eventsMap||(this._eventsMap={}),c=this._eventsMap);
var e=c[b];e||(e=c[b]=[]);this._insertEventBin(e,f,n,d)};c._insertEventBin=function(b,f,a,c,d){void 0===d&&(d=void 0);for(var e=-1,g=b.length,k=0;k<g;k++){var l=b[k];if(l.listener==f&&l.thisObject==a&&l.display==d)return!1;-1==e&&l.priority<c&&(e=k)}f={listener:f,thisObject:a,priority:c};d&&(f.display=d);-1!=e?b.splice(e,0,f):b.push(f);return!0};c.removeEventListener=function(b,f,a,c){void 0===c&&(c=!1);if(c=c?this._captureEventsMap:this._eventsMap){var d=c[b];d&&(this._removeEventBin(d,f,a),0==d.length&&
delete c[b])}};c._removeEventBin=function(b,f,a,c,d){void 0===c&&(c=void 0);void 0===d&&(d=0);for(var e=b.length;d<e;d++){var g=b[d];if(g.listener==f&&g.thisObject==a&&g.display==c)return b.splice(d,1),!0}return!1};c.hasEventListener=function(b){return!!(this._eventsMap&&this._eventsMap[b]||this._captureEventsMap&&this._captureEventsMap[b])};c.willTrigger=function(b){return this.hasEventListener(b)};c.dispatchEvent=function(b){b._reset();b._target=this._eventTarget;b._currentTarget=this._eventTarget;
return this._notifyListener(b)};c._notifyListener=function(b){var f=1==b._eventPhase?this._captureEventsMap:this._eventsMap;if(!f)return!0;f=f[b._type];if(!f)return!0;var a=f.length;if(0==a)return!0;for(var f=f.concat(),c=0;c<a;c++){var d=f[c];d.listener.call(d.thisObject,b);if(b._isPropagationImmediateStopped)break}return!b._isDefaultPrevented};c.dispatchEventWith=function(b,f,n){void 0===f&&(f=!1);a.Event.dispatchEvent(this,b,f,n)};return d}(a.HashObject);a.EventDispatcher=g;g.prototype.__class__=
"egret.EventDispatcher"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.stage=this.deviceContext=this.netContext=this.touchContext=this.rendererContext=null;this.reuseEvent=new a.Event("")}__extends(d,e);var c=d.prototype;c.run=function(){a.Ticker.getInstance().run();a.Ticker.getInstance().register(this.renderLoop,this,Number.NEGATIVE_INFINITY);a.Ticker.getInstance().register(this.broadcastEnterFrame,this,Number.POSITIVE_INFINITY);this.touchContext.run();this._profileInstance=a.Profiler.getInstance()};c.renderLoop=
function(b){if(0<a.__callLaterFunctionList.length){var f=a.__callLaterFunctionList;a.__callLaterFunctionList=[];var n=a.__callLaterThisList;a.__callLaterThisList=[];var c=a.__callLaterArgsList;a.__callLaterArgsList=[]}b=this.stage;var e=d.cachedEvent;e._type=a.Event.RENDER;this.dispatchEvent(e);a.Stage._invalidateRenderFlag&&(this.broadcastRender(),a.Stage._invalidateRenderFlag=!1);f&&this.doCallLaterList(f,n,c);0<a.__callAsyncFunctionList.length&&this.doCallAsyncList();f=this.rendererContext;f.onRenderStart();
f.clearScreen();d.__DRAW_COMMAND_LIST=[];d._renderLoopPhase="updateTransform";b._updateTransform();d._renderLoopPhase="draw";e._type=a.Event.FINISH_UPDATE_TRANSFORM;this.dispatchEvent(e);d.__use_new_draw?this._draw(f):b._draw(f);e._type=a.Event.FINISH_RENDER;this.dispatchEvent(e);this._profileInstance._isRunning&&this._profileInstance._drawProfiler(f);f.onRenderFinish()};c._draw=function(b){for(var f=d.__DRAW_COMMAND_LIST,a=f.length,c=0;c<a;c++){var e=f[c];e.call(b);e.dispose()}};c.broadcastEnterFrame=
function(b){b=this.reuseEvent;b._type=a.Event.ENTER_FRAME;this.dispatchEvent(b);for(var f=a.DisplayObject._enterFrameCallBackList.concat(),n=f.length,c=0;c<n;c++){var d=f[c];b._target=d.display;b._currentTarget=d.display;d.listener.call(d.thisObject,b)}f=a.Recycler._callBackList;for(c=f.length-1;0<=c;c--)f[c]._checkFrame()};c.broadcastRender=function(){var b=this.reuseEvent;b._type=a.Event.RENDER;for(var f=a.DisplayObject._renderCallBackList.concat(),n=f.length,c=0;c<n;c++){var d=f[c],e=d.display;
b._target=e;b._currentTarget=e;d.listener.call(d.thisObject,b)}};c.doCallLaterList=function(b,f,a){for(var c=b.length,d=0;d<c;d++){var e=b[d];null!=e&&e.apply(f[d],a[d])}};c.doCallAsyncList=function(){var b=a.__callAsyncFunctionList.concat(),f=a.__callAsyncThisList.concat(),n=a.__callAsyncArgsList.concat();a.__callAsyncFunctionList.length=0;a.__callAsyncThisList.length=0;for(var c=a.__callAsyncArgsList.length=0;c<b.length;c++){var d=b[c];null!=d&&d.apply(f[c],n[c])}};d.deviceType=null;d.DEVICE_PC=
"web";d.DEVICE_MOBILE="native";d.RUNTIME_HTML5="runtimeHtml5";d.RUNTIME_NATIVE="runtimeNative";d.__DRAW_COMMAND_LIST=[];d.__use_new_draw=!0;d.cachedEvent=new a.Event("");return d}(a.EventDispatcher);a.MainContext=g;g.prototype.__class__="egret.MainContext"})(egret||(egret={}));var testDeviceType=function(){if(!this.navigator)return!0;var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("mobile")||-1!=a.indexOf("android")},testRuntimeType=function(){return this.navigator?!0:!1};
egret.MainContext.instance=new egret.MainContext;egret.MainContext.deviceType=testDeviceType()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC;egret.MainContext.runtimeType=testRuntimeType()?egret.MainContext.RUNTIME_HTML5:egret.MainContext.RUNTIME_NATIVE;delete testDeviceType;delete testRuntimeType;
(function(a){var g=function(){function e(){this._preDrawCount=this._updateTransformPerformanceCost=this._renderPerformanceCost=this._logicPerformanceCost=this._lastTime=0;this._calculatePreDrawCount=!0;this._txt=null;this._tick=0;this._maxDeltaTime=500;this._totalDeltaTime=0;this._isRunning=!1}var d=e.prototype;e.getInstance=function(){null==e.instance&&(e.instance=new e);return e.instance};d.stop=function(){if(this._isRunning){this._isRunning=!1;a.Ticker.getInstance().unregister(this.update,this);
var c=a.MainContext.instance;c.removeEventListener(a.Event.ENTER_FRAME,this.onEnterFrame,this);c.removeEventListener(a.Event.RENDER,this.onStartRender,this);c.removeEventListener(a.Event.FINISH_RENDER,this.onFinishRender,this);c.removeEventListener(a.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)}};d.run=function(){null==this._txt&&(this._txt=new a.TextField,this._txt.size=28,this._txt.multiline=!0,this._txt._DO_Props_._parent=new a.DisplayObjectContainer);if(!this._isRunning){this._isRunning=
!0;a.Ticker.getInstance().register(this.update,this);var c=a.MainContext.instance;c.addEventListener(a.Event.ENTER_FRAME,this.onEnterFrame,this);c.addEventListener(a.Event.RENDER,this.onStartRender,this);c.addEventListener(a.Event.FINISH_RENDER,this.onFinishRender,this);c.addEventListener(a.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)}};d._drawProfiler=function(a){"_drawWebGL"in a&&a._drawWebGL();this._calculatePreDrawCount=!1;this._txt._updateTransform();this._txt._draw(a)};d._setTxtFontSize=
function(a){this._txt.size=a};d.onEnterFrame=function(c){this._lastTime=a.getTimer()};d.onStartRender=function(c){c=a.getTimer();this._logicPerformanceCost=c-this._lastTime;this._lastTime=c};d.onFinishUpdateTransform=function(c){c=a.getTimer();this._updateTransformPerformanceCost=c-this._lastTime;this._lastTime=c};d.onFinishRender=function(c){c=a.getTimer();this._renderPerformanceCost=c-this._lastTime;this._lastTime=c};d.update=function(c){this._tick++;this._totalDeltaTime+=c;if(this._totalDeltaTime>=
this._maxDeltaTime){c=this._preDrawCount.toString();var b=Math.ceil(this._logicPerformanceCost).toString()+","+Math.ceil(this._updateTransformPerformanceCost).toString()+","+Math.ceil(this._renderPerformanceCost).toString()+","+Math.ceil(a.MainContext.instance.rendererContext.renderCost).toString();this._txt.text="draw:"+c+"\ncost:"+b+"\nFPS:"+Math.floor(1E3*this._tick/this._totalDeltaTime).toString();this._tick=this._totalDeltaTime=0}this._preDrawCount=0;this._calculatePreDrawCount=!0};d.onDrawImage=
function(){this._calculatePreDrawCount&&this._preDrawCount++};return e}();a.Profiler=g;g.prototype.__class__="egret.Profiler"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._timeScale=1;this._paused=!1;this._callIndex=-1;this.callBackList=[];null!=d.instance&&a.Logger.fatalWithErrorId(1002)}__extends(d,e);var c=d.prototype;c.run=function(){a.__START_TIME=(new Date).getTime();a.MainContext.instance.deviceContext.executeMainLoop(this.update,this)};c.update=function(b){if(!this._paused){b*=this._timeScale;b*=this._timeScale;this._callList=this.callBackList.concat();for(this._callIndex=0;this._callIndex<this._callList.length;this._callIndex++){var f=
this._callList[this._callIndex];f.listener.call(f.thisObject,b)}this._callIndex=-1;this._callList=null}};c.register=function(b,f,a){void 0===a&&(a=0);this._insertEventBin(this.callBackList,b,f,a)};c.unregister=function(b,f){this._removeEventBin(this.callBackList,b,f);this._callList&&-1<this._callIndex&&this._removeEventBin(this._callList,b,f,null,this._callIndex+1)};c.setTimeout=function(b,f,n){for(var c=[],d=3;d<arguments.length;d++)c[d-3]=arguments[d];a.Logger.warningWithErrorId(1003);a.setTimeout.apply(null,
[b,f,n].concat(c))};c.setTimeScale=function(b){this._timeScale=b};c.getTimeScale=function(){return this._timeScale};c.pause=function(){this._paused=!0};c.resume=function(){this._paused=!1};d.getInstance=function(){null==d.instance&&(d.instance=new d);return d.instance};return d}(a.EventDispatcher);a.Ticker=g;g.prototype.__class__="egret.Ticker"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.LEFT="left";a.RIGHT="right";a.CENTER="center";a.JUSTIFY="justify";a.CONTENT_JUSTIFY="contentJustify";return a}();a.HorizontalAlign=g;g.prototype.__class__="egret.HorizontalAlign"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.TOP="top";a.BOTTOM="bottom";a.MIDDLE="middle";a.JUSTIFY="justify";a.CONTENT_JUSTIFY="contentJustify";return a}();a.VerticalAlign=g;g.prototype.__class__="egret.VerticalAlign"})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f){void 0===f&&(f=0);e.call(this);this._currentCount=0;this._running=!1;this.lastTime=0;this.delay=b;this.repeatCount=f}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0});Object.defineProperty(c,"running",{get:function(){return this._running},enumerable:!0,configurable:!0});c.reset=function(){this.stop();this._currentCount=0};c.start=function(){this._running||
(this.lastTime=a.getTimer(),a.Ticker.getInstance().register(this.onEnterFrame,this),this._running=!0)};c.stop=function(){this._running&&(a.Ticker.getInstance().unregister(this.onEnterFrame,this),this._running=!1)};c.onEnterFrame=function(b){b=a.getTimer();b-this.lastTime>this.delay&&(this.lastTime=b,this._currentCount++,a.TimerEvent.dispatchTimerEvent(this,a.TimerEvent.TIMER),0<this.repeatCount&&this._currentCount>=this.repeatCount&&(this.stop(),a.TimerEvent.dispatchTimerEvent(this,a.TimerEvent.TIMER_COMPLETE)))};
return d}(a.EventDispatcher);a.Timer=g;g.prototype.__class__="egret.Timer"})(egret||(egret={}));
(function(a){function g(a){a=a.prototype?a.prototype:Object.getPrototypeOf(a);if(a.hasOwnProperty("__class__"))return a.__class__;var d=a.constructor.toString(),c=d.indexOf("("),d=d.substring(9,c);Object.defineProperty(a,"__class__",{value:d,enumerable:!1,writable:!0});return d}a.getQualifiedClassName=g;a.getQualifiedSuperclassName=function(a){a=a.prototype?a.prototype:Object.getPrototypeOf(a);if(a.hasOwnProperty("__superclass__"))return a.__superclass__;var d=Object.getPrototypeOf(a);if(null==d)return null;
d=g(d.constructor);if(!d)return null;Object.defineProperty(a,"__superclass__",{value:d,enumerable:!1,writable:!0});return d}})(egret||(egret={}));(function(a){var g={};a.getDefinitionByName=function(a){if(!a)return null;var d=g[a];if(d)return d;for(var c=a.split("."),b=c.length,d=__global,f=0;f<b;f++)if(d=d[c[f]],!d)return null;return g[a]=d}})(egret||(egret={}));var __global=__global||this;
(function(a){function g(a){for(var b in e){var f=e[b];f.delay-=a;0>=f.delay&&(f.listener.apply(f.thisObject,f.params),delete e[b])}}var e={},d=0;a.setTimeout=function(c,b,f){for(var n=[],u=3;u<arguments.length;u++)n[u-3]=arguments[u];n={listener:c,thisObject:b,delay:f,params:n};0==d&&a.Ticker.getInstance().register(g,null);d++;e[d]=n;return d};a.clearTimeout=function(a){delete e[a]}})(egret||(egret={}));
(function(a){function g(a){for(var b in e){var f=e[b];f.delay-=a;0>=f.delay&&(f.delay=f.originDelay,f.listener.apply(f.thisObject,f.params))}}var e={},d=0;a.setInterval=function(c,b,f){for(var n=[],u=3;u<arguments.length;u++)n[u-3]=arguments[u];n={listener:c,thisObject:b,delay:f,originDelay:f,params:n};0==d&&a.Ticker.getInstance().register(g,null);d++;e[d]=n;return d};a.clearInterval=function(a){delete e[a]}})(egret||(egret={}));
(function(a){a.hasDefinition=function(g){return a.getDefinitionByName(g)?!0:!1}})(egret||(egret={}));(function(a){a.toColorString=function(a){if(isNaN(a)||0>a)a=0;16777215<a&&(a=16777215);for(a=a.toString(16).toUpperCase();6>a.length;)a="0"+a;return"#"+a}})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f,a,c,d,g){void 0===b&&(b=1);void 0===f&&(f=0);void 0===a&&(a=0);void 0===c&&(c=1);void 0===d&&(d=0);void 0===g&&(g=0);e.call(this);this.a=b;this.b=f;this.c=a;this.d=c;this.tx=d;this.ty=g}__extends(d,e);var c=d.prototype;c.prepend=function(b,f,a,c,d,e){var g=this.tx;if(1!=b||0!=f||0!=a||1!=c){var k=this.a,l=this.c;this.a=k*b+this.b*a;this.b=k*f+this.b*c;this.c=l*b+this.d*a;this.d=l*f+this.d*c}this.tx=g*b+this.ty*a+d;this.ty=g*f+this.ty*c+e;return this};
c.append=function(b,f,a,c,d,e){var g=this.a,k=this.b,l=this.c,m=this.d;if(1!=b||0!=f||0!=a||1!=c)this.a=b*g+f*l,this.b=b*k+f*m,this.c=a*g+c*l,this.d=a*k+c*m;this.tx=d*g+e*l+this.tx;this.ty=d*k+e*m+this.ty;return this};c.prependTransform=function(b,f,n,c,d,e,g,k,l){if(d%360){var m=a.NumberUtils.cos(d);d=a.NumberUtils.sin(d)}else m=1,d=0;if(k||l)this.tx-=k,this.ty-=l;e||g?(this.prepend(m*n,d*n,-d*c,m*c,0,0),this.prepend(a.NumberUtils.cos(g),a.NumberUtils.sin(g),-a.NumberUtils.sin(e),a.NumberUtils.cos(e),
b,f)):this.prepend(m*n,d*n,-d*c,m*c,b,f);return this};c.appendTransform=function(b,f,n,c,d,e,g,k,l){if(d%360){var m=a.NumberUtils.cos(d);d=a.NumberUtils.sin(d)}else m=1,d=0;e||g?(this.append(a.NumberUtils.cos(g),a.NumberUtils.sin(g),-a.NumberUtils.sin(e),a.NumberUtils.cos(e),b,f),this.append(m*n,d*n,-d*c,m*c,0,0)):this.append(m*n,d*n,-d*c,m*c,b,f);if(k||l)this.tx-=k*this.a+l*this.c,this.ty-=k*this.b+l*this.d;return this};c.rotate=function(b){var f=Math.cos(b);b=Math.sin(b);var a=this.a,c=this.c,d=
this.tx;this.a=a*f-this.b*b;this.b=a*b+this.b*f;this.c=c*f-this.d*b;this.d=c*b+this.d*f;this.tx=d*f-this.ty*b;this.ty=d*b+this.ty*f;return this};c.skew=function(b,f){this.append(a.NumberUtils.cos(f),a.NumberUtils.sin(f),-a.NumberUtils.sin(b),a.NumberUtils.cos(b),0,0);return this};c.scale=function(b,f){this.a*=b;this.d*=f;this.c*=b;this.b*=f;this.tx*=b;this.ty*=f;return this};c.translate=function(b,f){this.tx+=b;this.ty+=f;return this};c.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=
0;return this};c.identityMatrix=function(b){this.a=b.a;this.b=b.b;this.c=b.c;this.d=b.d;this.tx=b.tx;this.ty=b.ty;return this};c.invert=function(){var b=this.a,f=this.b,a=this.c,c=this.d,d=this.tx,e=b*c-f*a;this.a=c/e;this.b=-f/e;this.c=-a/e;this.d=b/e;this.tx=(a*this.ty-c*d)/e;this.ty=-(b*this.ty-f*d)/e;return this};d.transformCoords=function(b,f,n){var c=a.Point.identity;c.x=b.a*f+b.c*n+b.tx;c.y=b.d*n+b.b*f+b.ty;return c};c.toArray=function(b){this.array||(this.array=new Float32Array(9));b?(this.array[0]=
this.a,this.array[1]=this.b,this.array[2]=0,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=0,this.array[6]=this.tx,this.array[7]=this.ty):(this.array[0]=this.a,this.array[1]=this.b,this.array[2]=this.tx,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=this.ty,this.array[6]=0,this.array[7]=0);this.array[8]=1;return this.array};c.setTo=function(b,f,a,c,d,e){this.a=b;this.b=f;this.c=a;this.d=c;this.tx=d;this.ty=e};c.copyForm=function(b){this.identityMatrix(b)};d.identity=new d;d.DEG_TO_RAD=
Math.PI/180;return d}(a.HashObject);a.Matrix=g;g.prototype.__class__="egret.Matrix"})(egret||(egret={}));
(function(a){var g=function(a){function d(b,f){void 0===b&&(b=0);void 0===f&&(f=0);a.call(this);this.x=b;this.y=f}__extends(d,a);var c=d.prototype;c.clone=function(){return new d(this.x,this.y)};c.equals=function(b){return this.x==b.x&&this.y==b.y};d.distance=function(b,f){return Math.sqrt((b.x-f.x)*(b.x-f.x)+(b.y-f.y)*(b.y-f.y))};c.setTo=function(b,f){this.x=b;this.y=f};c.copyForm=function(b){this.x=b.x;this.y=b.y};d.identity=new d(0,0);return d}(a.HashObject);a.Point=g;g.prototype.__class__="egret.Point"})(egret||
(egret={}));
(function(a){var g=function(a){function d(b,f,n,c){void 0===b&&(b=0);void 0===f&&(f=0);void 0===n&&(n=0);void 0===c&&(c=0);a.call(this);this.x=b;this.y=f;this.width=n;this.height=c}__extends(d,a);var c=d.prototype;Object.defineProperty(c,"left",{get:function(){return this.x},set:function(b){this.width+=this.x-b;this.x=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"right",{get:function(){return this.x+this.width},set:function(b){this.width=b-this.x},enumerable:!0,configurable:!0});Object.defineProperty(c,
"top",{get:function(){return this.y},set:function(b){this.height+=this.y-b;this.y=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"bottom",{get:function(){return this.y+this.height},set:function(b){this.height=b-this.y},enumerable:!0,configurable:!0});c.initialize=function(b,f,a,c){this.x=b;this.y=f;this.width=a;this.height=c;return this};c.contains=function(b,f){return this.x<=b&&this.x+this.width>=b&&this.y<=f&&this.y+this.height>=f};c.intersects=function(b){return Math.max(this.x,b.x)<=
Math.min(this.right,b.right)&&Math.max(this.y,b.y)<=Math.min(this.bottom,b.bottom)};c.setEmpty=function(){this.height=this.width=this.y=this.x=0};c.clone=function(){return new d(this.x,this.y,this.width,this.height)};c.containsPoint=function(b){return this.x<b.x&&this.x+this.width>b.x&&this.y<b.y&&this.y+this.height>b.y?!0:!1};c.setTo=function(b,f,a,c){this.initialize(b,f,a,c)};c.copyForm=function(b){this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height};c.inflate=function(b,f){this.x-=b;
this.width+=2*b;this.y-=f;this.height+=2*f};c.isEmpty=function(){return 0==this.width||0==this.height};d.identity=new d(0,0,0,0);return d}(a.HashObject);a.Rectangle=g;g.prototype.__class__="egret.Rectangle"})(egret||(egret={}));
(function(a){var g=function(a){function d(b,f,c,d,t,g,h,k){void 0===b&&(b=1);void 0===f&&(f=1);void 0===c&&(c=1);void 0===d&&(d=1);void 0===t&&(t=0);void 0===g&&(g=0);void 0===h&&(h=0);void 0===k&&(k=0);a.call(this);this._redMultiplier=b;this._greenMultiplier=f;this._blueMultiplier=c;this._alphaMultiplier=d;this._redOffset=t;this._greenOffset=g;this._blueOffset=h;this._alphaOffset=k}__extends(d,a);var c=d.prototype;Object.defineProperty(c,"alphaMultiplier",{get:function(){return this._alphaMultiplier},
set:function(b){this._alphaMultiplier=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"alphaOffset",{get:function(){return this._alphaOffset},set:function(b){this._alphaOffset=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"blueMultiplier",{get:function(){return this._blueMultiplier},set:function(b){this._blueMultiplier=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"blueOffset",{get:function(){return this._blueOffset},set:function(b){this._blueOffset=b},enumerable:!0,
configurable:!0});Object.defineProperty(c,"greenMultiplier",{get:function(){return this._greenMultiplier},set:function(b){this._greenMultiplier=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"greenOffset",{get:function(){return this._greenOffset},set:function(b){this._greenOffset=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"redMultiplier",{get:function(){return this._redMultiplier},set:function(b){this._redMultiplier=b},enumerable:!0,configurable:!0});Object.defineProperty(c,
"redOffset",{get:function(){return this._redOffset},set:function(b){this._redOffset=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"color",{get:function(){return this._redOffset<<16+this._greenOffset<<8+this._blueOffset},enumerable:!0,configurable:!0});c.identityColorTransform=function(b){this._alphaMultiplier=b._alphaMultiplier;this._alphaOffset=b._alphaOffset;this._redMultiplier=b._redMultiplier;this._redOffset=b._redOffset;this._greenMultiplier=b._greenMultiplier;this._greenOffset=
b._greenOffset;this._blueMultiplier=b._blueMultiplier;this._blueOffset=b._blueOffset};return d}(a.HashObject);a.ColorTransform=g;g.prototype.__class__="egret.ColorTransform"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){e.call(this);this._matrix=new a.Matrix;this._matrix2=new a.Matrix;this._colorTransform=new a.ColorTransform;this._colorTransform2=new a.ColorTransform;this._display=b}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"matrix",{get:function(){this._matrix2.identityMatrix(this._matrix);return this._matrix2},set:function(b){this._setMatrix(b)},enumerable:!0,configurable:!0});c._setMatrix=function(b){this._display.__hack_local_matrix||(this._display.__hack_local_matrix=
new a.Matrix);this._display.__hack_local_matrix.identityMatrix(b);this._matrix.identityMatrix(b)};Object.defineProperty(c,"colorTransform",{get:function(){this._colorTransform2.identityColorTransform(this._colorTransform);return this._colorTransform2},set:function(b){this._setColorTransform(b)},enumerable:!0,configurable:!0});c._setColorTransform=function(b){this._colorTransform.identityColorTransform(b)};return d}(a.HashObject);a.Transform=g;g.prototype.__class__="egret.Transform"})(egret||(egret=
{}));
(function(a){var g=function(e){function d(){e.call(this);this._isSupportDOMParser=this._xmlDict=this._parser=null;this._xmlDict={};window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1}__extends(d,e);var c=d.prototype;d.getInstance=function(){d._instance||(d._instance=new d);return d._instance};c.parserXML=function(b){for(var f=0;"\n"==b.charAt(f)||"\t"==b.charAt(f)||"\r"==b.charAt(f)||" "==b.charAt(f);)f++;0!=f&&(b=b.substring(f,b.length));this._isSupportDOMParser?f=
this._parser.parseFromString(b,"text/xml"):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(b));null==f&&a.Logger.infoWithErrorId(1015);return f};d._instance=null;return d}(a.HashObject);a.SAXParser=g;g.prototype.__class__="egret.SAXParser"})(egret||(egret={}));
(function(a){var g=function(b){function c(){b.call(this);this._designHeight=this._designWidth=0;this._scaleY=this._scaleX=1;this._stageHeight=this._stageWidth=this._offSetY=0}__extends(c,b);var u=c.prototype;c.getInstance=function(){null==c.instance&&(d.initialize(),c.instance=new c);return c.instance};u.setDesignSize=function(b,f,c){this._designWidth=b;this._designHeight=f;c&&(a.Logger.warningWithErrorId(1001),this._setResolutionPolicy(c))};u._setResolutionPolicy=function(b){this._resolutionPolicy=
b;b.init(this);b._apply(this,this._designWidth,this._designHeight)};u.getScaleX=function(){return this._scaleX};u.getScaleY=function(){return this._scaleY};u.getOffSetY=function(){return this._offSetY};c.canvas_name="egretCanvas";c.egret_root_div="gameDiv";c.canvas_div_name="canvasDiv";return c}(a.HashObject);a.StageDelegate=g;g.prototype.__class__="egret.StageDelegate";var e=function(){function b(f,a){this._containerStrategy=f;this._contentStrategy=a}var a=b.prototype;a.init=function(b){this._containerStrategy.init(b);
this._contentStrategy.init(b)};a._apply=function(b,f,a){this._containerStrategy._apply(b,f,a);this._contentStrategy._apply(b,f,a)};return b}();a.ResolutionPolicy=e;e.prototype.__class__="egret.ResolutionPolicy";var d=function(){function b(){}var a=b.prototype;b.initialize=function(){b.EQUAL_TO_FRAME=new c};a.init=function(b){};a._apply=function(b,f,a){};a._setupContainer=function(){var b=document.body,f;b&&(f=b.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=
f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")};return b}();a.ContainerStrategy=d;d.prototype.__class__="egret.ContainerStrategy";var c=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype._apply=
function(b){this._setupContainer()};return a}(d);a.EqualToFrame=c;c.prototype.__class__="egret.EqualToFrame";e=function(){function b(){}var c=b.prototype;c.init=function(b){};c._apply=function(b,f,a){};c.setEgretSize=function(b,f,c,n,d,e){void 0===e&&(e=0);a.StageDelegate.getInstance()._stageWidth=Math.round(b);a.StageDelegate.getInstance()._stageHeight=Math.round(f);b=document.getElementById(g.canvas_div_name);f=document.getElementById(g.egret_root_div);b||(b=a.Browser.getInstance().$new("div"),
b.id=g.canvas_div_name,f.appendChild(b));b.style.width=c+"px";b.style.height=n+"px";f.style.width=c+"px";f.style.height=n+"px";f.style.top=e+"px"};c._getClientWidth=function(){return document.documentElement.clientWidth};c._getClientHeight=function(){return document.documentElement.clientHeight};return b}();a.ContentStrategy=e;e.prototype.__class__="egret.ContentStrategy";var b=function(b){function a(c){void 0===c&&(c=0);b.call(this);this.minWidth=NaN;this.minWidth=c}__extends(a,b);a.prototype._apply=
function(b,f,a){f=this._getClientWidth();var c=this._getClientHeight(),n=c/a,d=f/n,e=1;0!=this.minWidth&&(e=Math.min(1,d/this.minWidth));this.setEgretSize(d/e,a,f,c*e);b._scaleX=n*e;b._scaleY=n*e};return a}(e);a.FixedHeight=b;b.prototype.__class__="egret.FixedHeight";b=function(b){function a(c){void 0===c&&(c=0);b.call(this);this.minHeight=NaN;this.minHeight=c}__extends(a,b);a.prototype._apply=function(b,f,a){a=this._getClientWidth();var c=this._getClientHeight(),n=a/f,d=c/n,e=1;0!=this.minHeight&&
(e=Math.min(1,d/this.minHeight));this.setEgretSize(f,d/e,a*e,c,a*(1-e)/2);b._scaleX=n*e;b._scaleY=n*e};return a}(e);a.FixedWidth=b;b.prototype.__class__="egret.FixedWidth";b=function(b){function a(c,n){b.call(this);this.width=c;this.height=n}__extends(a,b);a.prototype._apply=function(b,f,a){a=this.width;var c=this.height,n=a/f;this.setEgretSize(f,c/n,a,c);b._scaleX=n;b._scaleY=n};return a}(e);a.FixedSize=b;b.prototype.__class__="egret.FixedSize";b=function(b){function a(){b.call(this)}__extends(a,
b);a.prototype._apply=function(b,f,a){this.setEgretSize(f,a,f,a,Math.floor((f-f)/2));b._scaleX=1;b._scaleY=1};return a}(e);a.NoScale=b;b.prototype.__class__="egret.NoScale";b=function(b){function a(){b.call(this)}__extends(a,b);a.prototype._apply=function(b,f,a){var c=this._getClientWidth(),n=this._getClientHeight(),d=c,e=n,g=d/f<e/a?d/f:e/a,d=f*g,e=a*g,c=Math.floor((c-d)/2);b._offSetY=Math.floor((n-e)/2);this.setEgretSize(f,a/1,1*d,e,c,b._offSetY);b._scaleX=1*g;b._scaleY=1*g};return a}(e);a.ShowAll=
b;b.prototype.__class__="egret.ShowAll";e=function(b){function a(){b.call(this)}__extends(a,b);a.prototype._apply=function(b,f,a){var c=this._getClientWidth(),n=this._getClientHeight(),c=c/f,n=n/a;this.setEgretSize(f,a,f*c,a*n);b._scaleX=c;b._scaleY=n};return a}(e);a.FullScreen=e;e.prototype.__class__="egret.FullScreen"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._originalData={};this._drawAreaList=[]}__extends(d,e);var c=d.prototype;d.getInstance=function(){null==d.instance&&(d.instance=new d);return d.instance};c.addDrawArea=function(b){this._drawAreaList.push(b)};c.clearDrawArea=function(){this._drawAreaList=[]};c.drawImage=function(b,f,c,u,e,g,h,k,l,m,q){void 0===q&&(q=void 0);h=h||0;k=k||0;var s=f._texture_to_render;if(null!=s&&0!=g&&0!=e&&0!=l&&0!=m){var r=a.MainContext.instance.rendererContext._texture_scale_factor;
e/=r;g/=r;if(0!=this._drawAreaList.length&&a.MainContext.instance.rendererContext._cacheCanvasContext){r=a.DisplayObject.getTransformBounds(f._getSize(d.identityRectangle),f._worldTransform);f._worldBounds.initialize(r.x,r.y,r.width,r.height);r=this._originalData;r.sourceX=c;r.sourceY=u;r.sourceWidth=e;r.sourceHeight=g;r.destX=h;r.destY=k;r.destWidth=l;r.destHeight=m;for(var x=this.getDrawAreaList(),z=0;z<x.length;z++)if(!this.ignoreRender(f,x[z],r.destX,r.destY)){b.drawImage(s,c,u,e,g,h,k,l,m,q);
break}}else b.drawImage(s,c,u,e,g,h,k,l,m,q)}};c.ignoreRender=function(b,f,a,c){var d=b._worldBounds;a*=b._worldTransform.a;c*=b._worldTransform.d;return d.x+d.width+a<=f.x||d.x+a>=f.x+f.width||d.y+d.height+c<=f.y||d.y+c>=f.y+f.height?!0:!1};c.getDrawAreaList=function(){var b;0==this._drawAreaList.length?(this._defaultDrawAreaList||(this._defaultDrawAreaList=[new a.Rectangle(0,0,a.MainContext.instance.stage.stageWidth,a.MainContext.instance.stage.stageHeight)],a.MainContext.instance.stage.addEventListener(a.Event.RESIZE,
this.onResize,this)),b=this._defaultDrawAreaList):b=this._drawAreaList;return b};c.onResize=function(){a.MainContext.instance.stage.removeEventListener(a.Event.RESIZE,this.onResize,this);this._defaultDrawAreaList=null};d.identityRectangle=new a.Rectangle;return d}(a.HashObject);a.RenderFilter=g;g.prototype.__class__="egret.RenderFilter"})(egret||(egret={}));
(function(a){var g=function(){function e(){}e.mapClass=function(a,c,b){void 0===b&&(b="");a=this.getKey(a)+"#"+b;this.mapClassDic[a]=c};e.getKey=function(d){return"string"==typeof d?d:a.getQualifiedClassName(d)};e.mapValue=function(a,c,b){void 0===b&&(b="");a=this.getKey(a)+"#"+b;this.mapValueDic[a]=c};e.hasMapRule=function(a,c){void 0===c&&(c="");var b=this.getKey(a)+"#"+c;return this.mapValueDic[b]||this.mapClassDic[b]?!0:!1};e.getInstance=function(d,c){void 0===c&&(c="");var b=this.getKey(d)+"#"+
c;if(this.mapValueDic[b])return this.mapValueDic[b];var f=this.mapClassDic[b];if(f)return f=new f,this.mapValueDic[b]=f,delete this.mapClassDic[b],f;throw Error(a.getString(1028,b));};e.mapClassDic={};e.mapValueDic={};return e}();a.Injector=g;g.prototype.__class__="egret.Injector"})(egret||(egret={}));(function(a){a=a.BitmapFilterQuality||(a.BitmapFilterQuality={});a.LOW=1;a.MEDIUM=2;a.HIGH=3})(egret||(egret={}));
(function(a){var g=function(a){function d(){a.apply(this,arguments);this.type=null}__extends(d,a);return d}(a.HashObject);a.Filter=g;g.prototype.__class__="egret.Filter"})(egret||(egret={}));(function(a){var g=function(a){function d(c,b){a.call(this);this.blurX=c;this.blurY=b;this.type="blur"}__extends(d,a);return d}(a.Filter);a.BlurFilter=g;g.prototype.__class__="egret.BlurFilter"})(egret||(egret={}));
(function(a){var g=function(a){function d(b){void 0===b&&(b=null);a.call(this);this._matrix=[];this._matrix2=[];this.type="colorTransform";this._setMatrix(b)}__extends(d,a);var c=d.prototype;Object.defineProperty(c,"matrix",{get:function(){for(var b=0;20>b;b++)this._matrix2[b]=this._matrix[b];return this._matrix2},set:function(b){this._setMatrix(b)},enumerable:!0,configurable:!0});c._setMatrix=function(b){for(var f=0;20>f;f++)this._matrix[f]=b&&b[f]||0};return d}(a.Filter);a.ColorMatrixFilter=g;g.prototype.__class__=
"egret.ColorMatrixFilter"})(egret||(egret={}));
(function(a){var g=function(a){function d(c,b,f,n,d,t,g,h){void 0===c&&(c=16711680);void 0===b&&(b=1);void 0===f&&(f=6);void 0===n&&(n=6);void 0===d&&(d=2);void 0===t&&(t=1);void 0===g&&(g=!1);void 0===h&&(h=!1);a.call(this);this.color=c;this.alpha=b;this.blurX=f;this.blurY=n;this.strength=d;this.quality=t;this.inner=g;this.knockout=h;this.type="glow";this._blue=c&255;this._green=(c&65280)>>8;this._red=c>>16}__extends(d,a);return d}(a.Filter);a.GlowFilter=g;g.prototype.__class__="egret.GlowFilter"})(egret||
(egret={}));(function(a){var g=function(a){function d(c,b,f,n,d,t,g,h,k,l,m){void 0===c&&(c=4);void 0===b&&(b=45);void 0===f&&(f=0);void 0===n&&(n=1);void 0===d&&(d=4);void 0===t&&(t=4);void 0===g&&(g=1);void 0===h&&(h=1);void 0===k&&(k=!1);void 0===l&&(l=!1);a.call(this,f,n,d,t,g,h,k,l);this.distance=c;this.angle=b}__extends(d,a);return d}(a.GlowFilter);a.DropShadowFilter=g;g.prototype.__class__="egret.DropShadowFilter"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.NORMAL="normal";a.ADD="add";a.ERASE="erase";a.ERASE_REVERSE="eraseReverse";return a}();a.BlendMode=g;g.prototype.__class__="egret.BlendMode"})(egret||(egret={}));
(function(a){var g=function(){function a(){this._name=null;this._explicitHeight=this._explicitWidth=NaN;this._y=this._x=0;this._scaleY=this._scaleX=1;this._rotation=this._anchorY=this._anchorX=this._anchorOffsetY=this._anchorOffsetX=0;this._alpha=1;this._skewY=this._skewX=0;this._blendMode=null;this._touchEnabled=a.defaultTouchEnabled;this._visible=!0;this._worldAlpha=1;this._scrollRect=null;this._cacheAsBitmap=!1;this._stage=this._parent=null;this._needDraw=!1;this._filters=null;this._hasHeightSet=
this._hasWidthSet=!1;this._sizeDirty=this._normalDirty=!0;this._isContainer=!1}a.defaultTouchEnabled=!1;return a}();a.DisplayObjectProperties=g;g.prototype.__class__="egret.DisplayObjectProperties"})(egret||(egret={}));(function(a){var g=function(){return function(){this._hitTestPointTexture=null;this._rectH=this._rectW=0;this._cacheDirty=!1}}();a.DisplayObjectPrivateProperties=g;g.prototype.__class__="egret.DisplayObjectPrivateProperties"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.renderTexture=this.mask=this._sizeChangeCallTarget=this._sizeChangeCallBack=this.__hack_local_matrix=this._worldBounds=this._texture_to_render=null;this._DO_Props_=new a.DisplayObjectProperties;this._DO_Privs_=new a.DisplayObjectPrivateProperties;this._worldTransform=new a.Matrix;this._worldBounds=new a.Rectangle(0,0,0,0);this._DO_Privs_._cacheBounds=new a.Rectangle(0,0,0,0)}__extends(d,e);var c=d.prototype;c._setDirty=function(){this._DO_Props_._normalDirty=
!0};c.getDirty=function(){return this._DO_Props_._normalDirty||this._DO_Props_._sizeDirty};c._setParentSizeDirty=function(){var b=this._DO_Props_._parent;b&&(b._DO_Props_._hasWidthSet||b._DO_Props_._hasHeightSet?b._setCacheDirty():b._setSizeDirty())};c._setSizeDirty=function(){var b=this._DO_Props_;b._sizeDirty||(b._sizeDirty=!0,this._setDirty(),this._setCacheDirty(),this._setParentSizeDirty(),null!=this._sizeChangeCallBack&&(this._sizeChangeCallTarget==b._parent?this._sizeChangeCallBack.call(this._sizeChangeCallTarget):
this._sizeChangeCallTarget=this._sizeChangeCallBack=null))};c._clearDirty=function(){this._DO_Props_._normalDirty=!1};c._clearSizeDirty=function(){this._DO_Props_._sizeDirty=!1};Object.defineProperty(c,"name",{get:function(){return this._DO_Props_._name},set:function(b){this._DO_Props_._name=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"parent",{get:function(){return this._DO_Props_._parent},enumerable:!0,configurable:!0});c._parentChanged=function(b){this._DO_Props_._parent=b};Object.defineProperty(c,
"x",{get:function(){return this._DO_Props_._x},set:function(b){this._setX(b)},enumerable:!0,configurable:!0});c._setX=function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._x!=b&&(this._DO_Props_._x=b,this._setDirty(),this._setParentSizeDirty())};Object.defineProperty(c,"y",{get:function(){return this._DO_Props_._y},set:function(b){this._setY(b)},enumerable:!0,configurable:!0});c._setY=function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._y!=b&&(this._DO_Props_._y=b,this._setDirty(),this._setParentSizeDirty())};
Object.defineProperty(c,"scaleX",{get:function(){return this._DO_Props_._scaleX},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._scaleX!=b&&(this._DO_Props_._scaleX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"scaleY",{get:function(){return this._DO_Props_._scaleY},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._scaleY!=b&&(this._DO_Props_._scaleY=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});
Object.defineProperty(c,"anchorOffsetX",{get:function(){return this._DO_Props_._anchorOffsetX},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._anchorOffsetX!=b&&(this._DO_Props_._anchorOffsetX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"anchorOffsetY",{get:function(){return this._DO_Props_._anchorOffsetY},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._anchorOffsetY!=b&&(this._DO_Props_._anchorOffsetY=b,this._setDirty(),
this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"anchorX",{get:function(){return this._DO_Props_._anchorX},set:function(b){this._setAnchorX(b)},enumerable:!0,configurable:!0});c._setAnchorX=function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._anchorX!=b&&(this._DO_Props_._anchorX=b,this._setDirty(),this._setParentSizeDirty())};Object.defineProperty(c,"anchorY",{get:function(){return this._DO_Props_._anchorY},set:function(b){this._setAnchorY(b)},enumerable:!0,
configurable:!0});c._setAnchorY=function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._anchorY!=b&&(this._DO_Props_._anchorY=b,this._setDirty(),this._setParentSizeDirty())};Object.defineProperty(c,"visible",{get:function(){return this._DO_Props_._visible},set:function(b){this._setVisible(b)},enumerable:!0,configurable:!0});c._setVisible=function(b){this._DO_Props_._visible!=b&&(this._DO_Props_._visible=b,this._setSizeDirty())};Object.defineProperty(c,"rotation",{get:function(){return this._DO_Props_._rotation},
set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._rotation!=b&&(this._DO_Props_._rotation=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"alpha",{get:function(){return this._DO_Props_._alpha},set:function(b){this._setAlpha(b)},enumerable:!0,configurable:!0});c._setAlpha=function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._alpha!=b&&(this._DO_Props_._alpha=b,this._setDirty(),this._setCacheDirty())};Object.defineProperty(c,"skewX",
{get:function(){return this._DO_Props_._skewX},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._skewX!=b&&(this._DO_Props_._skewX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"skewY",{get:function(){return this._DO_Props_._skewY},set:function(b){a.NumberUtils.isNumber(b)&&this._DO_Props_._skewY!=b&&(this._DO_Props_._skewY=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"touchEnabled",
{get:function(){return this._DO_Props_._touchEnabled},set:function(b){this._setTouchEnabled(b)},enumerable:!0,configurable:!0});c._setTouchEnabled=function(b){this._DO_Props_._touchEnabled=b};Object.defineProperty(c,"blendMode",{get:function(){return this._DO_Props_._blendMode},set:function(b){this._DO_Props_._blendMode=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"scrollRect",{get:function(){return this._DO_Props_._scrollRect},set:function(b){this._setScrollRect(b)},enumerable:!0,configurable:!0});
c._setScrollRect=function(b){this._DO_Props_._scrollRect=b;this._setSizeDirty()};Object.defineProperty(c,"measuredWidth",{get:function(){return this._measureBounds().width},enumerable:!0,configurable:!0});Object.defineProperty(c,"measuredHeight",{get:function(){return this._measureBounds().height},enumerable:!0,configurable:!0});Object.defineProperty(c,"explicitWidth",{get:function(){return this._DO_Props_._explicitWidth},enumerable:!0,configurable:!0});Object.defineProperty(c,"explicitHeight",{get:function(){return this._DO_Props_._explicitHeight},
enumerable:!0,configurable:!0});Object.defineProperty(c,"width",{get:function(){return this._getWidth()},set:function(b){this._setWidth(b)},enumerable:!0,configurable:!0});c._getWidth=function(){return this._getSize(a.Rectangle.identity).width};Object.defineProperty(c,"height",{get:function(){return this._getHeight()},set:function(b){this._setHeight(b)},enumerable:!0,configurable:!0});c._getHeight=function(){return this._getSize(a.Rectangle.identity).height};c._setWidth=function(b){this._setSizeDirty();
this._setCacheDirty();this._DO_Props_._explicitWidth=b;this._DO_Props_._hasWidthSet=a.NumberUtils.isNumber(b)};c._setHeight=function(b){this._setSizeDirty();this._setCacheDirty();this._DO_Props_._explicitHeight=b;this._DO_Props_._hasHeightSet=a.NumberUtils.isNumber(b)};Object.defineProperty(c,"worldAlpha",{get:function(){return this._DO_Props_._worldAlpha},set:function(b){this._DO_Props_._worldAlpha=b},enumerable:!0,configurable:!0});c._draw=function(b){if(this._DO_Props_._visible&&!this.drawCacheTexture(b)){var f=
a.MainContext.__use_new_draw&&this._DO_Props_._isContainer;this._hasFilters()&&!f&&this._setGlobalFilters(b);b.setAlpha(this.worldAlpha,this.blendMode);b.setTransform(this._worldTransform);var c=this.mask||this._DO_Props_._scrollRect;c&&!f&&b.pushMask(c);this._render(b);c&&!f&&b.popMask();this._hasFilters()&&!f&&this._removeGlobalFilters(b)}this.destroyCacheBounds()};c._setGlobalFilters=function(b){var f;f=this._DO_Props_._filters?this._DO_Props_._filters.concat():[];if(this._transform){var a=this._transform._colorTransform,
c=d.color;c[0]=a._redMultiplier;c[4]=a._redOffset;c[6]=a._greenMultiplier;c[9]=a._greenOffset;c[12]=a._blueMultiplier;c[14]=a._blueOffset;c[18]=a._alphaMultiplier;c[19]=a._alphaOffset;d.colorMatrixFilter._matrix=c;f.push(d.colorMatrixFilter)}b.setGlobalFilters(f)};c._removeGlobalFilters=function(b){b.setGlobalFilters(null)};c._hasFilters=function(){var b=this._DO_Props_._filters&&0<this._DO_Props_._filters.length;if(this._transform){var f=this._transform._colorTransform;if(1!=f._redMultiplier||0!=
f._redOffset||1!=f._greenMultiplier||0!=f._greenOffset||1!=f._blueMultiplier||0!=f._blueOffset||1!=f._alphaMultiplier||0!=f._alphaOffset)b=!0}return b};c._pushMask=function(b){b.setTransform(this._worldTransform);var f=this.mask||this._DO_Props_._scrollRect;f&&b.pushMask(f)};c._popMask=function(b){b.popMask()};c.drawCacheTexture=function(b){if(!1==this._DO_Props_._cacheAsBitmap)return!1;var f=this.getBounds(a.Rectangle.identity);if(this._DO_Privs_._cacheDirty||null==this._texture_to_render||1<=Math.round(f.width)-
this._texture_to_render._textureWidth||1<=Math.round(f.height)-this._texture_to_render._textureHeight)f=this._makeBitmapCache(),this._DO_Privs_._cacheDirty=!f;if(null==this._texture_to_render)return!1;var c=this._texture_to_render,f=c._offsetX,d=c._offsetY,e=c._textureWidth,c=c._textureHeight;this._updateTransform();b.setAlpha(this.worldAlpha,this.blendMode);b.setTransform(this._worldTransform);a.RenderFilter.getInstance().drawImage(b,this,0,0,e,c,f,d,e,c);return!0};Object.defineProperty(c,"needDraw",
{get:function(){return this._DO_Props_._needDraw},set:function(b){this._DO_Props_._needDraw=b},enumerable:!0,configurable:!0});c._updateTransform=function(){var b=this._DO_Props_;b._visible&&(this._calculateWorldTransform(),"updateTransform"==a.MainContext._renderLoopPhase&&(this.needDraw||this._texture_to_render||b._cacheAsBitmap)&&a.RenderCommand.push(this._draw,this))};c._calculateWorldTransform=function(){var b=this._DO_Props_,f=this._worldTransform,a=b._parent;f.identityMatrix(a._worldTransform);
this._getMatrix(f);var c=b._scrollRect;c&&f.append(1,0,0,1,-c.x,-c.y);this.worldAlpha=a.worldAlpha*b._alpha};c._render=function(b){};c.getBounds=function(b,f){void 0===f&&(f=!0);var c=this._DO_Props_,d=this._DO_Privs_,e=this._measureBounds(),g=c._hasWidthSet?c._explicitWidth:e.width,h=c._hasHeightSet?c._explicitHeight:e.height;d._rectW=e.width;d._rectH=e.height;this._clearSizeDirty();var k=e.x,e=e.y,l=0,m=0;f&&(0!=c._anchorX||0!=c._anchorY?(l=g*c._anchorX,m=h*c._anchorY):(l=c._anchorOffsetX,m=c._anchorOffsetY));
d._cacheBounds.initialize(k-l,e-m,g,h);c=d._cacheBounds;b||(b=new a.Rectangle);return b.initialize(c.x,c.y,c.width,c.height)};c.destroyCacheBounds=function(){var b=this._DO_Privs_;b._cacheBounds.x=0;b._cacheBounds.y=0;b._cacheBounds.width=0;b._cacheBounds.height=0};c._getConcatenatedMatrix=function(){for(var b=d.identityMatrixForGetConcatenated.identity(),f=this;null!=f;){var c=f._DO_Props_;0!=c._anchorX||0!=c._anchorY?(f=f._getSize(a.Rectangle.identity),b.prependTransform(c._x,c._y,c._scaleX,c._scaleY,
c._rotation,c._skewX,c._skewY,f.width*c._anchorX,f.height*c._anchorY)):b.prependTransform(c._x,c._y,c._scaleX,c._scaleY,c._rotation,c._skewX,c._skewY,c._anchorOffsetX,c._anchorOffsetY);c._scrollRect&&b.prepend(1,0,0,1,-c._scrollRect.x,-c._scrollRect.y);f=c._parent}return b};c.localToGlobal=function(b,f,c){void 0===b&&(b=0);void 0===f&&(f=0);var d=this._getConcatenatedMatrix();d.append(1,0,0,1,b,f);c||(c=new a.Point);c.x=d.tx;c.y=d.ty;return c};c.globalToLocal=function(b,f,c){void 0===b&&(b=0);void 0===
f&&(f=0);var d=this._getConcatenatedMatrix();d.invert();d.append(1,0,0,1,b,f);c||(c=new a.Point);c.x=d.tx;c.y=d.ty;return c};c.hitTest=function(b,f,c){void 0===c&&(c=!1);var d=this._DO_Props_;if(!d._visible||!c&&!d._touchEnabled)return null;c=this.getBounds(a.Rectangle.identity,!1);b-=c.x;f-=c.y;return 0<=b&&b<c.width&&0<=f&&f<c.height?this.mask||d._scrollRect?d._scrollRect&&b>d._scrollRect.x&&f>d._scrollRect.y&&b<d._scrollRect.x+d._scrollRect.width&&f<d._scrollRect.y+d._scrollRect.height||this.mask&&
this.mask.x<=b&&b<this.mask.x+this.mask.width&&this.mask.y<=f&&f<this.mask.y+this.mask.height?this:null:this:null};c.hitTestPoint=function(b,f,c){var d=this._DO_Privs_;b=this.globalToLocal(b,f);return c?(d._hitTestPointTexture||(d._hitTestPointTexture=new a.RenderTexture),c=d._hitTestPointTexture,c.drawToTexture(this),0!=c.getPixel32(b.x-d._hitTestPointTexture._offsetX,b.y-d._hitTestPointTexture._offsetY)[3]?!0:!1):!!this.hitTest(b.x,b.y,!0)};c._getMatrix=function(b){b||(b=a.Matrix.identity.identity());
var f=this._DO_Props_,c,d;d=this._getOffsetPoint();c=d.x;d=d.y;var e=this.__hack_local_matrix;e?(b.append(e.a,e.b,e.c,e.d,e.tx,e.ty),b.append(1,0,0,1,-c,-d)):b.appendTransform(f._x,f._y,f._scaleX,f._scaleY,f._rotation,f._skewX,f._skewY,c,d);return b};c._getSize=function(b){var f=this._DO_Props_;if(f._hasHeightSet&&f._hasWidthSet)return this._clearSizeDirty(),b.initialize(0,0,f._explicitWidth,f._explicitHeight);this._measureSize(b);f._hasWidthSet&&(b.width=f._explicitWidth);f._hasHeightSet&&(b.height=
f._explicitHeight);return b};c._measureSize=function(b){var f=this._DO_Privs_;this._DO_Props_._sizeDirty?(b=this._measureBounds(),f._rectW=b.width,f._rectH=b.height,this._clearSizeDirty()):(b.width=f._rectW,b.height=f._rectH);b.x=0;b.y=0;return b};c._measureBounds=function(){return a.Rectangle.identity.initialize(0,0,0,0)};c._getOffsetPoint=function(){var b=this._DO_Props_,f=b._anchorOffsetX,c=b._anchorOffsetY;if(0!=b._anchorX||0!=b._anchorY)c=this._getSize(a.Rectangle.identity),f=b._anchorX*c.width,
c=b._anchorY*c.height;b=a.Point.identity;b.x=f;b.y=c;return b};c._onAddToStage=function(){this._DO_Props_._stage=a.MainContext.instance.stage;a.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)};c._onRemoveFromStage=function(){a.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)};Object.defineProperty(c,"stage",{get:function(){return this._DO_Props_._stage},enumerable:!0,configurable:!0});c.addEventListener=function(b,f,c,u,g){void 0===u&&(u=!1);void 0===g&&(g=0);e.prototype.addEventListener.call(this,
b,f,c,u,g);((u=b==a.Event.ENTER_FRAME)||b==a.Event.RENDER)&&this._insertEventBin(u?d._enterFrameCallBackList:d._renderCallBackList,f,c,g,this)};c.removeEventListener=function(b,f,c,u){void 0===u&&(u=!1);e.prototype.removeEventListener.call(this,b,f,c,u);((u=b==a.Event.ENTER_FRAME)||b==a.Event.RENDER)&&this._removeEventBin(u?d._enterFrameCallBackList:d._renderCallBackList,f,c,this)};c.dispatchEvent=function(b){if(!b._bubbles)return e.prototype.dispatchEvent.call(this,b);for(var f=[],a=this;a;)f.push(a),
a=a._DO_Props_._parent;b._reset();this._dispatchPropagationEvent(b,f);return!b._isDefaultPrevented};c._dispatchPropagationEvent=function(b,f,a){a=f.length;for(var c=1,d=a-1;0<=d;d--){var e=f[d];b._currentTarget=e;b._target=this;b._eventPhase=c;e._notifyListener(b);if(b._isPropagationStopped||b._isPropagationImmediateStopped)return}e=f[0];b._currentTarget=e;b._target=this;b._eventPhase=2;e._notifyListener(b);if(!b._isPropagationStopped&&!b._isPropagationImmediateStopped)for(c=3,d=1;d<a&&(e=f[d],b._currentTarget=
e,b._target=this,b._eventPhase=c,e._notifyListener(b),!b._isPropagationStopped&&!b._isPropagationImmediateStopped);d++);};c.willTrigger=function(b){for(var f=this;f;){if(f.hasEventListener(b))return!0;f=f._DO_Props_._parent}return!1};Object.defineProperty(c,"cacheAsBitmap",{get:function(){return this._DO_Props_._cacheAsBitmap},set:function(b){(this._DO_Props_._cacheAsBitmap=b)?a.callLater(this._makeBitmapCache,this):this._texture_to_render=null},enumerable:!0,configurable:!0});c._makeBitmapCache=
function(){this.renderTexture||(this.renderTexture=new a.RenderTexture);var b=this.renderTexture.drawToTexture(this);this._texture_to_render=b?this.renderTexture:null;return b};c._setCacheDirty=function(b){void 0===b&&(b=!0);this._DO_Privs_._cacheDirty=b};d.getTransformBounds=function(b,f){var a=b.x,c=b.y,d=b.width,e=b.height;(a||c)&&f.appendTransform(0,0,1,1,0,0,0,-a,-c);var g=d*f.a,d=d*f.b,k=e*f.c,e=e*f.d,l=f.tx,m=f.ty,q=l,s=l,r=m,x=m;(a=g+l)<q?q=a:a>s&&(s=a);(a=g+k+l)<q?q=a:a>s&&(s=a);(a=k+l)<
q?q=a:a>s&&(s=a);(c=d+m)<r?r=c:c>x&&(x=c);(c=d+e+m)<r?r=c:c>x&&(x=c);(c=e+m)<r?r=c:c>x&&(x=c);return b.initialize(q,r,s-q,x-r)};Object.defineProperty(c,"filters",{get:function(){return this._DO_Props_._filters},set:function(b){this._DO_Props_._filters=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"transform",{get:function(){this._transform||(this._transform=new a.Transform(this));return this._transform},enumerable:!0,configurable:!0});d.color=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];
d.colorMatrixFilter=new a.ColorMatrixFilter;d.identityMatrixForGetConcatenated=new a.Matrix;d._enterFrameCallBackList=[];d._renderCallBackList=[];return d}(a.EventDispatcher);a.DisplayObject=g;g.prototype.__class__="egret.DisplayObject"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._touchChildren=!0;this._children=[];this._DO_Props_._isContainer=!0}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"touchChildren",{get:function(){return this._touchChildren},set:function(b){this._touchChildren=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"numChildren",{get:function(){return this._children.length},enumerable:!0,configurable:!0});c.setChildIndex=function(b,f){this.doSetChildIndex(b,f)};c.doSetChildIndex=
function(b,f){var c=this._children.indexOf(b);0>c&&a.Logger.fatalWithErrorId(1006);this._children.splice(c,1);0>f||this._children.length<=f?this._children.push(b):this._children.splice(f,0,b)};c.addChild=function(b){var f=this._children.length;b.parent==this&&f--;return this._doAddChild(b,f)};c.addChildAt=function(b,f){return this._doAddChild(b,f)};c._doAddChild=function(b,f,c){void 0===c&&(c=!0);if(b==this)return b;if(0>f||f>this._children.length)return a.Logger.fatalWithErrorId(1007),b;var u=b.parent;
if(u==this)return this.doSetChildIndex(b,f),b;if(u){var e=u._children.indexOf(b);0<=e&&u._doRemoveChild(e)}this._children.splice(f,0,b);b._parentChanged(this);c&&b.dispatchEventWith(a.Event.ADDED,!0);if(this._DO_Props_._stage)for(b._onAddToStage(),f=d.__EVENT__ADD_TO_STAGE_LIST;0<f.length;)u=f.shift(),c&&u.dispatchEventWith(a.Event.ADDED_TO_STAGE);b._setDirty();this._setSizeDirty();return b};c.removeChild=function(b){b=this._children.indexOf(b);if(0<=b)return this._doRemoveChild(b);a.Logger.fatalWithErrorId(1008);
return null};c.removeChildAt=function(b){if(0<=b&&b<this._children.length)return this._doRemoveChild(b);a.Logger.fatalWithErrorId(1007);return null};c._doRemoveChild=function(b,f){void 0===f&&(f=!0);var c=this._children,u=c[b];f&&u.dispatchEventWith(a.Event.REMOVED,!0);if(this._DO_Props_._stage){u._onRemoveFromStage();for(var e=d.__EVENT__REMOVE_FROM_STAGE_LIST;0<e.length;){var g=e.shift();f&&g.dispatchEventWith(a.Event.REMOVED_FROM_STAGE);g._DO_Props_._stage=null}}u._parentChanged(null);c.splice(b,
1);this._setSizeDirty();return u};c.getChildAt=function(b){if(0<=b&&b<this._children.length)return this._children[b];a.Logger.fatalWithErrorId(1007);return null};c.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1};c.swapChildrenAt=function(b,f){0<=b&&b<this._children.length&&0<=f&&f<this._children.length?this._swapChildrenAt(b,f):a.Logger.fatalWithErrorId(1007)};c.swapChildren=function(b,f){var c=this._children.indexOf(b),d=this._children.indexOf(f);-1==c||-1==d?a.Logger.fatalWithErrorId(1008):
this._swapChildrenAt(c,d)};c._swapChildrenAt=function(b,f){if(b!=f){var a=this._children,c=a[b];a[b]=a[f];a[f]=c}};c.getChildIndex=function(b){return this._children.indexOf(b)};c.removeChildren=function(){for(var b=this._children.length-1;0<=b;b--)this._doRemoveChild(b)};c._updateTransform=function(){if(this._DO_Props_._visible){this._hasFilters()&&a.RenderCommand.push(this._setGlobalFilters,this);var b=this.mask||this._DO_Props_._scrollRect;b&&a.RenderCommand.push(this._pushMask,this);e.prototype._updateTransform.call(this);
if(!this._DO_Props_._cacheAsBitmap||!this._texture_to_render)for(var f=0,c=this._children,d=c.length;f<d;f++)c[f]._updateTransform();b&&a.RenderCommand.push(this._popMask,this);this._hasFilters()&&a.RenderCommand.push(this._removeGlobalFilters,this)}};c._render=function(b){if(!a.MainContext.__use_new_draw)for(var f=0,c=this._children,d=c.length;f<d;f++)c[f]._draw(b)};c._measureBounds=function(){for(var b=0,f=0,c=0,d=0,e=this._children,g=e.length,h=0;h<g;h++){var k=e[h];if(k.visible){var l=k.getBounds(a.Rectangle.identity,
!1),m=l.x,q=l.y,s=l.width,l=l.height,k=k._getMatrix(),k=a.DisplayObject.getTransformBounds(a.Rectangle.identity.initialize(m,q,s,l),k),m=k.x,q=k.y,s=k.width+k.x,k=k.height+k.y;if(m<b||0==h)b=m;if(s>f||0==h)f=s;if(q<c||0==h)c=q;if(k>d||0==h)d=k}}return a.Rectangle.identity.initialize(b,c,f-b,d-c)};c.hitTest=function(b,f,c){void 0===c&&(c=!1);var d;if(!this._DO_Props_._visible)return null;if(this._DO_Props_._scrollRect){if(b<this._DO_Props_._scrollRect.x||f<this._DO_Props_._scrollRect.y||b>this._DO_Props_._scrollRect.x+
this._DO_Props_._scrollRect.width||f>this._DO_Props_._scrollRect.y+this._DO_Props_._scrollRect.height)return null}else if(this.mask&&(this.mask.x>b||b>this.mask.x+this.mask.width||this.mask.y>f||f>this.mask.y+this.mask.height))return null;for(var g=this._children,p=this._touchChildren,h=g.length-1;0<=h;h--){var k=g[h],l=k._getMatrix(),m=k.scrollRect;m&&l.append(1,0,0,1,-m.x,-m.y);l.invert();l=a.Matrix.transformCoords(l,b,f);if(k=k.hitTest(l.x,l.y,!0)){if(!p)return this;if(k._DO_Props_._touchEnabled&&
p)return k;d=this}}return d?d:this._texture_to_render?e.prototype.hitTest.call(this,b,f,c):null};c._onAddToStage=function(){e.prototype._onAddToStage.call(this);for(var b=this._children.length,f=0;f<b;f++)this._children[f]._onAddToStage()};c._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this);for(var b=this._children,f=b.length,a=0;a<f;a++)b[a]._onRemoveFromStage()};c.getChildByName=function(b){for(var f=this._children,a=f.length,c,d=0;d<a;d++)if(c=f[d],c.name==b)return c;return null};
d.__EVENT__ADD_TO_STAGE_LIST=[];d.__EVENT__REMOVE_FROM_STAGE_LIST=[];return d}(a.DisplayObject);a.DisplayObjectContainer=g;g.prototype.__class__="egret.DisplayObjectContainer"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.NO_BORDER="noBorder";a.NO_SCALE="noScale";a.SHOW_ALL="showAll";a.EXACT_FIT="exactFit";return a}();a.StageScaleMode=g;g.prototype.__class__="egret.StageScaleMode"})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f){void 0===b&&(b=480);void 0===f&&(f=800);e.call(this);this._changeSizeDispatchFlag=!0;this._scaleMode="";this._stageHeight=this._stageWidth=NaN;this.touchEnabled=!0;this._DO_Props_._stage=this;this._stageWidth=b;this._stageHeight=f}__extends(d,e);var c=d.prototype;c.invalidate=function(){d._invalidateRenderFlag=!0};Object.defineProperty(c,"scaleMode",{get:function(){return this._scaleMode},set:function(b){this._scaleMode!=b&&(this._scaleMode=b,this.setResolutionPolicy())},
enumerable:!0,configurable:!0});c.changeSize=function(){this._changeSizeDispatchFlag&&(this.setResolutionPolicy(),this.dispatchEventWith(a.Event.RESIZE))};c.setResolutionPolicy=function(){var b=d.SCALE_MODE_ENUM[this._scaleMode];if(!b)throw Error(a.getString(1024));var f=new a.EqualToFrame,b=new a.ResolutionPolicy(f,b);a.StageDelegate.getInstance()._setResolutionPolicy(b);this._stageWidth=a.StageDelegate.getInstance()._stageWidth;this._stageHeight=a.StageDelegate.getInstance()._stageHeight};Object.defineProperty(c,
"stageWidth",{get:function(){return this._stageWidth},enumerable:!0,configurable:!0});Object.defineProperty(c,"stageHeight",{get:function(){return this._stageHeight},enumerable:!0,configurable:!0});c.hitTest=function(b,f,c){if(!this._DO_Props_._touchEnabled)return null;var d;if(!this._touchChildren)return this;c=this._children;for(var e=c.length-1;0<=e;e--){d=c[e];var g=d._getMatrix(),h=d.scrollRect;h&&g.append(1,0,0,1,-h.x,-h.y);g.invert();g=a.Matrix.transformCoords(g,b,f);if((d=d.hitTest(g.x,g.y,
!0))&&d.touchEnabled)return d}return this};c.getBounds=function(b){b||(b=new a.Rectangle);return b.initialize(0,0,this._stageWidth,this._stageHeight)};c._updateTransform=function(){for(var b=0,f=this._children.length;b<f;b++)this._children[b]._updateTransform()};Object.defineProperty(c,"focus",{get:function(){return null},enumerable:!0,configurable:!0});d.registerScaleMode=function(b,f,c){d.SCALE_MODE_ENUM[b]&&!c?a.Logger.warningWithErrorId(1009,b):d.SCALE_MODE_ENUM[b]=f};d._invalidateRenderFlag=
!1;d.SCALE_MODE_ENUM={};return d}(a.DisplayObjectContainer);a.Stage=g;g.prototype.__class__="egret.Stage"})(egret||(egret={}));egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_SCALE]=new egret.NoScale;egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.SHOW_ALL]=new egret.ShowAll;egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_BORDER]=new egret.FixedWidth;egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.EXACT_FIT]=new egret.FullScreen;
(function(a){var g=function(){return function(){this._horizontalScrollPolicy=this._verticalScrollPolicy="auto";this._scrollTop=this._scrollLeft=0;this._vCanScroll=this._hCanScroll=!1;this._lastTouchPosition=new a.Point(0,0);this._touchStartPosition=new a.Point(0,0);this._scrollStarted=!1;this._lastTouchTime=0;this._lastTouchEvent=null;this._velocitys=[];this._isVTweenPlaying=this._isHTweenPlaying=!1;this._vScrollTween=this._hScrollTween=null}}();a.ScrollViewProperties=g;g.prototype.__class__="egret.ScrollViewProperties"})(egret||
(egret={}));
(function(a){var g=function(e){function d(b){void 0===b&&(b=null);e.call(this);this.scrollBeginThreshold=10;this.scrollSpeed=1;this.touchBeginTimer=this.delayTouchBeginEvent=this._content=null;this.touchEnabled=!0;this._ScrV_Props_=new a.ScrollViewProperties;b&&this.setContent(b)}__extends(d,e);var c=d.prototype;c.setContent=function(b){this._content!==b&&(this.removeContent(),b&&(this._content=b,e.prototype.addChild.call(this,b),this._addEvents()))};c.removeContent=function(){this._content&&(this._removeEvents(),
e.prototype.removeChildAt.call(this,0));this._content=null};Object.defineProperty(c,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(b){b!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=b)},enumerable:!0,configurable:!0});Object.defineProperty(c,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(b){b!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=
b)},enumerable:!0,configurable:!0});Object.defineProperty(c,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(b){b!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=b,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0});Object.defineProperty(c,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(b){b!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=b,this._validatePosition(!0,!1),
this._updateContentPosition())},enumerable:!0,configurable:!0});c.setScrollPosition=function(b,f,a){void 0===a&&(a=!1);if(!a||0!=b||0!=f)if(a||this._ScrV_Props_._scrollTop!=b||this._ScrV_Props_._scrollLeft!=f){if(a){a=this._isOnTheEdge(!0);var c=this._isOnTheEdge(!1);this._ScrV_Props_._scrollTop+=a?b/2:b;this._ScrV_Props_._scrollLeft+=c?f/2:f}else this._ScrV_Props_._scrollTop=b,this._ScrV_Props_._scrollLeft=f;this._validatePosition(!0,!0);this._updateContentPosition()}};c._isOnTheEdge=function(b){void 0===
b&&(b=!0);var f=this._ScrV_Props_._scrollTop,a=this._ScrV_Props_._scrollLeft;return b?0>f||f>this.getMaxScrollTop():0>a||a>this.getMaxScrollLeft()};c._validatePosition=function(b,f){void 0===b&&(b=!1);void 0===f&&(f=!1);if(b){var a=this.height,c=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-a)/2);this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,c>a?c-a/2:a/2)}f&&(a=this.width,c=this._getContentWidth(),this._ScrV_Props_._scrollLeft=
Math.max(this._ScrV_Props_._scrollLeft,(0-a)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,c>a?c-a/2:a/2))};c._setWidth=function(b){this._DO_Props_._explicitWidth!=b&&(e.prototype._setWidth.call(this,b),this._updateContentPosition())};c._setHeight=function(b){this._DO_Props_._explicitHeight!=b&&(e.prototype._setHeight.call(this,b),this._updateContentPosition())};c._updateContentPosition=function(){var b=this.getBounds(a.Rectangle.identity);this.scrollRect=new a.Rectangle(this._ScrV_Props_._scrollLeft,
this._ScrV_Props_._scrollTop,b.width,b.height);this.dispatchEvent(new a.Event(a.Event.CHANGE))};c._checkScrollPolicy=function(){var b=this.__checkScrollPolicy(this._ScrV_Props_._horizontalScrollPolicy,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=b;var f=this.__checkScrollPolicy(this._ScrV_Props_._verticalScrollPolicy,this._getContentHeight(),this.height);this._ScrV_Props_._vCanScroll=f;return b||f};c.__checkScrollPolicy=function(b,f,a){return"on"==b?!0:"off"==b?!1:f>a};c._addEvents=
function(){this.addEventListener(a.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this);this.addEventListener(a.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0);this.addEventListener(a.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)};c._removeEvents=function(){this.removeEventListener(a.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this);this.removeEventListener(a.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0);this.removeEventListener(a.TouchEvent.TOUCH_END,this._onTouchEndCapture,
this,!0)};c._onTouchBegin=function(b){!b._isDefaultPrevented&&this._checkScrollPolicy()&&(this._ScrV_Props_._touchStartPosition.x=b.stageX,this._ScrV_Props_._touchStartPosition.y=b.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this.stage.addEventListener(a.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this.stage.addEventListener(a.TouchEvent.TOUCH_END,this._onTouchEnd,this),this.stage.addEventListener(a.TouchEvent.LEAVE_STAGE,this._onTouchEnd,
this),this.addEventListener(a.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(b),b.preventDefault())};c._onTouchBeginCapture=function(b){var f=this._checkScrollPolicy();if(f){for(var c=b.target;c!=this;){if("_checkScrollPolicy"in c&&(f=c._checkScrollPolicy()))return;c=c.parent}b.stopPropagation();this.delayTouchBeginEvent=this.cloneTouchEvent(b);this.touchBeginTimer||(this.touchBeginTimer=new a.Timer(100,1),this.touchBeginTimer.addEventListener(a.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,
this));this.touchBeginTimer.start();this._onTouchBegin(b)}};c._onTouchEndCapture=function(b){this.delayTouchBeginEvent&&this._onTouchBeginTimer()};c._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var b=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null;this.stage&&this.dispatchPropagationEvent(b)};c.dispatchPropagationEvent=function(b){for(var f=[],a=b._target,c=0;a;)a==this&&(c=f.length),f.push(a),a=a.parent;a=f.slice(0,c);a=a.reverse();f=a.concat(f);this._dispatchPropagationEvent(b,
f,c)};c._dispatchPropagationEvent=function(b,f,a){for(var c=f.length,d=0;d<c;d++){var e=f[d];b._currentTarget=e;b._eventPhase=d<a?1:d==a?2:3;e._notifyListener(b);if(b._isPropagationStopped||b._isPropagationImmediateStopped)break}};c._onTouchMove=function(b){if(this._ScrV_Props_._lastTouchPosition.x!=b.stageX||this._ScrV_Props_._lastTouchPosition.y!=b.stageY){if(!this._ScrV_Props_._scrollStarted){var f=b.stageX-this._ScrV_Props_._touchStartPosition.x,a=b.stageY-this._ScrV_Props_._touchStartPosition.y;
if(Math.sqrt(f*f+a*a)<this.scrollBeginThreshold){this._logTouchEvent(b);return}}this._ScrV_Props_._scrollStarted=!0;this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop());this.touchChildren=!1;f=this._getPointChange(b);this.setScrollPosition(f.y,f.x,!0);this._calcVelocitys(b);this._logTouchEvent(b)}};c._onTouchEnd=function(b){this.touchChildren=!0;this._ScrV_Props_._scrollStarted=!1;a.MainContext.instance.stage.removeEventListener(a.TouchEvent.TOUCH_MOVE,this._onTouchMove,
this);a.MainContext.instance.stage.removeEventListener(a.TouchEvent.TOUCH_END,this._onTouchEnd,this);a.MainContext.instance.stage.removeEventListener(a.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this);this.removeEventListener(a.Event.ENTER_FRAME,this._onEnterFrame,this);this._moveAfterTouchEnd()};c._onEnterFrame=function(b){b=a.getTimer();100<b-this._ScrV_Props_._lastTouchTime&&300>b-this._ScrV_Props_._lastTouchTime&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)};c._logTouchEvent=function(b){this._ScrV_Props_._lastTouchPosition.x=
b.stageX;this._ScrV_Props_._lastTouchPosition.y=b.stageY;this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(b);this._ScrV_Props_._lastTouchTime=a.getTimer()};c._getPointChange=function(b){return{x:!1===this._ScrV_Props_._hCanScroll?0:this._ScrV_Props_._lastTouchPosition.x-b.stageX,y:!1===this._ScrV_Props_._vCanScroll?0:this._ScrV_Props_._lastTouchPosition.y-b.stageY}};c._calcVelocitys=function(b){var f=a.getTimer();if(0==this._ScrV_Props_._lastTouchTime)this._ScrV_Props_._lastTouchTime=f;else{var c=
this._getPointChange(b),f=f-this._ScrV_Props_._lastTouchTime;c.x/=f;c.y/=f;this._ScrV_Props_._velocitys.push(c);5<this._ScrV_Props_._velocitys.length&&this._ScrV_Props_._velocitys.shift();this._ScrV_Props_._lastTouchPosition.x=b.stageX;this._ScrV_Props_._lastTouchPosition.y=b.stageY}};c._getContentWidth=function(){return this._content.explicitWidth||this._content.width};c._getContentHeight=function(){return this._content.explicitHeight||this._content.height};c.getMaxScrollLeft=function(){var b=this._getContentWidth()-
this.width;return Math.max(0,b)};c.getMaxScrollTop=function(){var b=this._getContentHeight()-this.height;return Math.max(0,b)};c._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var b=0,f=0,a=0,c=0;c<this._ScrV_Props_._velocitys.length;c++)var e=this._ScrV_Props_._velocitys[c],g=d.weight[c],b=b+e.x*g,f=f+e.y*g,a=a+g;this._ScrV_Props_._velocitys.length=0;0>=this.scrollSpeed&&(this.scrollSpeed=1);b=b/a*this.scrollSpeed;f=f/a*this.scrollSpeed;e=Math.abs(b);a=Math.abs(f);g=
this.getMaxScrollLeft();c=this.getMaxScrollTop();b=0.02<e?this.getAnimationDatas(b,this._ScrV_Props_._scrollLeft,g):{position:this._ScrV_Props_._scrollLeft,duration:1};f=0.02<a?this.getAnimationDatas(f,this._ScrV_Props_._scrollTop,c):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(b.position,b.duration);this.setScrollTop(f.position,f.duration)}};c._onTweenFinished=function(b){b==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1);b==this._ScrV_Props_._hScrollTween&&
(this._ScrV_Props_._isHTweenPlaying=!1);!1==this._ScrV_Props_._isHTweenPlaying&&!1==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()};c._onScrollStarted=function(){};c._onScrollFinished=function(){a.Tween.removeTweens(this);this._ScrV_Props_._hScrollTween=null;this._ScrV_Props_._vScrollTween=null;this._ScrV_Props_._isHTweenPlaying=!1;this._ScrV_Props_._isVTweenPlaying=!1;this.dispatchEvent(new a.Event(a.Event.COMPLETE))};c.setScrollTop=function(b,f){void 0===f&&(f=0);var c=Math.min(this.getMaxScrollTop(),
Math.max(b,0));if(0==f)return this.scrollTop=c,null;var d=a.Tween.get(this).to({scrollTop:b},f,a.Ease.quartOut);c!=b&&d.to({scrollTop:c},300,a.Ease.quintOut);this._ScrV_Props_._isVTweenPlaying=!0;this._ScrV_Props_._vScrollTween=d;d.call(this._onTweenFinished,this,[d]);this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted();return d};c.setScrollLeft=function(b,f){void 0===f&&(f=0);var c=Math.min(this.getMaxScrollLeft(),Math.max(b,0));if(0==f)return this.scrollLeft=c,null;var d=a.Tween.get(this).to({scrollLeft:b},
f,a.Ease.quartOut);c!=b&&d.to({scrollLeft:c},300,a.Ease.quintOut);this._ScrV_Props_._isHTweenPlaying=!0;this._ScrV_Props_._hScrollTween=d;d.call(this._onTweenFinished,this,[d]);this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted();return d};c.getAnimationDatas=function(b,f,a){var c=Math.abs(b),d=0,e=f+500*b;if(0>e||e>a)for(e=f;Infinity!=Math.abs(b)&&0.02<Math.abs(b);)e+=b,b=0>e||e>a?0.998*b*0.95:0.998*b,d++;else d=500*-Math.log(0.02/c);return{position:Math.min(a+50,Math.max(e,-50)),duration:d}};
c.cloneTouchEvent=function(b){var f=new a.TouchEvent(b._type,b._bubbles,b.cancelable);f.touchPointID=b.touchPointID;f._stageX=b._stageX;f._stageY=b._stageY;f.ctrlKey=b.ctrlKey;f.altKey=b.altKey;f.shiftKey=b.shiftKey;f.touchDown=b.touchDown;f._isDefaultPrevented=!1;f._target=b._target;return f};c.throwNotSupportedError=function(){throw Error(a.getString(1023));};c.addChild=function(b){this.throwNotSupportedError();return null};c.addChildAt=function(b,f){this.throwNotSupportedError();return null};c.removeChild=
function(b){this.throwNotSupportedError();return null};c.removeChildAt=function(b){this.throwNotSupportedError();return null};c.setChildIndex=function(b,f){this.throwNotSupportedError()};c.swapChildren=function(b,f){this.throwNotSupportedError()};c.swapChildrenAt=function(b,f){this.throwNotSupportedError()};c.hitTest=function(b,f,c){void 0===c&&(c=!1);var d=e.prototype.hitTest.call(this,b,f,c);return d?d:a.DisplayObject.prototype.hitTest.call(this,b,f,c)};d.weight=[1,1.33,1.66,2,2.33];return d}(a.DisplayObjectContainer);
a.ScrollView=g;g.prototype.__class__="egret.ScrollView"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.REPEAT="repeat";a.SCALE="scale";return a}();a.BitmapFillMode=g;g.prototype.__class__="egret.BitmapFillMode"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){e.call(this);this.scale9Grid=this._texture=null;this.fillMode="scale";b&&(this._texture=b,this._setSizeDirty());this.needDraw=!0}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"texture",{get:function(){return this._texture},set:function(b){b!=this._texture&&(this._setSizeDirty(),this._texture=b)},enumerable:!0,configurable:!0});c._render=function(b){var f=this._texture;f?(this._texture_to_render=f,d._drawBitmap(b,this._DO_Props_._hasWidthSet?
this._DO_Props_._explicitWidth:f._textureWidth,this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:f._textureHeight,this)):this._texture_to_render=null};d._drawBitmap=function(b,f,a,c){var e=c._texture_to_render;if(e){var g=e._textureWidth,h=e._textureHeight;if("scale"==c.fillMode){var k=c.scale9Grid||e.scale9Grid;if(k&&g-k.width<f&&h-k.height<a)d.drawScale9GridImage(b,c,k,f,a);else{var k=e._offsetX,l=e._offsetY,m=e._bitmapWidth||g,q=e._bitmapHeight||h;f/=g;k=Math.round(k*f);f=Math.round(m*
f);a/=h;l=Math.round(l*a);a=Math.round(q*a);d.renderFilter.drawImage(b,c,e._bitmapX,e._bitmapY,m,q,k,l,f,a)}}else d.drawRepeatImage(b,c,f,a,c.fillMode)}};d.drawRepeatImage=function(b,f,c,d,e){var g=f._texture_to_render;if(g){var h=g._textureWidth,k=g._textureHeight,l=g._bitmapX,m=g._bitmapY,h=g._bitmapWidth||h,k=g._bitmapHeight||k,q=g._offsetX,g=g._offsetY;a.RenderFilter.getInstance().drawImage(b,f,l,m,h,k,q,g,c,d,e)}};d.drawScale9GridImage=function(b,f,c,d,e){var g=a.MainContext.instance.rendererContext._texture_scale_factor,
h=f._texture_to_render;if(h&&c){var k=h._textureWidth,l=h._textureHeight,m=h._bitmapX,q=h._bitmapY,s=h._bitmapWidth||k,r=h._bitmapHeight||l;d-=k-s;e-=l-r;if(!b.drawImageScale9(h,m,q,s,r,h._offsetX,h._offsetY,d,e,c)){k=h._offsetX/g;l=h._offsetY/g;h=a.RenderFilter.getInstance();c=a.Rectangle.identity.initialize(c.x-Math.round(k),c.y-Math.round(k),c.width,c.height);k=Math.round(k);l=Math.round(l);c.y==c.bottom&&(c.bottom<r?c.bottom++:c.y--);c.x==c.right&&(c.right<s?c.right++:c.x--);var x=m+c.x/g,z=m+
c.right/g,v=s-c.right,y=q+c.y/g,g=q+c.bottom/g,w=r-c.bottom,B=k+c.x,A=l+c.y,r=e-(r-c.bottom),s=d-(s-c.right);h.drawImage(b,f,m,q,c.x,c.y,k,l,c.x,c.y);h.drawImage(b,f,x,q,c.width,c.y,B,l,s-c.x,c.y);h.drawImage(b,f,z,q,v,c.y,k+s,l,d-s,c.y);h.drawImage(b,f,m,y,c.x,c.height,k,A,c.x,r-c.y);h.drawImage(b,f,x,y,c.width,c.height,B,A,s-c.x,r-c.y);h.drawImage(b,f,z,y,v,c.height,k+s,A,d-s,r-c.y);h.drawImage(b,f,m,g,c.x,w,k,l+r,c.x,e-r);h.drawImage(b,f,x,g,c.width,w,B,l+r,s-c.x,e-r);h.drawImage(b,f,z,g,v,w,k+
s,l+r,d-s,e-r)}}};c._measureBounds=function(){var b=this._texture;return b?a.Rectangle.identity.initialize(0,0,b._textureWidth,b._textureHeight):e.prototype._measureBounds.call(this)};d.renderFilter=a.RenderFilter.getInstance();return d}(a.DisplayObject);a.Bitmap=g;g.prototype.__class__="egret.Bitmap"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._text="";this._textChanged=!1;this._font=null;this._fontChanged=!1;this._textOffsetY=this._textOffsetX=this._textHeight=this._textWidth=this._lineSpacing=this._letterSpacing=0;this.textLinesChange=!0;this._lineHeights=[];this.needDraw=this.cacheAsBitmap=!0}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"text",{get:function(){return this._text},set:function(b){this._text!=b&&(this._textChanged=!0,this._text=b,this._setSizeDirty())},
enumerable:!0,configurable:!0});Object.defineProperty(c,"font",{get:function(){return this._font},set:function(b){this._font!=b&&(this._font=b,this._fontChanged=!0,this._setSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c,"letterSpacing",{get:function(){return this._letterSpacing},set:function(b){this._setLetterSpacing(b)},enumerable:!0,configurable:!0});c._setLetterSpacing=function(b){this._letterSpacing=b;this._setSizeDirty()};Object.defineProperty(c,"lineSpacing",{get:function(){return this._lineSpacing},
set:function(b){this._setLineSpacing(b)},enumerable:!0,configurable:!0});c._setLineSpacing=function(b){this._lineSpacing=b};c._setSizeDirty=function(){e.prototype._setSizeDirty.call(this);this.textLinesChange=!0};c._render=function(b){var f=this._getTextLines(),c=f.length;if(0!=c){for(var u=this._font,e=u._getFirstCharHeight(),e=Math.ceil(e*d.EMPTY_FACTOR),g=0,h=this._DO_Props_._hasHeightSet?this._DO_Props_._explicitHeight:Number.POSITIVE_INFINITY,k=this._lineHeights,l=0;l<c;l++){var m=k[l];if(0<
l&&g+m>h)break;for(var q=f[l],s=q.length,r=0,x=0;x<s;x++){var z=q.charAt(x),v=u.getTexture(z);if(v){var z=v._bitmapWidth||v._textureWidth,y=v._bitmapHeight||v._textureHeight;this._texture_to_render=v;a.RenderFilter.getInstance().drawImage(b,this,v._bitmapX,v._bitmapY,z,y,r+v._offsetX,g+v._offsetY,z,y);r+=v._textureWidth+this._letterSpacing}else" "==z?r+=e:a.Logger.warningWithErrorId(1011,z)}g+=m+this._lineSpacing}this._texture_to_render=null}};c._measureBounds=function(){var b=this._getTextLines();
return 0==b.length?a.Rectangle.identity.initialize(0,0,0,0):a.Rectangle.identity.initialize(this._textOffsetX,this._textOffsetY,this._textWidth-this._textOffsetX,this._textHeight-this._textOffsetY+(b.length-1)*this._lineSpacing)};c._getTextLines=function(){if(!this.textLinesChange)return this._textLines;var b=[];this._textLines=b;this.textLinesChange=!1;var f=[];this._lineHeights=f;if(!this._text||!this._font)return b;for(var c=0,u=0,e=0,g=0,h=this._DO_Props_._hasWidthSet,k=this._DO_Props_._hasWidthSet?
this._DO_Props_._explicitWidth:Number.POSITIVE_INFINITY,l=this._font,m=l._getFirstCharHeight(),q=Math.ceil(m*d.EMPTY_FACTOR),s=this._text.split(/(?:\r\n|\r|\n)/),r=s.length,x=!0,z=0;z<r;z++){for(var v=s[z],y=v.length,w=0,B=0,A=!0,C=0;C<y;C++){A||(B+=this._letterSpacing);var D=v.charAt(C),F,G=0,H=0,E=l.getTexture(D);if(E)D=E._textureWidth,F=E._textureHeight,G=E._offsetX,H=E._offsetY;else if(" "==D)D=q,F=m;else{a.Logger.warningWithErrorId(1011,D);A&&(A=!1);continue}A&&(A=!1,e=Math.min(G,e));x&&(g=Math.min(H,
g));h&&0<C&&B+D>k?(b.push(v.substring(0,C)),f.push(w),u+=w,c=Math.max(B,c),v=v.substring(C),y=v.length,C=0,B=D,w=F):(B+=D,w=Math.max(F,w))}x&&(x=!1);b.push(v);f.push(w);u+=w;c=Math.max(B,c)}this._textWidth=c;this._textHeight=u;this._textOffsetX=e;this._textOffsetY=g;return b};d.EMPTY_FACTOR=0.33;return d}(a.DisplayObject);a.BitmapText=g;g.prototype.__class__="egret.BitmapText"})(egret||(egret={}));
(function(a){var g=function(){function d(){this.fillStyleColor=this.strokeStyleColor=this.commandQueue=this._renderContext=null;this._dirty=!1;this.lineY=this.lineX=0;this._firstCheck=!0;this._lastY=this._lastX=this._maxY=this._maxX=this._minY=this._minX=0;this.commandQueue=[]}var c=d.prototype;c.beginFill=function(b,f){void 0===f&&(f=1);this.fillStyleColor=this._parseColor(b,f);this._pushCommand(new e(this._setStyle,this,[this.fillStyleColor]))};c._parseColor=function(b,f){return"rgba("+(b>>16)+
","+((b&65280)>>8)+","+(b&255)+","+f+")"};c._setStyle=function(b){this._renderContext.fillStyle=b;this._renderContext.beginPath()};c.drawRect=function(b,f,a,c){this._pushCommand(new e(function(b,f,a,c){this._renderContext.beginPath();this._renderContext.rect(b,f,a,c);this._renderContext.closePath()},this,[b,f,a,c]));this._checkRect(b,f,a,c)};c.drawCircle=function(b,f,a){this._pushCommand(new e(function(b,f,a){this._renderContext.beginPath();this._renderContext.arc(b,f,a,0,2*Math.PI);this._renderContext.closePath()},
this,[b,f,a]));this._checkRect(b-a,f-a,2*a,2*a)};c.drawRoundRect=function(b,f,a,c,d,g){this._pushCommand(new e(function(b,f,a,c,d,n){d/=2;n=n?n/2:d;a=b+a;c=f+c;var u=c-n;this._renderContext.beginPath();this._renderContext.moveTo(a,u);this._renderContext.quadraticCurveTo(a,c,a-d,c);this._renderContext.lineTo(b+d,c);this._renderContext.quadraticCurveTo(b,c,b,c-n);this._renderContext.lineTo(b,f+n);this._renderContext.quadraticCurveTo(b,f,b+d,f);this._renderContext.lineTo(a-d,f);this._renderContext.quadraticCurveTo(a,
f,a,f+n);this._renderContext.lineTo(a,u);this._renderContext.closePath()},this,[b,f,a,c,d,g]));this._checkRect(b,f,a,c)};c.drawEllipse=function(b,f,a,c){this._pushCommand(new e(function(b,f,a,c){b+=a/2;f+=c/2;var d=a>c?a:c;a/=d;c/=d;d/=2;this._renderContext.scale(a,c);this._renderContext.beginPath();this._renderContext.arc(b/a,f/c,d,0,2*Math.PI);this._renderContext.closePath();this._renderContext.scale(1/a,1/c)},this,[b,f,a,c]));this._checkRect(b,f,a,c)};c.lineStyle=function(b,f,a,c,d,g,h,k){void 0===
b&&(b=NaN);void 0===f&&(f=0);void 0===a&&(a=1);void 0===c&&(c=!1);void 0===d&&(d="normal");void 0===g&&(g=null);void 0===h&&(h=null);void 0===k&&(k=3);this.strokeStyleColor&&(this._createEndLineCommand(),this._pushCommand(this._endLineCommand));this.strokeStyleColor=this._parseColor(f,a);this._pushCommand(new e(function(b,f){this._renderContext.lineWidth=b;this._renderContext.strokeStyle=f;this._renderContext.beginPath()},this,[b,this.strokeStyleColor]));this.moveTo(this.lineX,this.lineY)};c.lineTo=
function(b,f){this._pushCommand(new e(function(b,f){this._renderContext.lineTo(b,f)},this,[b,f]));this._checkPoint(this.lineX,this.lineY);this.lineX=b;this.lineY=f;this._checkPoint(b,f)};c.curveTo=function(b,f,a,c){this._pushCommand(new e(function(b,f,a,c){this._renderContext.quadraticCurveTo(b,f,a,c)},this,[b,f,a,c]));this._checkPoint(this.lineX,this.lineY);this.lineX=a;this.lineY=c;this._checkPoint(b,f);this._checkPoint(a,c)};c.cubicCurveTo=function(b,f,a,c,d,g){this._pushCommand(new e(function(b,
f,a,c,d,n){this._renderContext.bezierCurveTo(b,f,a,c,d,n)},this,[b,f,a,c,d,g]));this._checkPoint(this.lineX,this.lineY);this.lineX=d;this.lineY=g;this._checkPoint(b,f);this._checkPoint(a,c);this._checkPoint(d,g)};c.moveTo=function(b,f){this._pushCommand(new e(function(b,f){this._renderContext.moveTo(b,f)},this,[b,f]));this.lineX=b;this.lineY=f};c.clear=function(){this.lineY=this.lineX=this.commandQueue.length=0;this.fillStyleColor=this.strokeStyleColor=null;this._maxY=this._maxX=this._minY=this._minX=
0;this._dirty=this._firstCheck=!0};c.endFill=function(){null!=this.fillStyleColor&&(this._fill(),this.fillStyleColor=null)};c._beginDraw=function(b){};c._endDraw=function(b){};c._draw=function(b){var f=this.commandQueue.length;if(0!=f){this._beginDraw(b);for(var a=0;a<f;a++){var c=this.commandQueue[a];c.method.apply(c.thisObject,c.args)}this.fillStyleColor&&(this._createEndFillCommand(),c=this._endFillCommand,c.method.apply(c.thisObject,c.args));this.strokeStyleColor&&(this._createEndLineCommand(),
c=this._endLineCommand,c.method.apply(c.thisObject,c.args));this._endDraw(b);this._dirty=!1}};c._checkRect=function(b,f,a,c){this._firstCheck?(this._firstCheck=!1,this._minX=b,this._minY=f,this._maxX=b+a,this._maxY=f+c):(this._minX=Math.min(this._minX,b),this._minY=Math.min(this._minY,f),this._maxX=Math.max(this._maxX,b+a),this._maxY=Math.max(this._maxY,f+c));this._dirty=!0};c._checkPoint=function(b,f){this._firstCheck?(this._firstCheck=!1,this._minX=b,this._minY=f,this._maxX=b,this._maxY=f):(this._minX=
Math.min(this._minX,b),this._minY=Math.min(this._minY,f),this._maxX=Math.max(this._maxX,b),this._maxY=Math.max(this._maxY,f));this._lastX=b;this._lastY=f;this._dirty=!0};c._measureBounds=function(){return a.Rectangle.identity.initialize(this._minX,this._minY,this._maxX-this._minX,this._maxY-this._minY)};c._createEndFillCommand=function(){this._endFillCommand||(this._endFillCommand=new e(function(){this._renderContext.fill();this._renderContext.closePath()},this,null))};c._fill=function(){this.fillStyleColor&&
(this._createEndFillCommand(),this._pushCommand(this._endFillCommand));this.strokeStyleColor&&(this._createEndLineCommand(),this._pushCommand(this._endLineCommand))};c._createEndLineCommand=function(){this._endLineCommand||(this._endLineCommand=new e(function(){this._renderContext.stroke();this._renderContext.closePath()},this,null))};c._pushCommand=function(b){this.commandQueue.push(b);this._dirty=!0};return d}();a.Graphics=g;g.prototype.__class__="egret.Graphics";var e=function(){return function(a,
c,b){this.method=a;this.thisObject=c;this.args=b}}();e.prototype.__class__="egret.Command"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._graphics=null}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"graphics",{get:function(){this._graphics||(this._graphics=new a.Graphics,this.needDraw=!0);return this._graphics},enumerable:!0,configurable:!0});c._draw=function(b){this._graphics&&this._graphics._dirty&&this._setCacheDirty();e.prototype._draw.call(this,b)};c._render=function(b){this._graphics&&this._graphics._draw(b)};c._measureBounds=function(){var b=this._graphics;
return b?b._measureBounds():e.prototype._measureBounds.call(this)};return d}(a.DisplayObject);a.Shape=g;g.prototype.__class__="egret.Shape"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._graphics=null}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"graphics",{get:function(){this._graphics||(this._graphics=new a.Graphics,this.needDraw=!0);return this._graphics},enumerable:!0,configurable:!0});c._draw=function(b){this._graphics&&this._graphics._dirty&&this._setCacheDirty();e.prototype._draw.call(this,b)};c._render=function(b){this._graphics&&this._graphics._draw(b);e.prototype._render.call(this,b)};c._measureBounds=
function(){for(var b=0,f=0,c=0,d=0,e=this._children.length,g=0;g<e;g++){var h=this._children[g];if(h.visible){var k=h.getBounds(a.Rectangle.identity,!1),l=k.x,m=k.y,q=k.width,k=k.height,h=h._getMatrix(),h=a.DisplayObject.getTransformBounds(a.Rectangle.identity.initialize(l,m,q,k),h),l=h.x,m=h.y,q=h.width+h.x,h=h.height+h.y;if(l<b||0==g)b=l;if(q>f||0==g)f=q;if(m<c||0==g)c=m;if(h>d||0==g)d=h}}if(this._graphics){e=this._graphics._measureBounds();l=e.x;m=e.y;q=e.width+e.x;h=e.height+e.y;if(l<b||0==g)b=
l;if(q>f||0==g)f=q;if(m<c||0==g)c=m;if(h>d||0==g)d=h}return a.Rectangle.identity.initialize(b,c,f-b,d-c)};c.hitTest=function(b,f,c){void 0===c&&(c=!1);var d=e.prototype.hitTest.call(this,b,f,c);return d?d:this._graphics?a.DisplayObject.prototype.hitTest.call(this,b,f,c):null};return d}(a.DisplayObjectContainer);a.Sprite=g;g.prototype.__class__="egret.Sprite"})(egret||(egret={}));
(function(a){var g=function(){function e(){}e._getStartLine=function(a){var c=e._getTextHeight(a),b=0;a._DO_Props_._hasHeightSet&&(!(c<a._DO_Props_._explicitHeight)&&c>a._DO_Props_._explicitHeight&&(b=Math.max(a._TF_Props_._scrollV-1,0),b=Math.min(a._TF_Props_._numLines-1,b)),a._TF_Props_._multiline||(b=Math.max(a._TF_Props_._scrollV-1,0),b=Math.min(a._TF_Props_._numLines-1,b)));return b};e._getHalign=function(d){var c=d._getLinesArr(),b=0;d._TF_Props_._textAlign==a.HorizontalAlign.CENTER?b=0.5:d._TF_Props_._textAlign==
a.HorizontalAlign.RIGHT&&(b=1);d._TF_Props_._type==a.TextFieldType.INPUT&&!d._TF_Props_._multiline&&1<c.length&&(b=0);return b};e._getTextHeight=function(d){return a.TextFieldType.INPUT!=d._TF_Props_._type||d._TF_Props_._multiline?d._TF_Props_._textMaxHeight+(d._TF_Props_._numLines-1)*d._TF_Props_._lineSpacing:d._TF_Props_._size};e._getValign=function(d){var c=e._getTextHeight(d);return d._TF_Props_._type==a.TextFieldType.INPUT?d._TF_Props_._multiline?0:0.5:d._DO_Props_._hasHeightSet&&c<d._DO_Props_._explicitHeight?
(c=0,d._TF_Props_._verticalAlign==a.VerticalAlign.MIDDLE?c=0.5:d._TF_Props_._verticalAlign==a.VerticalAlign.BOTTOM&&(c=1),c):0};e._getTextElement=function(a,c,b){c=e._getHit(a,c,b);a=a._getLinesArr();return c&&a[c.lineIndex]&&a[c.lineIndex].elements[c.textElementIndex]?a[c.lineIndex].elements[c.textElementIndex]:null};e._getHit=function(a,c,b){var f=a._getLinesArr();if(0==a._TF_Props_._textMaxWidth)return null;var n=0,u=e._getTextHeight(a),g=0;a._DO_Props_._hasHeightSet&&a._DO_Props_._explicitHeight>
u&&(g=e._getValign(a)*(a._DO_Props_._explicitHeight-u),0!=g&&(b-=g));g=0;for(u=e._getStartLine(a);u<f.length;u++){var p=f[u];if(g+p.height>=b){n=u+1;break}else g+=p.height;if(g+a._TF_Props_._lineSpacing>b)return null;g+=a._TF_Props_._lineSpacing}if(0===n)return null;a=f[n-1];for(u=b=0;u<a.elements.length;u++)if(f=a.elements[u],b+f.width<c)b+=f.width;else return{lineIndex:n-1,textElementIndex:u};return null};e._getScrollNum=function(a){var c=1;if(a._TF_Props_._multiline){var b=a.height,f=a.size;a=
a.lineSpacing;c=Math.floor(b/(f+a));b-(f+a)*c>f/2&&c++}return c};return e}();a.TextFieldUtils=g;g.prototype.__class__="egret.TextFieldUtils"})(egret||(egret={}));
(function(a){var g=function(){return function(){this._text=this._type="";this._displayAsPassword=!1;this._fontFamily=a.TextField.default_fontFamily;this._size=30;this._bold=this._italic=!1;this._textColorString="#FFFFFF";this._textColor=16777215;this._strokeColorString="#000000";this._stroke=this._strokeColor=0;this._border=!1;this._borderColor=0;this._background=!1;this._backgroundColor=16777215;this._textAlign="left";this._verticalAlign="top";this._maxChars=this._textMaxHeight=this._textMaxWidth=
0;this._scrollV=-1;this._numLines=this._lineSpacing=0;this._multiline=!1}}();a.TextFieldProperties=g;g.prototype.__class__="egret.TextFieldProperties"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._inputEnabled=!1;this._bgGraphics=this._inputUtils=null;this._isFlow=!1;this._textArr=[];this._isArrayChanged=!1;this._linesArr=[];this._isTyping=!1;this.needDraw=!0;this._TF_Props_=new a.TextFieldProperties}__extends(d,e);var c=d.prototype;c.isInput=function(){return this._TF_Props_._type==a.TextFieldType.INPUT};c._setTouchEnabled=function(b){e.prototype._setTouchEnabled.call(this,b);this.isInput()&&(this._inputEnabled=!0)};Object.defineProperty(c,
"type",{get:function(){return this._TF_Props_._type},set:function(b){this._setType(b)},enumerable:!0,configurable:!0});c._setType=function(b){var f=this._TF_Props_;f._type!=b&&(f._type=b,f._type==a.TextFieldType.INPUT?(this._DO_Props_._hasWidthSet||this._setWidth(100),this._DO_Props_._hasHeightSet||this._setHeight(30),null==this._inputUtils&&(this._inputUtils=new a.InputController),this._inputUtils.init(this),this._setDirty(),this._DO_Props_._stage&&this._inputUtils._addStageText()):this._inputUtils&&
(this._inputUtils._removeStageText(),this._inputUtils=null))};Object.defineProperty(c,"text",{get:function(){return this._getText()},set:function(b){this._setText(b)},enumerable:!0,configurable:!0});c._getText=function(){return this._TF_Props_._type==a.TextFieldType.INPUT?this._inputUtils._getText():this._TF_Props_._text};c._setSizeDirty=function(){e.prototype._setSizeDirty.call(this);this._isArrayChanged=!0};c._setTextDirty=function(){this._setSizeDirty()};c._setBaseText=function(b){null==b&&(b=
"");var f=this._TF_Props_;this._isFlow=!1;f._text!=b&&(this._setTextDirty(),f._text=b,b="",b=f._displayAsPassword?this.changeToPassText(f._text):f._text,this.setMiddleStyle([{text:b}]))};c._setText=function(b){null==b&&(b="");this._setBaseText(b);this._inputUtils&&this._inputUtils._setText(this._TF_Props_._text)};Object.defineProperty(c,"displayAsPassword",{get:function(){return this._TF_Props_._displayAsPassword},set:function(b){this._setDisplayAsPassword(b)},enumerable:!0,configurable:!0});c._setDisplayAsPassword=
function(b){var f=this._TF_Props_;f._displayAsPassword!=b&&(f._displayAsPassword=b,this._setTextDirty(),b="",b=f._displayAsPassword?this.changeToPassText(f._text):f._text,this.setMiddleStyle([{text:b}]))};Object.defineProperty(c,"fontFamily",{get:function(){return this._TF_Props_._fontFamily},set:function(b){this._setFontFamily(b)},enumerable:!0,configurable:!0});c._setFontFamily=function(b){this._TF_Props_._fontFamily!=b&&(this._setTextDirty(),this._TF_Props_._fontFamily=b)};Object.defineProperty(c,
"size",{get:function(){return this._TF_Props_._size},set:function(b){this._setSize(b)},enumerable:!0,configurable:!0});c._setSize=function(b){this._TF_Props_._size!=b&&(this._setTextDirty(),this._TF_Props_._size=b)};Object.defineProperty(c,"italic",{get:function(){return this._TF_Props_._italic},set:function(b){this._setItalic(b)},enumerable:!0,configurable:!0});c._setItalic=function(b){this._TF_Props_._italic!=b&&(this._setTextDirty(),this._TF_Props_._italic=b)};Object.defineProperty(c,"bold",{get:function(){return this._TF_Props_._bold},
set:function(b){this._setBold(b)},enumerable:!0,configurable:!0});c._setBold=function(b){this._TF_Props_._bold!=b&&(this._setTextDirty(),this._TF_Props_._bold=b)};Object.defineProperty(c,"textColor",{get:function(){return this._TF_Props_._textColor},set:function(b){this._setTextColor(b)},enumerable:!0,configurable:!0});c._setTextColor=function(b){this._TF_Props_._textColor!=b&&(this._setTextDirty(),this._TF_Props_._textColor=b,this._TF_Props_._textColorString=a.toColorString(b))};Object.defineProperty(c,
"strokeColor",{get:function(){return this._TF_Props_._strokeColor},set:function(b){this._setStrokeColor(b)},enumerable:!0,configurable:!0});c._setStrokeColor=function(b){this._TF_Props_._strokeColor!=b&&(this._setTextDirty(),this._TF_Props_._strokeColor=b,this._TF_Props_._strokeColorString=a.toColorString(b))};Object.defineProperty(c,"stroke",{get:function(){return this._TF_Props_._stroke},set:function(b){this._setStroke(b)},enumerable:!0,configurable:!0});c._setStroke=function(b){this._TF_Props_._stroke!=
b&&(this._setTextDirty(),this._TF_Props_._stroke=b)};Object.defineProperty(c,"textAlign",{get:function(){return this._TF_Props_._textAlign},set:function(b){this._setTextAlign(b)},enumerable:!0,configurable:!0});c._setTextAlign=function(b){this._TF_Props_._textAlign!=b&&(this._setTextDirty(),this._TF_Props_._textAlign=b)};Object.defineProperty(c,"verticalAlign",{get:function(){return this._TF_Props_._verticalAlign},set:function(b){this._setVerticalAlign(b)},enumerable:!0,configurable:!0});c._setVerticalAlign=
function(b){this._TF_Props_._verticalAlign!=b&&(this._setTextDirty(),this._TF_Props_._verticalAlign=b)};Object.defineProperty(c,"maxChars",{get:function(){return this._TF_Props_._maxChars},set:function(b){this._setMaxChars(b)},enumerable:!0,configurable:!0});c._setMaxChars=function(b){this._TF_Props_._maxChars!=b&&(this._TF_Props_._maxChars=b)};Object.defineProperty(c,"scrollV",{get:function(){return Math.min(Math.max(this._TF_Props_._scrollV,1),this.maxScrollV)},set:function(b){this._TF_Props_._scrollV=
Math.max(b,1);this._setDirty()},enumerable:!0,configurable:!0});Object.defineProperty(c,"maxScrollV",{get:function(){this._getLinesArr();return Math.max(this._TF_Props_._numLines-a.TextFieldUtils._getScrollNum(this)+1,1)},enumerable:!0,configurable:!0});Object.defineProperty(c,"selectionBeginIndex",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(c,"selectionEndIndex",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(c,"caretIndex",{get:function(){return 0},
enumerable:!0,configurable:!0});c._setSelection=function(b,f){};Object.defineProperty(c,"lineSpacing",{get:function(){return this._TF_Props_._lineSpacing},set:function(b){this._setLineSpacing(b)},enumerable:!0,configurable:!0});c._setLineSpacing=function(b){this._TF_Props_._lineSpacing!=b&&(this._setTextDirty(),this._TF_Props_._lineSpacing=b)};c._getLineHeight=function(){return this._TF_Props_._lineSpacing+this._TF_Props_._size};Object.defineProperty(c,"numLines",{get:function(){return this._TF_Props_._numLines},
enumerable:!0,configurable:!0});Object.defineProperty(c,"multiline",{get:function(){return this._TF_Props_._multiline},set:function(b){this._setMultiline(b)},enumerable:!0,configurable:!0});c._setMultiline=function(b){this._TF_Props_._multiline=b;this._setDirty()};c._setWidth=function(b){e.prototype._setWidth.call(this,b);this.fillBackground()};c._setHeight=function(b){e.prototype._setHeight.call(this,b);this.fillBackground()};Object.defineProperty(c,"border",{get:function(){return this._TF_Props_._border},
set:function(b){this._TF_Props_._border=b;this.fillBackground()},enumerable:!0,configurable:!0});Object.defineProperty(c,"borderColor",{get:function(){return this._TF_Props_._borderColor},set:function(b){this._TF_Props_._borderColor=b;this.fillBackground()},enumerable:!0,configurable:!0});Object.defineProperty(c,"background",{get:function(){return this._TF_Props_._background},set:function(b){this._TF_Props_._background=b;this.fillBackground()},enumerable:!0,configurable:!0});Object.defineProperty(c,
"backgroundColor",{get:function(){return this._TF_Props_._backgroundColor},set:function(b){this._TF_Props_._backgroundColor=b;this.fillBackground()},enumerable:!0,configurable:!0});c.fillBackground=function(){var b=this._bgGraphics,f=this._TF_Props_;b&&b.clear();if(f._background||f._border)null==b&&(b=this._bgGraphics=new a.Graphics),f._background&&b.beginFill(f._backgroundColor,1),f._border&&b.lineStyle(1,f._borderColor),b.drawRect(0,0,this._getWidth(),this._getHeight()),b.endFill()};c.setFocus=
function(){a.Logger.warningWithErrorId(1013)};c._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this);this._removeEvent();this._TF_Props_._type==a.TextFieldType.INPUT&&this._inputUtils._removeStageText()};c._onAddToStage=function(){e.prototype._onAddToStage.call(this);this._addEvent();this._TF_Props_._type==a.TextFieldType.INPUT&&this._inputUtils._addStageText()};c._updateBaseTransform=function(){this._getLinesArr();0==this._TF_Props_._textMaxWidth&&this._TF_Props_._type!=a.TextFieldType.INPUT||
e.prototype._updateTransform.call(this)};c._updateTransform=function(){this._TF_Props_._type==a.TextFieldType.INPUT?this._DO_Props_._normalDirty?this._inputUtils._updateProperties():this._inputUtils._updateTransform():this._updateBaseTransform()};c._draw=function(b){var f=this._TF_Props_;if(f._type==a.TextFieldType.INPUT){if(this._isTyping)return}else if(0==f._textMaxWidth)return;e.prototype._draw.call(this,b)};c._render=function(b){this._bgGraphics&&this._bgGraphics._draw(b);this.drawText(b);this._clearDirty()};
c._measureBounds=function(){var b=this._TF_Props_;this._getLinesArr();return 0==b._textMaxWidth?a.Rectangle.identity.initialize(0,0,0,0):a.Rectangle.identity.initialize(0,0,b._textMaxWidth,a.TextFieldUtils._getTextHeight(this))};Object.defineProperty(c,"textFlow",{get:function(){return this._textArr},set:function(b){var f=this._TF_Props_;this._isFlow=!0;var a="";null==b&&(b=[]);for(var c=0;c<b.length;c++)a+=b[c].text;f._displayAsPassword?this._setBaseText(a):(f._text=a,this.setMiddleStyle(b))},enumerable:!0,
configurable:!0});c.changeToPassText=function(b){if(this._TF_Props_._displayAsPassword){for(var f="",a=0,c=b.length;a<c;a++)switch(b.charAt(a)){case "\n":f+="\n";break;case "\r":break;default:f+="*"}return f}return b};c.setMiddleStyle=function(b){this._isArrayChanged=!0;this._textArr=b;this._setSizeDirty()};Object.defineProperty(c,"textWidth",{get:function(){return this._TF_Props_._textMaxWidth},enumerable:!0,configurable:!0});Object.defineProperty(c,"textHeight",{get:function(){return a.TextFieldUtils._getTextHeight(this)},
enumerable:!0,configurable:!0});c.appendText=function(b){this.appendElement({text:b})};c.appendElement=function(b){this._textArr.push(b);this.setMiddleStyle(this._textArr)};c._getLinesArr=function(){var b=this._TF_Props_;if(!this._isArrayChanged)return this._linesArr;this._isArrayChanged=!1;var f=this._textArr,c=a.MainContext.instance.rendererContext;this._linesArr.length=0;b._textMaxHeight=0;b._textMaxWidth=0;if(this._DO_Props_._hasWidthSet&&0==this._DO_Props_._explicitWidth)return b._numLines=0,
[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];this._isFlow||c.setupFont(this);for(var d=this._linesArr,e=0,g=0,h=0,k=0,l,m=0,q=f.length;m<q;m++){var s=f[m];s.style=s.style||{};for(var r=s.text.toString().split(/(?:\r\n|\r|\n)/),x=0,z=r.length;x<z;x++){null==d[k]&&(l={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},d[k]=l,g=h=e=0);var h=b._type==a.TextFieldType.INPUT?b._size:Math.max(h,s.style.size||b._size),v=!0;if(""==r[x])x==z-1&&(v=!1);else{this._isFlow&&c.setupFont(this,s.style);
var y=c.measureText(r[x]);if(this._DO_Props_._hasWidthSet)if(e+y<=this._DO_Props_._explicitWidth)l.elements.push({width:y,text:r[x],style:s.style}),e+=y,g+=r[x].length,x==z-1&&(v=!1);else{for(var w=v=0,B=r[x],A=B.length;v<A;v++){y=c.measureText(B.charAt(v));if(e+y>this._DO_Props_._explicitWidth&&0!=e+v)break;w+=y;e+=y;g+=1}0<v&&(l.elements.push({width:w,text:B.substring(0,v),style:s.style}),r[x]=B.substring(v));x--;v=!1}else e+=y,g+=r[x].length,l.elements.push({width:y,text:r[x],style:s.style}),x==
z-1&&(v=!1)}v&&(g++,l.hasNextLine=!0);x<r.length-1&&(l.width=e,l.height=h,l.charNum=g,b._textMaxWidth=Math.max(b._textMaxWidth,e),b._textMaxHeight+=h,k++)}m==f.length-1&&l&&(l.width=e,l.height=h,l.charNum=g,b._textMaxWidth=Math.max(b._textMaxWidth,e),b._textMaxHeight+=h)}b._numLines=d.length;return d};c.drawText=function(b){var f=this._TF_Props_,c=this._getLinesArr();if(0!=f._textMaxWidth){var d=this._DO_Props_._hasWidthSet?this._DO_Props_._explicitWidth:f._textMaxWidth,e=a.TextFieldUtils._getTextHeight(this),
g=0,h=a.TextFieldUtils._getStartLine(this);if(this._DO_Props_._hasHeightSet&&this._DO_Props_._explicitHeight>e)var k=a.TextFieldUtils._getValign(this),g=g+k*(this._DO_Props_._explicitHeight-e);for(var g=Math.round(g),e=a.TextFieldUtils._getHalign(this),k=0,l=h,m=f._numLines;l<m;l++){var q=c[l],s=q.height,g=g+s/2;if(l!=h){if(f._type==a.TextFieldType.INPUT&&!f._multiline)break;if(this._DO_Props_._hasHeightSet&&g>this._DO_Props_._explicitHeight)break}for(var k=Math.round((d-q.width)*e),r=0,x=q.elements.length;r<
x;r++){var z=q.elements[r];b.drawText(this,z.text,k,g+(s-(z.style.size||f._size))/2,z.width,z.style);k+=z.width}g+=s/2+f._lineSpacing}}};c._addEvent=function(){this.addEventListener(a.TouchEvent.TOUCH_TAP,this.onTapHandler,this)};c._removeEvent=function(){this.removeEventListener(a.TouchEvent.TOUCH_TAP,this.onTapHandler,this)};c.onTapHandler=function(b){if(this._TF_Props_._type!=a.TextFieldType.INPUT&&(b=a.TextFieldUtils._getTextElement(this,b.localX,b.localY),null!=b&&(b=b.style)&&b.href&&b.href.match(/^event:/))){var f=
b.href.match(/^event:/)[0];a.TextEvent.dispatchTextEvent(this,a.TextEvent.LINK,b.href.substring(f.length))}};d.default_fontFamily="Arial";return d}(a.DisplayObject);a.TextField=g;g.prototype.__class__="egret.TextField"})(egret||(egret={}));
(function(a){var g=function(){function a(){this.resutlArr=[]}var d=a.prototype;d.parser=function(a){this.stackArray=[];this.resutlArr=[];for(var b=0,f=a.length;b<f;){var d=a.indexOf("<",b);0>d?(this.addToResultArr(a.substring(b)),b=f):(this.addToResultArr(a.substring(b,d)),b=a.indexOf(">",d),"/"==a.charAt(d+1)?this.stackArray.pop():this.addToArray(a.substring(d+1,b)),b+=1)}return this.resutlArr};d.addToResultArr=function(a){if(""!=a){var b=[];b.push(["&lt;","<"]);b.push(["&gt;",">"]);b.push(["&amp;",
"&"]);b.push(["&quot;",'"']);b.push(["&apos;;","'"]);for(var f=0;f<b.length;f++)a.replace(new RegExp(b[f][0],"g"),b[f][1]);0<this.stackArray.length?this.resutlArr.push({text:a,style:this.stackArray[this.stackArray.length-1]}):this.resutlArr.push({text:a})}};d.changeStringToObject=function(a){var b={};a=a.replace(/( )+/g," ").split(" ");for(var f=0;f<a.length;f++)this.addProperty(b,a[f]);return b};d.addProperty=function(a,b){var f=b.replace(/( )*=( )*/g,"=").split("=");f[1]&&(f[1]=f[1].replace(/(\"|\')/g,
""));switch(f[0].toLowerCase()){case "color":case "textcolor":f[1]=f[1].replace(/#/,"0x");a.textColor=parseInt(f[1]);break;case "strokecolor":f[1]=f[1].replace(/#/,"0x");a.strokeColor=parseInt(f[1]);break;case "stroke":a.stroke=parseInt(f[1]);break;case "b":a.bold="true"==(f[1]||"true");break;case "i":a.italic="true"==(f[1]||"true");break;case "size":a.size=parseInt(f[1]);break;case "fontfamily":a.fontFamily=f[1];break;case "href":a.href=f[1]}};d.addToArray=function(a){a=this.changeStringToObject(a);
if(0!=this.stackArray.length){var b=this.stackArray[this.stackArray.length-1],f;for(f in b)null==a[f]&&(a[f]=b[f])}this.stackArray.push(a)};return a}();a.HtmlTextParser=g;g.prototype.__class__="egret.HtmlTextParser"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.DYNAMIC="dynamic";a.INPUT="input";return a}();a.TextFieldType=g;g.prototype.__class__="egret.TextFieldType"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){e.call(this);this._bitmapY=this._bitmapX=this._sourceHeight=this._sourceWidth=0;this._textureMap={};this.texture=b;this._sourceWidth=b._sourceWidth;this._sourceHeight=b._sourceHeight;this._bitmapX=b._bitmapX-b._offsetX;this._bitmapY=b._bitmapY-b._offsetY}__extends(d,e);var c=d.prototype;c.getTexture=function(b){return this._textureMap[b]};c.createTexture=function(b,f,c,d,e,g,h,k,l){void 0===g&&(g=0);void 0===h&&(h=0);"undefined"===typeof k&&(k=g+d);"undefined"===
typeof l&&(l=h+e);var m=this.texture._clone(),q=a.MainContext.instance.rendererContext._texture_scale_factor;m._bitmapX=this._bitmapX+f;m._bitmapY=this._bitmapY+c;m._bitmapWidth=d*q;m._bitmapHeight=e*q;m._offsetX=g;m._offsetY=h;m._textureWidth=k*q;m._textureHeight=l*q;m._sourceWidth=this._sourceWidth;m._sourceHeight=this._sourceHeight;return this._textureMap[b]=m};c.dispose=function(){this.texture&&this.texture.dispose()};return d}(a.HashObject);a.SpriteSheet=g;g.prototype.__class__="egret.SpriteSheet"})(egret||
(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._text=null;this._isFocus=!1}__extends(d,e);var c=d.prototype;c.init=function(b){this._text=b;this.stageText=a.StageText.create();this.stageText._setTextField(this._text)};c._addStageText=function(){this._text._inputEnabled||(this._text._DO_Props_._touchEnabled=!0);this.stageText._add();this.stageText._addListeners();this.stageText.addEventListener("updateText",this.updateTextHandler,this);this._text.addEventListener(a.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,
this);a.MainContext.instance.stage.addEventListener(a.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this);this.stageText.addEventListener("blur",this.blurHandler,this);this.stageText.addEventListener("focus",this.focusHandler,this)};c._removeStageText=function(){this._text._inputEnabled||(this._text._DO_Props_._touchEnabled=!1);this.stageText._remove();this.stageText._removeListeners();this.stageText._removeInput();this.stageText.removeEventListener("updateText",this.updateTextHandler,this);this._text.removeEventListener(a.TouchEvent.TOUCH_BEGIN,
this.onMouseDownHandler,this);a.MainContext.instance.stage.removeEventListener(a.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this);this.stageText.removeEventListener("blur",this.blurHandler,this);this.stageText.removeEventListener("focus",this.focusHandler,this)};c._getText=function(){return this.stageText._getText()};c._setText=function(b){this.stageText._setText(b)};c.focusHandler=function(b){this._isFocus=!0;this._text._isTyping=!0;this._text.dispatchEvent(new a.FocusEvent(a.FocusEvent.FOCUS_IN))};
c.blurHandler=function(b){this._isFocus=!1;this._text._isTyping=!1;this._text.dispatchEvent(new a.FocusEvent(a.FocusEvent.FOCUS_OUT))};c.onMouseDownHandler=function(b){b.stopPropagation();this._text._DO_Props_._visible&&!this._isFocus&&(this._isFocus=!0,this.stageText._show(this._text._TF_Props_._multiline,this._text.size,this._text.width,this._text.height),b=this._text.localToGlobal(),this.stageText._initElement(b.x,b.y,this._text._worldTransform.a,this._text._worldTransform.d))};c.onStageDownHandler=
function(b){this.stageText._hide()};c.updateTextHandler=function(b){this.resetText();this._text.dispatchEvent(new a.Event(a.Event.CHANGE))};c.resetText=function(){this._text._setBaseText(this.stageText._getText())};c._hideInput=function(){this.stageText._removeInput()};c._updateTransform=function(){this._text._updateBaseTransform();!this._text._DO_Props_._visible&&this.stageText&&this._hideInput()};c._updateProperties=function(){if(!this._isFocus){var b=this._text._DO_Props_._stage;if(null==b)this.stageText._setVisible(!1);
else{for(var f=this._text,a=f._DO_Props_._visible;a;){f=f.parent;if(f==b)break;a=f._DO_Props_._visible}this.stageText._setVisible(a)}this.stageText._setMultiline(this._text._TF_Props_._multiline);this.stageText._setTextType(this._text._TF_Props_._displayAsPassword?"password":"text");this.stageText._setText(this._text._TF_Props_._text);this.stageText._resetStageText()}this._updateTransform()};return d}(a.HashObject);a.InputController=g;g.prototype.__class__="egret.InputController"})(egret||(egret=
{}));
(function(a){var g=function(a){function d(b,f){a.call(this,b);this.firstCharHeight=0;"string"==typeof f?this.charList=this.parseConfig(f):f&&f.hasOwnProperty("frames")?this.charList=f.frames:this.charList={}}__extends(d,a);var c=d.prototype;c.getTexture=function(b){var f=this._textureMap[b];if(!f){f=this.charList[b];if(!f)return null;f=this.createTexture(b,f.x,f.y,f.w,f.h,f.offX,f.offY,f.sourceW,f.sourceH);this._textureMap[b]=f}return f};c._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var b in this.charList){var f=this.charList[b];
if(f){var a=f.sourceH;void 0===a&&(a=f.h,void 0===a&&(a=0),f=f.offY,void 0===f&&(f=0),a+=f);if(!(0>=a)){this.firstCharHeight=a;break}}}return this.firstCharHeight};c.parseConfig=function(b){b=b.split("\r\n").join("\n");b=b.split("\n");for(var f=this.getConfigByKey(b[3],"count"),a={},c=4;c<4+f;c++){var d=b[c],e=String.fromCharCode(this.getConfigByKey(d,"id")),g={};a[e]=g;g.x=this.getConfigByKey(d,"x");g.y=this.getConfigByKey(d,"y");g.w=this.getConfigByKey(d,"width");g.h=this.getConfigByKey(d,"height");
g.offX=this.getConfigByKey(d,"xoffset");g.offY=this.getConfigByKey(d,"yoffset")}return a};c.getConfigByKey=function(b,f){for(var a=b.split(" "),c=0,d=a.length;c<d;c++){var e=a[c];if(f==e.substring(0,f.length))return a=e.substring(f.length+1),parseInt(a)}return 0};return d}(a.SpriteSheet);a.BitmapFont=g;g.prototype.__class__="egret.BitmapFont"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){e.call(this);this._isAddedToStage=!1;this._frames=this._movieClipData=this._textureToRender=null;this._totalFrames=0;this._frameLabels=null;this._frameIntervalTime=0;this._eventPool=null;this._isPlaying=!1;this._isStopped=!0;this._passedTime=this._displayedKeyFrameNum=this._nextFrameNum=this._currentFrameNum=this._playTimes=0;this._setMovieClipData(b);this.needDraw=!0}__extends(d,e);var c=d.prototype;c._init=function(){this._reset();var b=this._movieClipData;
b&&b._isDataValid()&&(this._frames=b.frames,this._totalFrames=b.numFrames,this._frameLabels=b.labels,this._frameIntervalTime=1E3/b.frameRate,this._initFrame())};c._reset=function(){this._frames=null;this._playTimes=0;this._isPlaying=!1;this.setIsStopped(!0);this._currentFrameNum=0;this._nextFrameNum=1;this._passedTime=this._displayedKeyFrameNum=0;this._eventPool=[]};c._initFrame=function(){this._movieClipData._isTextureValid()&&(this._advanceFrame(),this._constructFrame())};c._render=function(b){var f=
this._textureToRender;if(this._texture_to_render=f){var a=Math.round(f._offsetX),c=Math.round(f._offsetY),e=f._bitmapWidth||f._textureWidth,g=f._bitmapHeight||f._textureHeight,h=Math.round(e),k=Math.round(g);d.renderFilter.drawImage(b,this,f._bitmapX,f._bitmapY,e,g,a,c,h,k)}};c._measureBounds=function(){var b=this._textureToRender;return b?a.Rectangle.identity.initialize(b._offsetX,b._offsetY,b._textureWidth,b._textureHeight):e.prototype._measureBounds.call(this)};c._onAddToStage=function(){e.prototype._onAddToStage.call(this);
this._isAddedToStage=!0;this._isPlaying&&1<this._totalFrames&&this.setIsStopped(!1)};c._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this);this._isAddedToStage=!1;this.setIsStopped(!0)};c._getFrameLabelByName=function(b,f){void 0===f&&(f=!1);f&&(b=b.toLowerCase());var a=this._frameLabels;if(a)for(var c=null,d=0;d<a.length;d++)if(c=a[d],f?c.name.toLowerCase()===b:c.name===b)return c;return null};c._getFrameLabelByFrame=function(b){var f=this._frameLabels;if(f)for(var a=null,c=0;c<
f.length;c++)if(a=f[c],a.frame===b)return a;return null};c._getFrameLabelForFrame=function(b){var f=null,a=null,c=this._frameLabels;if(c)for(var d=0;d<c.length;d++){a=c[d];if(a.frame>b)break;f=a}return f};c.play=function(b){void 0===b&&(b=0);this._isPlaying=!0;this.setPlayTimes(b);1<this._totalFrames&&this._isAddedToStage&&this.setIsStopped(!1)};c.stop=function(){this._isPlaying=!1;this.setIsStopped(!0)};c.prevFrame=function(){this.gotoAndStop(this._currentFrameNum-1)};c.nextFrame=function(){this.gotoAndStop(this._currentFrameNum+
1)};c.gotoAndPlay=function(b,f){void 0===f&&(f=0);if(0===arguments.length||2<arguments.length)throw Error(a.getString(1022,"MovieClip.gotoAndPlay()"));this.play(f);this._gotoFrame(b)};c.gotoAndStop=function(b){if(1!=arguments.length)throw Error(a.getString(1022,"MovieClip.gotoAndStop()"));this.stop();this._gotoFrame(b)};c._gotoFrame=function(b){var f;if("string"===typeof b)f=this._getFrameLabelByName(b).frame;else if(f=parseInt(b+"",10),f!=b)throw Error(a.getString(1022,"Frame Label Not Found"));
1>f?f=1:f>this._totalFrames&&(f=this._totalFrames);f!==this._nextFrameNum&&(this._nextFrameNum=f,this._advanceFrame(),this._constructFrame(),this._handlePendingEvent())};c._advanceTime=function(b){var f=this._frameIntervalTime;b=this._passedTime+b;this._passedTime=b%f;f=b/f;if(!(1>f)){for(;1<=f;){f--;this._nextFrameNum++;if(this._nextFrameNum>this._totalFrames)if(-1==this._playTimes)this._eventPool.push(a.Event.LOOP_COMPLETE),this._nextFrameNum=1;else if(this._playTimes--,0<this._playTimes)this._eventPool.push(a.Event.LOOP_COMPLETE),
this._nextFrameNum=1;else{this._nextFrameNum=this._totalFrames;this._eventPool.push(a.Event.COMPLETE);this.stop();break}this._advanceFrame()}this._constructFrame();this._handlePendingEvent();this._setDirty()}};c._advanceFrame=function(){this._currentFrameNum=this._nextFrameNum};c._constructFrame=function(){var b=this._currentFrameNum;this._displayedKeyFrameNum!=b&&(this._textureToRender=this._movieClipData.getTextureByFrame(b),this._DO_Props_._sizeDirty=!0,this._displayedKeyFrameNum=b)};c._handlePendingEvent=
function(){if(0!=this._eventPool.length){this._eventPool.reverse();for(var b=this._eventPool,f=b.length,c=!1,d=!1,e=0;e<f;e++){var g=b.pop();g==a.Event.LOOP_COMPLETE?d=!0:g==a.Event.COMPLETE?c=!0:this.dispatchEventWith(g)}d&&this.dispatchEventWith(a.Event.LOOP_COMPLETE);c&&this.dispatchEventWith(a.Event.COMPLETE)}};Object.defineProperty(c,"totalFrames",{get:function(){return this._totalFrames},enumerable:!0,configurable:!0});Object.defineProperty(c,"currentFrame",{get:function(){return this._currentFrameNum},
enumerable:!0,configurable:!0});Object.defineProperty(c,"currentFrameLabel",{get:function(){var b=this._getFrameLabelByFrame(this._currentFrameNum);return b&&b.name},enumerable:!0,configurable:!0});Object.defineProperty(c,"currentLabel",{get:function(){var b=this._getFrameLabelForFrame(this._currentFrameNum);return b?b.name:null},enumerable:!0,configurable:!0});Object.defineProperty(c,"frameRate",{get:function(){return this.movieClipData.frameRate},set:function(b){b!=this._movieClipData.frameRate&&
(this._movieClipData.frameRate=b,this._frameIntervalTime=1E3/this._movieClipData.frameRate)},enumerable:!0,configurable:!0});Object.defineProperty(c,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0});Object.defineProperty(c,"movieClipData",{get:function(){return this._movieClipData},set:function(b){this._setMovieClipData(b)},enumerable:!0,configurable:!0});c._setMovieClipData=function(b){this._movieClipData!=b&&(this._movieClipData=b,this._init())};c.setPlayTimes=
function(b){if(0>b||1<=b)this._playTimes=0>b?-1:Math.floor(b)};c.setIsStopped=function(b){this._isStopped!=b&&((this._isStopped=b)?(this._playTimes=0,a.Ticker.getInstance().unregister(this._advanceTime,this)):(this._playTimes=0==this._playTimes?1:this._playTimes,a.Ticker.getInstance().register(this._advanceTime,this)))};d.renderFilter=a.RenderFilter.getInstance();return d}(a.DisplayObject);a.MovieClip=g;g.prototype.__class__="egret.MovieClip"})(egret||(egret={}));
(function(a){var g=function(a){function d(b,f){a.call(this);this._name=b;this._frame=f|0}__extends(d,a);var c=d.prototype;Object.defineProperty(c,"name",{get:function(){return this._name},enumerable:!0,configurable:!0});Object.defineProperty(c,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0});c.clone=function(){return new d(this._name,this._frame)};return d}(a.EventDispatcher);a.FrameLabel=g;g.prototype.__class__="egret.FrameLabel"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._mcData=null;this.numFrames=1;this.frames=[];this.labels=null;this.frameRate=0;this.spriteSheet=this.textureData=null}__extends(d,e);var c=d.prototype;c._init=function(b,f,a){this.textureData=f;this.spriteSheet=a;this._setMCData(b)};c.getKeyFrameData=function(b){b=this.frames[b-1];b.frame&&(b=this.frames[b.frame-1]);return b};c.getTextureByFrame=function(b){b=this.getKeyFrameData(b);if(b.res){var f=this.getTextureByResName(b.res);f._offsetX=
b.x|0;f._offsetY=b.y|0;return f}return null};c.getTextureByResName=function(b){var f=this.spriteSheet.getTexture(b);f||(f=this.textureData[b],f=this.spriteSheet.createTexture(b,f.x,f.y,f.w,f.h));return f};c._isDataValid=function(){return 0<this.frames.length};c._isTextureValid=function(){return null!=this.textureData&&null!=this.spriteSheet};c._fillMCData=function(b){this.frameRate=b.frameRate||24;this._fillFramesData(b.frames);this._fillFrameLabelsData(b.labels)};c._fillFramesData=function(b){for(var f=
this.frames,a=b?b.length:0,c,d=0;d<a;d++)if(c=b[d],f.push(c),c.duration){var e=parseInt(c.duration);if(1<e){c=f.length;for(var g=1;g<e;g++)f.push({frame:c})}}this.numFrames=f.length};c._fillFrameLabelsData=function(b){if(b){var f=b.length;if(0<f){this.labels=[];for(var c=0;c<f;c++){var d=b[c];this.labels.push(new a.FrameLabel(d.name,d.frame))}}}};Object.defineProperty(c,"mcData",{get:function(){return this._mcData},set:function(b){this._setMCData(b)},enumerable:!0,configurable:!0});c._setMCData=function(b){this._mcData!=
b&&(this._mcData=b)&&this._fillMCData(b)};return d}(a.HashObject);a.MovieClipData=g;g.prototype.__class__="egret.MovieClipData"})(egret||(egret={}));
(function(a){var g=function(e){function d(b,f){e.call(this);this.enableCache=!0;this._mcDataCache={};this._mcDataSet=b;this.setTexture(f)}__extends(d,e);var c=d.prototype;c.clearCache=function(){this._mcDataCache={}};c.generateMovieClipData=function(b){void 0===b&&(b="");if(""==b&&this._mcDataSet)for(b in this._mcDataSet.mc)break;if(""==b)return null;var f=this._findFromCache(b,this._mcDataCache);f||(f=new a.MovieClipData,this._fillData(b,f,this._mcDataCache));return f};c._findFromCache=function(b,
f){return this.enableCache&&f[b]?f[b]:null};c._fillData=function(b,f,a){if(this._mcDataSet){var c=this._mcDataSet.mc[b];c&&(f._init(c,this._mcDataSet.res,this._spriteSheet),this.enableCache&&(a[b]=f))}};Object.defineProperty(c,"mcDataSet",{get:function(){return this._mcDataSet},set:function(b){this._mcDataSet=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"texture",{set:function(b){this.setTexture(b)},enumerable:!0,configurable:!0});Object.defineProperty(c,"spriteSheet",{get:function(){return this._spriteSheet},
enumerable:!0,configurable:!0});c.setTexture=function(b){this._spriteSheet=b?new a.SpriteSheet(b):null};return d}(a.EventDispatcher);a.MovieClipDataFactory=g;g.prototype.__class__="egret.MovieClipDataFactory"})(egret||(egret={}));
(function(a){var g=function(a){function d(){a.call(this);this._scaleY=this._scaleX=1;this._size=30;this._color="#FFFFFF";this._fontFamily="Arial";this._italic=this._bold=!1;this._textAlign="left";this._verticalAlign="top";this._visible=!1;this._height=this._width=0;this._multiline=!1;this._maxChars=0}__extends(d,a);var c=d.prototype;c._setTextField=function(b){this._textfield=b};c._getText=function(){return null};c._setText=function(b){};c._setTextType=function(b){};c._getTextType=function(){return null};
c._show=function(b,f,a,c){};c._add=function(){};c._remove=function(){};c._hide=function(){};c._addListeners=function(){};c._removeListeners=function(){};c._setScale=function(b,f){this._scaleX=b;this._scaleY=f};c.changePosition=function(b,f){};c._setSize=function(b){this._size=b};c._setTextColor=function(b){this._color=b};c._setTextFontFamily=function(b){this._fontFamily=b};c._setBold=function(b){this._bold=b};c._setItalic=function(b){this._italic=b};c._setTextAlign=function(b){this._textAlign=b};
c._setVerticalAlign=function(b){this._verticalAlign=b};c._setVisible=function(b){this._visible=b};c._setWidth=function(b){this._width=b};c._setHeight=function(b){this._height=b};c._setMultiline=function(b){this._multiline=b};c._setMaxChars=function(b){this._maxChars=b};c._resetStageText=function(){};c._initElement=function(b,f,a,c){};c._removeInput=function(){};d.create=function(){return null};return d}(a.EventDispatcher);a.StageText=g;g.prototype.__class__="egret.StageText"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.GET="get";a.POST="post";return a}();a.URLRequestMethod=g;g.prototype.__class__="egret.URLRequestMethod"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.BINARY="binary";a.TEXT="text";a.VARIABLES="variables";a.TEXTURE="texture";a.SOUND="sound";return a}();a.URLLoaderDataFormat=g;g.prototype.__class__="egret.URLLoaderDataFormat"})(egret||(egret={}));
(function(a){var g=function(a){function d(b){void 0===b&&(b=null);a.call(this);this.variables=null;null!==b&&this.decode(b)}__extends(d,a);var c=d.prototype;c.decode=function(b){this.variables||(this.variables={});b=b.split("+").join(" ");for(var f,a=/[?&]?([^=]+)=([^&]*)/g;f=a.exec(b);){var c=decodeURIComponent(f[1]);f=decodeURIComponent(f[2]);if(!1==c in this.variables)this.variables[c]=f;else{var d=this.variables[c];d instanceof Array?d.push(f):this.variables[c]=[d,f]}}};c.toString=function(){if(!this.variables)return"";
var b=this.variables,f=[],a;for(a in b)f.push(this.encodeValue(a,b[a]));return f.join("&")};c.encodeValue=function(b,a){return a instanceof Array?this.encodeArray(b,a):encodeURIComponent(b)+"="+encodeURIComponent(a)};c.encodeArray=function(b,a){return b?0==a.length?encodeURIComponent(b)+"=":a.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&"):""};return d}(a.HashObject);a.URLVariables=g;g.prototype.__class__="egret.URLVariables"})(egret||(egret={}));
(function(a){var g=function(){return function(a,d){this.value=this.name="";this.name=a;this.value=d}}();a.URLRequestHeader=g;g.prototype.__class__="egret.URLRequestHeader"})(egret||(egret={}));(function(a){var g=function(e){function d(c){void 0===c&&(c=null);e.call(this);this.data=null;this.method=a.URLRequestMethod.GET;this.url="";this.url=c}__extends(d,e);return d}(a.HashObject);a.URLRequest=g;g.prototype.__class__="egret.URLRequest"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){void 0===b&&(b=null);e.call(this);this.dataFormat=a.URLLoaderDataFormat.TEXT;this._request=this.data=null;this._status=-1;b&&this.load(b)}__extends(d,e);var c=d.prototype;c.load=function(b){this._request=b;this.data=null;a.MainContext.instance.netContext.proceed(this)};c.__recycle=function(){this.data=this._request=null};return d}(a.EventDispatcher);a.URLLoader=g;g.prototype.__class__="egret.URLLoader"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._sourceHeight=this._sourceWidth=this._textureHeight=this._textureWidth=this._offsetY=this._offsetX=this._bitmapHeight=this._bitmapWidth=this._bitmapY=this._bitmapX=0;this._bitmapData=null}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"textureWidth",{get:function(){return this._textureWidth},enumerable:!0,configurable:!0});Object.defineProperty(c,"textureHeight",{get:function(){return this._textureHeight},enumerable:!0,configurable:!0});
c._setBitmapData=function(b){var f=a.MainContext.instance.rendererContext._texture_scale_factor;this._bitmapData=b;this._sourceWidth=b.width;this._sourceHeight=b.height;this._textureWidth=this._sourceWidth*f;this._textureHeight=this._sourceHeight*f;this._bitmapWidth=this._textureWidth;this._bitmapHeight=this._textureHeight;this._offsetX=this._offsetY=this._bitmapX=this._bitmapY=0};c.getPixel32=function(b,a){return this._bitmapData.getContext("2d").getImageData(b,a,1,1).data};c.dispose=function(){var b=
this._bitmapData;b.dispose&&b.dispose()};c._clone=function(){var b=new d;b._bitmapData=this._bitmapData;return b};c.draw=function(b,a,c,d,e,g,h,k,l,m){};c._drawForCanvas=function(b,a,c,d,e,g,h,k,l,m){var q=this._bitmapData;q&&q.avaliable&&(void 0!=m?this._drawRepeatImageForCanvas(b,a,c,d,e,g,h,k,l,m):b.drawImage(q,a,c,d,e,g,h,k,l))};c._drawForNative=function(b,a,c,d,e,g,h,k,l,m){var q=this._bitmapData;q&&q.avaliable&&(void 0!==m?this._drawRepeatImageForNative(b,a,c,d,e,g,h,k,l,m):b.drawImage(q,a,
c,d,e,g,h,k,l))};c._drawRepeatImageForNative=function(b,f,c,d,e,g,h,k,l,m){m=a.MainContext.instance.rendererContext._texture_scale_factor;d*=m;for(e*=m;g<k;g+=d)for(var q=h;q<l;q+=e){var s=Math.min(d,k-g),r=Math.min(e,l-q);this._drawForNative(b,f,c,s/m,r/m,g,q,s,r,void 0)}};c._drawRepeatImageForCanvas=function(b,f,c,d,e,g,h,k,l,m){if(void 0===this.pattern){var q=a.MainContext.instance.rendererContext._texture_scale_factor,s=this._bitmapData,r=s;if(s.width!=d||s.height!=e||1!=q)r=document.createElement("canvas"),
r.width=d*q,r.height=e*q,r.getContext("2d").drawImage(s,f,c,d,e,0,0,d*q,e*q);this.pattern=b.createPattern(r,m)}b.fillStyle=this.pattern;b.translate(g,h);b.fillRect(0,0,k,l);b.translate(-g,-h)};c._disposeForCanvas=function(){d.deleteWebGLTexture(this);var b=this._bitmapData;b.onload=null;b.onerror=null;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAATSURBVHjaYvj//z8DAAAA//8DAAj8Av7TpXVhAAAAAElFTkSuQmCC";
b.avaliable=!1;console.log("_disposeForCanvas")};c._disposeForNative=function(){var b=this._bitmapData;b.dispose();b.avaliable=!1;console.log("_disposeForNative")};d.deleteWebGLTexture=function(b){if(b=b._bitmapData){var a=b.webGLTexture;if(a)for(var c in a){var d=a[c];d.glContext.deleteTexture(d)}b.webGLTexture=null}};d.createBitmapData=function(b,a){};d._createBitmapDataForCanvasAndWebGl=function(b,f){var c=d._bitmapDataFactory[b];c||(c=document.createElement("img"),c.setAttribute("bitmapSrc",b),
d._bitmapDataFactory[b]=c);if(c.avaliable)f(0,c);else{c.crossOrigin=d.crossOrigin;var e=window.URL||window.webkitURL;if(null==d._bitmapCallbackMap[b])if(d._addToCallbackList(b,f),0!=b.indexOf("data:")&&0!=b.indexOf("http:")&&0!=b.indexOf("https:")&&a.Browser.getInstance().isIOS()&&7<=parseInt(a.Browser.getInstance().getIOSVersion().charAt(0))&&e){var g=new XMLHttpRequest;g.open("get",b,!0);g.responseType="blob";g.onload=function(){if(200==this.status){var a=this.response;c.onload=function(){e.revokeObjectURL(c.src);
d._onLoad(b,c)};c.onerror=function(){d._onError(b,c)};c.src=e.createObjectURL(a)}else f(1,null)};g.send()}else c.onload=function(){d._onLoad(b,c)},c.onerror=function(){d._onError(b,c)},c.src=b;else d._addToCallbackList(b,f)}};d._onLoad=function(b,a){a.avaliable=!0;a.onload&&(a.onload=null);a.onerror&&(a.onerror=null);var c=d._bitmapCallbackMap[b];if(c&&c.length){delete d._bitmapCallbackMap[b];for(var e=c.length,g=0;g<e;g++)(0,c[g])(0,a)}};d._onError=function(b,a){var c=d._bitmapCallbackMap[b];if(c&&
c.length){delete d._bitmapCallbackMap[b];for(var e=c.length,g=0;g<e;g++)(0,c[g])(1,a)}};d._createBitmapDataForNative=function(b,f){console.log("_createBitmapDataForNative:"+b);var c=d._bitmapDataFactory[b];c?(c.avaliable||(console.log("reload"),c.reload(),c.avaliable=!0),f(0,c)):a.NativeNetContext.__use_asyn?d._bitmapCallbackMap[b]?d._addToCallbackList(b,f):(d._addToCallbackList(b,f),c=new a.PromiseObject,c.onSuccessFunc=function(a){d._bitmapDataFactory[b]=a;d._onLoad(b,a)},c.onErrorFunc=function(){d._onError(b,
null)},console.log("addTextureAsyn"),egret_native.Texture.addTextureAsyn(b,c)):(console.log("addTexture"),c=egret_native.Texture.addTexture(b),d._bitmapDataFactory[b]=c,c.avaliable=!0,f(0,c))};d._addToCallbackList=function(b,a){var c=d._bitmapCallbackMap[b];c||(c=[]);c.push(a);d._bitmapCallbackMap[b]=c};d.crossOrigin=null;d._bitmapDataFactory={};d._bitmapCallbackMap={};return d}(a.HashObject);a.Texture=g;g.prototype.__class__="egret.Texture"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this)}__extends(d,e);var c=d.prototype;c.init=function(){this._bitmapData=document.createElement("canvas");this._bitmapData.avaliable=!0;this.renderContext=a.RendererContext.createRendererContext(this._bitmapData)};c.drawToTexture=function(b,f,c){var e=f||b.getBounds(a.Rectangle.identity);if(0==e.width||0==e.height)return!1;this._bitmapData||this.init();var g=e.x,p=e.y,h=e.width,e=e.height,k,l,m=a.MainContext.instance.rendererContext._texture_scale_factor;
k=h/m;l=e/m;k=Math.round(k);l=Math.round(l);this.setSize(k,l);this.begin();b._worldTransform.identity();b._worldTransform.a=1/m;b._worldTransform.d=1/m;c&&(b._worldTransform.a*=c,b._worldTransform.d*=c);c=b._DO_Props_._anchorOffsetX;m=b._DO_Props_._anchorOffsetY;if(0!=b._DO_Props_._anchorX||0!=b._DO_Props_._anchorY)c=b._DO_Props_._anchorX*k,m=b._DO_Props_._anchorY*l;this._offsetX=g+c;this._offsetY=p+m;b._worldTransform.append(1,0,0,1,-this._offsetX,-this._offsetY);f&&(this._offsetX-=g,this._offsetY-=
p);b.worldAlpha=1;if(b instanceof a.DisplayObjectContainer)for(f=b._children,g=0,p=f.length;g<p;g++)f[g]._updateTransform();this.renderContext.setTransform(b._worldTransform);f=a.RenderFilter.getInstance();g=f._drawAreaList.concat();f._drawAreaList.length=0;this.renderContext.clearScreen();this.renderContext.onRenderStart();a.Texture.deleteWebGLTexture(this);b._hasFilters()&&b._setGlobalFilters(this.renderContext);(p=b.mask||b._DO_Props_._scrollRect)&&this.renderContext.pushMask(p);c=a.MainContext.__use_new_draw;
a.MainContext.__use_new_draw=!1;b._render(this.renderContext);a.MainContext.__use_new_draw=c;p&&this.renderContext.popMask();b._hasFilters()&&b._removeGlobalFilters(this.renderContext);d.identityRectangle.width=k;d.identityRectangle.height=l;f.addDrawArea(d.identityRectangle);this.renderContext.onRenderFinish();f._drawAreaList=g;this._sourceWidth=k;this._sourceHeight=l;this._textureWidth=Math.round(h);this._textureHeight=Math.round(e);this.end();return!0};c.setSize=function(b,a){var c=this._bitmapData;
c.width=b;c.height=a;c.style.width=b+"px";c.style.height=a+"px";this.renderContext._cacheCanvas&&(this.renderContext._cacheCanvas.width=b,this.renderContext._cacheCanvas.height=a)};c.begin=function(){};c.end=function(){};c.dispose=function(){this._bitmapData&&(this.renderContext=this._bitmapData=null)};d.create=function(){return d._pool.length?d._pool.pop():new d};d.release=function(b){d._pool.push(b)};d.identityRectangle=new a.Rectangle;d._pool=[];return d}(a.Texture);a.RenderTexture=g;g.prototype.__class__=
"egret.RenderTexture"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.renderCost=0;this._texture_scale_factor=1;this.profiler=a.Profiler.getInstance();d.blendModesForGL||d.initBlendMode()}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"texture_scale_factor",{get:function(){return this._texture_scale_factor},set:function(b){this._setTextureScaleFactor(b)},enumerable:!0,configurable:!0});c._setTextureScaleFactor=function(b){this._texture_scale_factor=b};c.clearScreen=function(){};c.clearRect=function(b,
a,c,d){};c.drawImage=function(b,a,c,d,e,g,h,k,l,m){this.profiler.onDrawImage()};c.drawImageScale9=function(b,a,c,d,e,g,h,k,l,m){return!1};c._addOneDraw=function(){this.profiler.onDrawImage()};c.setTransform=function(b){};c.setAlpha=function(b,a){};c.setupFont=function(b,a){};c.measureText=function(b){return 0};c.drawText=function(b,a,c,d,e,g){this.profiler.onDrawImage()};c.strokeRect=function(b,a,c,d,e){};c.pushMask=function(b){};c.popMask=function(){};c.onRenderStart=function(){};c.onRenderFinish=
function(){};c.setGlobalFilters=function(b){};c.drawCursor=function(b,a,c,d){};d.createRendererContext=function(b){return null};d.initBlendMode=function(){d.blendModesForGL={};d.blendModesForGL[a.BlendMode.NORMAL]=[1,771];d.blendModesForGL[a.BlendMode.ADD]=[770,1];d.blendModesForGL[a.BlendMode.ERASE]=[0,771];d.blendModesForGL[a.BlendMode.ERASE_REVERSE]=[0,770]};d.registerBlendModeForGL=function(b,f,c,e){d.blendModesForGL[b]&&!e?a.Logger.warningWithErrorId(1005,b):d.blendModesForGL[b]=[f,c]};d.imageSmoothingEnabled=
!0;d.blendModesForGL=null;return d}(a.HashObject);a.RendererContext=g;g.prototype.__class__="egret.RendererContext"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.MOUSE="mouse";a.TOUCH="touch";a.mode="touch";return a}();a.InteractionMode=g;g.prototype.__class__="egret.InteractionMode"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._currentTouchTarget={};this.maxTouches=2;this.touchDownTarget={};this.touchingIdentifiers=[];this.lastTouchY=this.lastTouchX=-1}__extends(d,e);var c=d.prototype;c.run=function(){};c.getTouchData=function(b,a,c){var d=this._currentTouchTarget[b];null==d&&(d={},this._currentTouchTarget[b]=d);d.stageX=a;d.stageY=c;d.identifier=b;return d};c.dispatchEvent=function(b,f){a.TouchEvent.dispatchTouchEvent(f.target,b,f.identifier,f.stageX,f.stageY,
!1,!1,!1,!0==this.touchDownTarget[f.identifier])};c.onTouchBegan=function(b,f,c){if(this.touchingIdentifiers.length!=this.maxTouches){this.lastTouchX=b;this.lastTouchY=f;var d=a.MainContext.instance.stage.hitTest(b,f);d&&(b=this.getTouchData(c,b,f),this.touchDownTarget[c]=!0,b.target=d,b.beginTarget=d,this.dispatchEvent(a.TouchEvent.TOUCH_BEGIN,b));this.touchingIdentifiers.push(c)}};c.onTouchMove=function(b,f,c){if(-1!=this.touchingIdentifiers.indexOf(c)&&(b!=this.lastTouchX||f!=this.lastTouchY)){this.lastTouchX=
b;this.lastTouchY=f;var d=a.MainContext.instance.stage.hitTest(b,f);d&&(b=this.getTouchData(c,b,f),b.target=d,this.dispatchEvent(a.TouchEvent.TOUCH_MOVE,b))}};c.onTouchEnd=function(b,f,c){var d=this.touchingIdentifiers.indexOf(c);-1!=d&&(this.touchingIdentifiers.splice(d,1),d=a.MainContext.instance.stage.hitTest(b,f))&&(b=this.getTouchData(c,b,f),delete this.touchDownTarget[c],c=b.beginTarget,b.target=d,this.dispatchEvent(a.TouchEvent.TOUCH_END,b),c==d?this.dispatchEvent(a.TouchEvent.TOUCH_TAP,b):
b.beginTarget&&(b.target=b.beginTarget,this.dispatchEvent(a.TouchEvent.TOUCH_RELEASE_OUTSIDE,b)),delete this._currentTouchTarget[b.identifier])};return d}(a.HashObject);a.TouchContext=g;g.prototype.__class__="egret.TouchContext"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this)}__extends(d,e);var c=d.prototype;c.proceed=function(b){};d._getUrl=function(b){var f=b.url;-1==f.indexOf("?")&&b.method==a.URLRequestMethod.GET&&b.data&&b.data instanceof a.URLVariables&&(f=f+"?"+b.data.toString());return f};c.getChangeList=function(){return[]};return d}(a.HashObject);a.NetContext=g;g.prototype.__class__="egret.NetContext"})(egret||(egret={}));
(function(a){var g=function(a){function d(){a.call(this);this.frameRate=60}__extends(d,a);d.prototype.executeMainLoop=function(a,b){};return d}(a.HashObject);a.DeviceContext=g;g.prototype.__class__="egret.DeviceContext"})(egret||(egret={}));(function(a){var g=function(){function a(){}a.call=function(a,c){};a.addCallback=function(a,c){};return a}();a.ExternalInterface=g;g.prototype.__class__="egret.ExternalInterface"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.header=this.trans=null;this.ua=navigator.userAgent.toLowerCase();this.trans=this.getTrans("transform")}__extends(d,e);var c=d.prototype;d.getInstance=function(){null==d.instance&&(d.instance=new d);return d.instance};Object.defineProperty(c,"isMobile",{get:function(){a.Logger.warningWithErrorId(1E3);return a.MainContext.deviceType==a.MainContext.DEVICE_MOBILE},enumerable:!0,configurable:!0});c.isIOS=function(){return 0>this.ua.indexOf("windows")&&
(0<=this.ua.indexOf("iphone")||0<=this.ua.indexOf("ipad")||0<=this.ua.indexOf("ipod"))};c.getIOSVersion=function(){return this.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0].match(/\d(_\d)*/)[0]};c.getUserAgent=function(){return this.ua};c.getTrans=function(b,a){void 0===a&&(a=!1);var c="";a?c=this.getHeader(b):(null==this.header&&(this.header=this.getHeader("transform")),c=this.header);return""==c?b:c+b.charAt(0).toUpperCase()+b.substring(1,b.length)};c.getHeader=function(b){var a=document.createElement("div").style;
if(b in a)return"";b=b.charAt(0).toUpperCase()+b.substring(1,b.length);for(var c=["webkit","ms","Moz","O"],d=0;d<c.length;d++)if(c[d]+b in a)return c[d];return""};c.$new=function(b){return this.$(document.createElement(b))};c.$=function(b){var f=document;if(b=b instanceof HTMLElement?b:f.querySelector(b))b.find=b.find||this.$,b.hasClass=b.hasClass||function(b){return this.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},b.addClass=b.addClass||function(b){this.hasClass(b)||(this.className&&(this.className+=
" "),this.className+=b);return this},b.removeClass=b.removeClass||function(b){this.hasClass(b)&&(this.className=this.className.replace(b,""));return this},b.remove=b.remove||function(){},b.appendTo=b.appendTo||function(b){b.appendChild(this);return this},b.prependTo=b.prependTo||function(b){b.childNodes[0]?b.insertBefore(this,b.childNodes[0]):b.appendChild(this);return this},b.transforms=b.transforms||function(){this.style[d.getInstance().trans]=d.getInstance().translate(this.position)+d.getInstance().rotate(this.rotation)+
d.getInstance().scale(this.scale)+d.getInstance().skew(this.skew);return this},b.position=b.position||{x:0,y:0},b.rotation=b.rotation||0,b.scale=b.scale||{x:1,y:1},b.skew=b.skew||{x:0,y:0},b.translates=function(b,f){this.position.x=b;this.position.y=f-a.MainContext.instance.stage.stageHeight;this.transforms();return this},b.rotate=function(b){this.rotation=b;this.transforms();return this},b.resize=function(b,a){this.scale.x=b;this.scale.y=a;this.transforms();return this},b.setSkew=function(b,a){this.skew.x=
b;this.skew.y=a;this.transforms();return this};return b};c.translate=function(b){return"translate("+b.x+"px, "+b.y+"px) "};c.rotate=function(b){return"rotate("+b+"deg) "};c.scale=function(b){return"scale("+b.x+", "+b.y+") "};c.skew=function(b){return"skewX("+-b.x+"deg) skewY("+b.y+"deg)"};return d}(a.HashObject);a.Browser=g;g.prototype.__class__="egret.Browser"})(egret||(egret={}));
(function(a){(function(a){a.getItem=function(a){return null};a.setItem=function(a,d){return!1};a.removeItem=function(a){};a.clear=function(){}})(a.localStorage||(a.localStorage={}))})(egret||(egret={}));
(function(a){var g=function(){function e(){}e.parse=function(d){d=a.SAXParser.getInstance().parserXML(d);if(!d||!d.childNodes)return null;for(var c=d.childNodes.length,b=!1,f=0;f<c;f++){var n=d.childNodes[f];if(1==n.nodeType){b=!0;break}}return b?e.parseNode(n):null};e.parseNode=function(a){if(!a||1!=a.nodeType)return null;var c={};c.localName=a.localName;c.name=a.nodeName;a.namespaceURI&&(c.namespace=a.namespaceURI);a.prefix&&(c.prefix=a.prefix);for(var b=a.attributes,f=b.length,n=0;n<f;n++){var g=
b[n],t=g.name;0!=t.indexOf("xmlns:")&&(c["$"+t]=g.value)}b=a.childNodes;f=b.length;for(n=0;n<f;n++)if(g=e.parseNode(b[n]))c.children||(c.children=[]),g.parent=c,c.children.push(g);!c.children&&(a=a.textContent.trim())&&(c.text=a);return c};e.findChildren=function(a,c,b){b?b.length=0:b=[];e.findByPath(a,c,b);return b};e.findByPath=function(a,c,b){var f=c.indexOf("."),n;-1==f?(n=c,f=!0):(n=c.substring(0,f),c=c.substring(f+1),f=!1);if(a=a.children)for(var g=a.length,t=0;t<g;t++){var p=a[t];p.localName==
n&&(f?b.push(p):e.findByPath(p,c,b))}};e.getAttributes=function(a,c){c?c.length=0:c=[];for(var b in a)"$"==b.charAt(0)&&c.push(b.substring(1));return c};return e}();a.XML=g;g.prototype.__class__="egret.XML"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.LITTLE_ENDIAN="littleEndian";a.BIG_ENDIAN="bigEndian";return a}();a.Endian=g;g.prototype.__class__="egret.Endian";var e=function(){function d(b){this.BUFFER_EXT_SIZE=0;this.EOF_code_point=this.EOF_byte=-1;this._setArrayBuffer(b||new ArrayBuffer(this.BUFFER_EXT_SIZE));this.endian=g.BIG_ENDIAN}var c=d.prototype;c._setArrayBuffer=function(b){this.write_position=b.byteLength;this.data=new DataView(b);this._position=0};c.setArrayBuffer=function(b){};Object.defineProperty(c,
"buffer",{get:function(){return this.data.buffer},set:function(b){this.data=new DataView(b)},enumerable:!0,configurable:!0});Object.defineProperty(c,"dataView",{get:function(){return this.data},set:function(b){this.data=b;this.write_position=b.byteLength},enumerable:!0,configurable:!0});Object.defineProperty(c,"bufferOffset",{get:function(){return this.data.byteOffset},enumerable:!0,configurable:!0});Object.defineProperty(c,"position",{get:function(){return this._position},set:function(b){this._position<
b&&!this.validate(b-this._position)||(this._position=b,this.write_position=b>this.write_position?b:this.write_position)},enumerable:!0,configurable:!0});Object.defineProperty(c,"length",{get:function(){return this.write_position},set:function(b){this.validateBuffer(b,!0)},enumerable:!0,configurable:!0});Object.defineProperty(c,"bytesAvailable",{get:function(){return this.data.byteLength-this._position},enumerable:!0,configurable:!0});c.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))};
c.readBoolean=function(){return this.validate(d.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null};c.readByte=function(){return this.validate(d.SIZE_OF_INT8)?this.data.getInt8(this.position++):null};c.readBytes=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);if(0==c)c=this.bytesAvailable;else if(!this.validate(c))return null;b?b.validateBuffer(c):b=new d(new ArrayBuffer(c));for(var e=0;e<c;e++)b.data.setUint8(e+a,this.data.getUint8(this.position++))};c.readDouble=function(){if(!this.validate(d.SIZE_OF_FLOAT64))return null;
var b=this.data.getFloat64(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_FLOAT64;return b};c.readFloat=function(){if(!this.validate(d.SIZE_OF_FLOAT32))return null;var b=this.data.getFloat32(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_FLOAT32;return b};c.readInt=function(){if(!this.validate(d.SIZE_OF_INT32))return null;var b=this.data.getInt32(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_INT32;return b};c.readShort=function(){if(!this.validate(d.SIZE_OF_INT16))return null;
var b=this.data.getInt16(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_INT16;return b};c.readUnsignedByte=function(){return this.validate(d.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null};c.readUnsignedInt=function(){if(!this.validate(d.SIZE_OF_UINT32))return null;var b=this.data.getUint32(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_UINT32;return b};c.readUnsignedShort=function(){if(!this.validate(d.SIZE_OF_UINT16))return null;var b=this.data.getUint16(this.position,
this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_UINT16;return b};c.readUTF=function(){if(!this.validate(d.SIZE_OF_UINT16))return null;var b=this.data.getUint16(this.position,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_UINT16;return 0<b?this.readUTFBytes(b):""};c.readUTFBytes=function(b){if(!this.validate(b))return null;var a=new Uint8Array(this.buffer,this.bufferOffset+this.position,b);this.position+=b;return this.decodeUTF8(a)};c.writeBoolean=function(b){this.validateBuffer(d.SIZE_OF_BOOLEAN);
this.data.setUint8(this.position++,b?1:0)};c.writeByte=function(b){this.validateBuffer(d.SIZE_OF_INT8);this.data.setInt8(this.position++,b)};c.writeBytes=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);if(!(0>a||0>c)&&(c=0==c?b.length-a:Math.min(b.length-a,c),0<c)){this.validateBuffer(c);b=new DataView(b.buffer);for(var d=a;d<c+a;d++)this.data.setUint8(this.position++,b.getUint8(d))}};c.writeDouble=function(b){this.validateBuffer(d.SIZE_OF_FLOAT64);this.data.setFloat64(this.position,b,this.endian==
g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_FLOAT64};c.writeFloat=function(b){this.validateBuffer(d.SIZE_OF_FLOAT32);this.data.setFloat32(this.position,b,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_FLOAT32};c.writeInt=function(b){this.validateBuffer(d.SIZE_OF_INT32);this.data.setInt32(this.position,b,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_INT32};c.writeShort=function(b){this.validateBuffer(d.SIZE_OF_INT16);this.data.setInt16(this.position,b,this.endian==g.LITTLE_ENDIAN);this.position+=
d.SIZE_OF_INT16};c.writeUnsignedInt=function(b){this.validateBuffer(d.SIZE_OF_UINT32);this.data.setUint32(this.position,b,this.endian==g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_UINT32};c.writeUTF=function(b){b=this.encodeUTF8(b);var a=b.length;this.validateBuffer(d.SIZE_OF_UINT16+a);this.data.setUint16(this.position,a,this.endian===g.LITTLE_ENDIAN);this.position+=d.SIZE_OF_UINT16;this._writeUint8Array(b,!1)};c.writeUTFBytes=function(b){this._writeUint8Array(this.encodeUTF8(b))};c.toString=function(){return"[ByteArray] length:"+
this.length+", bytesAvailable:"+this.bytesAvailable};c._writeUint8Array=function(b,a){void 0===a&&(a=!0);a&&this.validateBuffer(this.position+b.length);for(var c=0;c<b.length;c++)this.data.setUint8(this.position++,b[c])};c.validate=function(b){if(0<this.data.byteLength&&this._position+b<=this.data.byteLength)return!0;throw a.getString(1025);};c.validateBuffer=function(b,a){void 0===a&&(a=!1);this.write_position=b>this.write_position?b:this.write_position;b+=this._position;if(this.data.byteLength<
b||a){var c=new Uint8Array(new ArrayBuffer(b+this.BUFFER_EXT_SIZE)),d=Math.min(this.data.buffer.byteLength,b+this.BUFFER_EXT_SIZE);c.set(new Uint8Array(this.data.buffer,0,d));this.buffer=c.buffer}};c.encodeUTF8=function(b){var a=0;b=this.stringToCodePoints(b);for(var c=[];b.length>a;){var d=b[a++];if(this.inRange(d,55296,57343))this.encoderError(d);else if(this.inRange(d,0,127))c.push(d);else{var e,g;this.inRange(d,128,2047)?(e=1,g=192):this.inRange(d,2048,65535)?(e=2,g=224):this.inRange(d,65536,
1114111)&&(e=3,g=240);for(c.push(this.div(d,Math.pow(64,e))+g);0<e;){var h=this.div(d,Math.pow(64,e-1));c.push(128+h%64);e-=1}}}return new Uint8Array(c)};c.decodeUTF8=function(b){for(var a=0,c="",d,e=0,g=0,h=0,k=0;b.length>a;){d=b[a++];if(d===this.EOF_byte)d=0!==g?this.decoderError(!1):this.EOF_code_point;else if(0===g)this.inRange(d,0,127)||(this.inRange(d,194,223)?(g=1,k=128,e=d-192):this.inRange(d,224,239)?(g=2,k=2048,e=d-224):this.inRange(d,240,244)?(g=3,k=65536,e=d-240):this.decoderError(!1),
e*=Math.pow(64,g),d=null);else if(this.inRange(d,128,191))if(h+=1,e+=(d-128)*Math.pow(64,g-h),h!==g)d=null;else{var l=e,m=k,k=h=g=e=0;d=this.inRange(l,m,1114111)&&!this.inRange(l,55296,57343)?l:this.decoderError(!1,d)}else k=h=g=e=0,a--,d=this.decoderError(!1,d);null!==d&&d!==this.EOF_code_point&&(65535>=d?0<d&&(c+=String.fromCharCode(d)):(d-=65536,c+=String.fromCharCode(55296+(d>>10&1023)),c+=String.fromCharCode(56320+(d&1023))))}return c};c.encoderError=function(b){throw a.getString(1026,b);};c.decoderError=
function(b,c){if(b)throw a.getString(1027);return c||65533};c.inRange=function(b,a,c){return a<=b&&b<=c};c.div=function(b,a){return Math.floor(b/a)};c.stringToCodePoints=function(b){for(var a=[],c=0,d=b.length;c<b.length;){var e=b.charCodeAt(c);if(this.inRange(e,55296,57343))if(this.inRange(e,56320,57343))a.push(65533);else if(c===d-1)a.push(65533);else{var g=b.charCodeAt(c+1);this.inRange(g,56320,57343)?(e&=1023,g&=1023,c+=1,a.push(65536+(e<<10)+g)):a.push(65533)}else a.push(e);c+=1}return a};d.SIZE_OF_BOOLEAN=
1;d.SIZE_OF_INT8=1;d.SIZE_OF_INT16=2;d.SIZE_OF_INT32=4;d.SIZE_OF_UINT8=1;d.SIZE_OF_UINT16=2;d.SIZE_OF_UINT32=4;d.SIZE_OF_FLOAT32=4;d.SIZE_OF_FLOAT64=8;return d}();a.ByteArray=e;e.prototype.__class__="egret.ByteArray"})(egret||(egret={}));(function(a){a.getOption=function(a){if(window.hasOwnProperty("location")){var e=location.search;if(""==e)return"";for(var e=e.slice(1),e=e.split("&"),d=e.length,c=0;c<d;c++){var b=e[c].split("=");if(b[0]==a)return b[1]}}return""}})(egret||(egret={}));
(function(a){var g=function(e){function d(b,a,c){e.call(this);this._target=null;this.loop=this.ignoreGlobalPause=this._useTicks=!1;this._actions=this._steps=this.pluginData=null;this.paused=!1;this.duration=0;this._prevPos=-1;this.position=null;this._stepPosition=this._prevPosition=0;this.passive=!1;this.initialize(b,a,c)}__extends(d,e);var c=d.prototype;d.get=function(b,a,c,e){void 0===a&&(a=null);void 0===c&&(c=null);void 0===e&&(e=!1);e&&d.removeTweens(b);return new d(b,a,c)};d.removeTweens=function(b){if(b.tween_count){for(var a=
d._tweens,c=a.length-1;0<=c;c--)a[c]._target==b&&(a[c].paused=!0,a.splice(c,1));b.tween_count=0}};d.pauseTweens=function(b){if(b.tween_count)for(var c=a.Tween._tweens,d=c.length-1;0<=d;d--)c[d]._target==b&&(c[d].paused=!0)};d.resumeTweens=function(b){if(b.tween_count)for(var c=a.Tween._tweens,d=c.length-1;0<=d;d--)c[d]._target==b&&(c[d].paused=!1)};d.tick=function(b,a){void 0===a&&(a=!1);for(var c=d._tweens.concat(),e=c.length-1;0<=e;e--){var g=c[e];a&&!g.ignoreGlobalPause||g.paused||g.tick(g._useTicks?
1:b)}};d._register=function(b,c){var n=b._target,e=d._tweens;if(c)n&&(n.tween_count=0<n.tween_count?n.tween_count+1:1),e.push(b),d._inited||(a.Ticker.getInstance().register(d.tick,null),d._inited=!0);else for(n&&n.tween_count--,n=e.length;n--;)if(e[n]==b){e.splice(n,1);break}};d.removeAllTweens=function(){for(var b=d._tweens,a=0,c=b.length;a<c;a++){var e=b[a];e.paused=!0;e._target.tweenjs_count=0}b.length=0};c.initialize=function(b,a,c){this._target=b;a&&(this._useTicks=a.useTicks,this.ignoreGlobalPause=
a.ignoreGlobalPause,this.loop=a.loop,a.onChange&&this.addEventListener("change",a.onChange,a.onChangeObj),a.override&&d.removeTweens(b));this.pluginData=c||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];a&&a.paused?this.paused=!0:d._register(this,!0);a&&null!=a.position&&this.setPosition(a.position,d.NONE)};c.setPosition=function(b,a){void 0===a&&(a=1);0>b&&(b=0);var c=b,d=!1;c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0));if(c==this._prevPos)return d;
var e=this._prevPos;this.position=this._prevPos=c;this._prevPosition=b;if(this._target)if(d)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var g=0,h=this._steps.length;g<h&&!(this._steps[g].t>c);g++);g=this._steps[g-1];this._updateTargetProps(g,(this._stepPosition=c-g.t)/g.d)}0!=a&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==a&&c<e?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c));d&&this.setPaused(!0);this.dispatchEventWith("change");
return d};c._runActions=function(b,a,c){void 0===c&&(c=!1);var d=b,e=a,g=-1,h=this._actions.length,k=1;b>a&&(d=a,e=b,g=h,h=k=-1);for(;(g+=k)!=h;){a=this._actions[g];var l=a.t;(l==e||l>d&&l<e||c&&l==b)&&a.f.apply(a.o,a.p)}};c._updateTargetProps=function(b,a){var c,e,g,p;if(b||1!=a){if(this.passive=!!b.v)return;b.e&&(a=b.e(a,0,1,1));c=b.p0;e=b.p1}else this.passive=!1,c=e=this._curQueueProps;for(var h in this._initQueueProps){null==(g=c[h])&&(c[h]=g=this._initQueueProps[h]);null==(p=e[h])&&(e[h]=p=g);
g=g==p||0==a||1==a||"number"!=typeof g?1==a?p:g:g+(p-g)*a;var k=!1;if(p=d._plugins[h])for(var l=0,m=p.length;l<m;l++){var q=p[l].tween(this,h,g,c,e,a,!!b&&c==e,!b);q==d.IGNORE?k=!0:g=q}k||(this._target[h]=g)}};c.setPaused=function(b){this.paused=b;d._register(this,!b);return this};c._cloneProps=function(b){var a={},c;for(c in b)a[c]=b[c];return a};c._addStep=function(b){0<b.d&&(this._steps.push(b),b.t=this.duration,this.duration+=b.d);return this};c._appendQueueProps=function(b){var a,c,e,g,p,h;for(h in b)if(void 0===
this._initQueueProps[h]){c=this._target[h];if(a=d._plugins[h])for(e=0,g=a.length;e<g;e++)c=a[e].init(this,h,c);this._initQueueProps[h]=this._curQueueProps[h]=void 0===c?null:c}for(h in b){c=this._curQueueProps[h];if(a=d._plugins[h])for(p=p||{},e=0,g=a.length;e<g;e++)a[e].step&&a[e].step(this,h,c,b[h],p);this._curQueueProps[h]=b[h]}p&&this._appendQueueProps(p);return this._curQueueProps};c._addAction=function(b){b.t=this.duration;this._actions.push(b);return this};c._set=function(b,a){for(var c in b)a[c]=
b[c]};c.wait=function(b,a){if(null==b||0>=b)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:b,p0:c,p1:c,v:a})};c.to=function(b,a,c){void 0===c&&(c=void 0);if(isNaN(a)||0>a)a=0;return this._addStep({d:a||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(b))})};c.call=function(b,a,c){void 0===a&&(a=void 0);void 0===c&&(c=void 0);return this._addAction({f:b,p:c?c:[],o:a?a:this._target})};c.set=function(b,a){void 0===a&&(a=null);
return this._addAction({f:this._set,o:this,p:[b,a?a:this._target]})};c.play=function(b){b||(b=this);return this.call(b.setPaused,b,[!1])};c.pause=function(b){b||(b=this);return this.call(b.setPaused,b,[!0])};c.tick=function(b){this.paused||this.setPosition(this._prevPosition+b)};d.NONE=0;d.LOOP=1;d.REVERSE=2;d._tweens=[];d.IGNORE={};d._plugins={};d._inited=!1;return d}(a.EventDispatcher);a.Tween=g;g.prototype.__class__="egret.Tween"})(egret||(egret={}));
(function(a){var g=function(){function e(){a.Logger.fatalWithErrorId(1014)}e.get=function(a){-1>a&&(a=-1);1<a&&(a=1);return function(c){return 0==a?c:0>a?c*(c*-a+1+a):c*((2-c)*a+(1-a))}};e.getPowIn=function(a){return function(c){return Math.pow(c,a)}};e.getPowOut=function(a){return function(c){return 1-Math.pow(1-c,a)}};e.getPowInOut=function(a){return function(c){return 1>(c*=2)?0.5*Math.pow(c,a):1-0.5*Math.abs(Math.pow(2-c,a))}};e.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)};e.sineOut=function(a){return Math.sin(a*
Math.PI/2)};e.sineInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};e.getBackIn=function(a){return function(c){return c*c*((a+1)*c-a)}};e.getBackOut=function(a){return function(c){return--c*c*((a+1)*c+a)+1}};e.getBackInOut=function(a){a*=1.525;return function(c){return 1>(c*=2)?0.5*c*c*((a+1)*c-a):0.5*((c-=2)*c*((a+1)*c+a)+2)}};e.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};e.circOut=function(a){return Math.sqrt(1- --a*a)};e.circInOut=function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*
(Math.sqrt(1-(a-=2)*a)+1)};e.bounceIn=function(a){return 1-e.bounceOut(1-a)};e.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};e.bounceInOut=function(a){return 0.5>a?0.5*e.bounceIn(2*a):0.5*e.bounceOut(2*a-1)+0.5};e.getElasticIn=function(a,c){var b=2*Math.PI;return function(f){if(0==f||1==f)return f;var e=c/b*Math.asin(1/a);return-(a*Math.pow(2,10*(f-=1))*Math.sin((f-e)*b/c))}};e.getElasticOut=
function(a,c){var b=2*Math.PI;return function(f){if(0==f||1==f)return f;var e=c/b*Math.asin(1/a);return a*Math.pow(2,-10*f)*Math.sin((f-e)*b/c)+1}};e.getElasticInOut=function(a,c){var b=2*Math.PI;return function(f){var e=c/b*Math.asin(1/a);return 1>(f*=2)?-0.5*a*Math.pow(2,10*(f-=1))*Math.sin((f-e)*b/c):a*Math.pow(2,-10*(f-=1))*Math.sin((f-e)*b/c)*0.5+1}};e.quadIn=e.getPowIn(2);e.quadOut=e.getPowOut(2);e.quadInOut=e.getPowInOut(2);e.cubicIn=e.getPowIn(3);e.cubicOut=e.getPowOut(3);e.cubicInOut=e.getPowInOut(3);
e.quartIn=e.getPowIn(4);e.quartOut=e.getPowOut(4);e.quartInOut=e.getPowInOut(4);e.quintIn=e.getPowIn(5);e.quintOut=e.getPowOut(5);e.quintInOut=e.getPowInOut(5);e.backIn=e.getBackIn(1.7);e.backOut=e.getBackOut(1.7);e.backInOut=e.getBackInOut(1.7);e.elasticIn=e.getElasticIn(1,0.3);e.elasticOut=e.getElasticOut(1,0.3);e.elasticInOut=e.getElasticInOut(1,0.3*1.5);return e}();a.Ease=g;g.prototype.__class__="egret.Ease"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.path="";this.audio=null;this.type=d.EFFECT;this._pauseTime=0;this._listeners=[]}__extends(d,e);var c=d.prototype;Object.defineProperty(c,"position",{get:function(){return this.audio?Math.floor(1E3*this.audio._getCurrentTime()):0},enumerable:!0,configurable:!0});c.play=function(b,a){void 0===b&&(b=!1);void 0===a&&(a=0);var c=this.audio;c&&(c._setCurrentTime(a/1E3),c._setLoop(b),c._play(this.type))};c.stop=function(){var b=this.audio;b&&
(this._pauseTime=0,b._setCurrentTime(0),b._pause())};c.pause=function(){var b=this.audio;b&&(this._pauseTime=b._getCurrentTime(),b._pause())};c.resume=function(){var b=this.audio;b&&(b._setCurrentTime(this._pauseTime),this._pauseTime=0,b._play(this.type))};c.load=function(){var b=this.audio;b&&b._load()};c.addEventListener=function(b,c,d){e.prototype.addEventListener.call(this,b,c,d);var g=this;this.audio&&1==this._eventsMap[b].length&&(c=b==a.SoundEvent.SOUND_COMPLETE?function(b){a.Event._dispatchByTarget(a.SoundEvent,
g,a.SoundEvent.SOUND_COMPLETE)}:function(b){a.Event._dispatchByTarget(a.Event,g,b.type)},this._listeners.push({type:b,func:c}),b=g.getVirtualType(b),this.audio._addEventListener(b,c,!1))};c.removeEventListener=function(b,a,c){e.prototype.removeEventListener.call(this,b,a,c);if(this.audio&&(!this._eventsMap||!this._eventsMap[b]||0==this._eventsMap[b].length))for(c=0;c<this._listeners.length;c++)if(a=this._listeners[c],a.type==b){this._listeners.splice(c,1);b=this.getVirtualType(b);this.audio._removeEventListener(b,
a.func,!1);break}};c.getVirtualType=function(b){switch(b){case a.SoundEvent.SOUND_COMPLETE:return"ended";default:return b}};Object.defineProperty(c,"volume",{get:function(){return this.audio?this.audio._getVolume():0},set:function(b){var a=this.audio;a&&a._setVolume(Math.max(0,Math.min(b,1)))},enumerable:!0,configurable:!0});c.setVolume=function(b){a.Logger.warningWithErrorId(1031);this.volume=b};c.getVolume=function(){a.Logger.warningWithErrorId(1032);return this.volume};c.preload=function(b,a,c){void 0===
a&&(a=null);void 0===c&&(c=null);this.type=b;this.audio._preload(b,a,c)};c._setAudio=function(b){this.audio=b};c.destroy=function(){this.audio._destroy()};d.MUSIC="music";d.EFFECT="effect";return d}(a.EventDispatcher);a.Sound=g;g.prototype.__class__="egret.Sound"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.isNumber=function(a){return"number"===typeof a&&!isNaN(a)};a.sin=function(d){var c=Math.floor(d),b=c+1,f=a.sinInt(c),n=a.sinInt(b);return(d-c)*n+(b-d)*f};a.sinInt=function(a){a%=360;0>a&&(a+=360);return 90>a?egret_sin_map[a]:180>a?egret_cos_map[a-90]:270>a?-egret_sin_map[a-180]:-egret_cos_map[a-270]};a.cos=function(d){var c=Math.floor(d),b=c+1,f=a.cosInt(c),n=a.cosInt(b);return(d-c)*n+(b-d)*f};a.cosInt=function(a){a%=360;0>a&&(a+=360);return 90>a?egret_cos_map[a]:
180>a?-egret_sin_map[a-90]:270>a?-egret_cos_map[a-180]:egret_sin_map[a-270]};return a}();a.NumberUtils=g;g.prototype.__class__="egret.NumberUtils"})(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},NumberUtils_i=0;90>=NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*egret.Matrix.DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*egret.Matrix.DEG_TO_RAD);
Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError(egret.getString(1029));var g=Array.prototype.slice.call(arguments,1),e=this,d=function(){},c=function(){return e.apply(this instanceof d&&a?this:a,g.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;c.prototype=new d;return c});
(function(a){var g=function(){function e(){this.downloadingSizeThisObject=this.downloadingSizeFunc=this.onErrorThisObject=this.onErrorFunc=this.onSuccessThisObject=this.onSuccessFunc=null}var d=e.prototype;e.create=function(){return e.promiseObjectList.length?e.promiseObjectList.pop():new a.PromiseObject};d.onSuccess=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this.onSuccessFunc&&this.onSuccessFunc.apply(this.onSuccessThisObject,a);this.destroy()};d.onError=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this.onErrorFunc&&this.onErrorFunc.apply(this.onErrorThisObject,a);this.destroy()};d.downloadingSize=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this.downloadingSizeFunc&&this.downloadingSizeFunc.apply(this.downloadingSizeThisObject,a)};d.destroy=function(){this.downloadingSizeThisObject=this.downloadingSizeFunc=this.onErrorThisObject=this.onErrorFunc=this.onSuccessThisObject=this.onSuccessFunc=void 0;e.promiseObjectList.push(this)};
e.promiseObjectList=[];return e}();a.PromiseObject=g;g.prototype.__class__="egret.PromiseObject"})(egret||(egret={}));
(function(a){var g=function(e){function d(b){void 0===b&&(b=60);e.call(this);this.frameRate=b;this._time=0;this._requestAnimationId=NaN;this._isActivate=!0;d.countTime=0;0==60%b&&(d.countTime=60/b-1,d.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,d.cancelAnimationFrame=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||
window.oCancelAnimationFrame||window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame);d.requestAnimationFrame||(d.requestAnimationFrame=function(a){return window.setTimeout(a,1E3/b)});d.cancelAnimationFrame||(d.cancelAnimationFrame=function(b){return window.clearTimeout(b)});d.instance=this;this.registerListener()}__extends(d,e);var c=d.prototype;c.enterFrame=function(){var b=
d.instance,c=d._thisObject,e=d._callback,g=a.getTimer(),t=g-b._time;b._requestAnimationId=d.requestAnimationFrame.call(window,d.prototype.enterFrame);d.count<d.countTime?d.count++:(d.count=0,e.call(c,t),b._time=g)};c.executeMainLoop=function(b,a){d._callback=b;d._thisObject=a;this.enterFrame()};c.reset=function(){var b=d.instance;b._requestAnimationId&&(b._time=a.getTimer(),d.cancelAnimationFrame.call(window,b._requestAnimationId),b.enterFrame())};c.registerListener=function(){var b=this,c=function(){b._isActivate&&
(b._isActivate=!1,a.MainContext.instance.stage.dispatchEvent(new a.Event(a.Event.DEACTIVATE)))},e=function(){b._isActivate||(b._isActivate=!0,d.instance.reset(),a.MainContext.instance.stage.dispatchEvent(new a.Event(a.Event.ACTIVATE)))},g=function(){document[t]?c():e()};window.addEventListener("focus",e,!1);window.addEventListener("blur",c,!1);var t,p;"undefined"!==typeof document.hidden?(t="hidden",p="visibilitychange"):"undefined"!==typeof document.mozHidden?(t="mozHidden",p="mozvisibilitychange"):
"undefined"!==typeof document.msHidden?(t="msHidden",p="msvisibilitychange"):"undefined"!==typeof document.webkitHidden?(t="webkitHidden",p="webkitvisibilitychange"):"undefined"!==typeof document.oHidden&&(t="oHidden",p="ovisibilitychange");"onpageshow"in window&&"onpagehide"in window&&(window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",c,!1));t&&p&&document.addEventListener(p,g,!1);g=navigator.userAgent;p=/micromessenger/gi.test(g);var h=/mqq/ig.test(g);if(/mobile.*qq/gi.test(g)||
p)h=!1;h&&(g=window.browser||{},g.execWebFn=g.execWebFn||{},g.execWebFn.postX5GamePlayerMessage=function(b){b=b.type;"app_enter_background"==b?c():"app_enter_foreground"==b&&e()},window.browser=g)};d.instance=null;d.countTime=0;d.requestAnimationFrame=null;d.cancelAnimationFrame=null;d._thisObject=null;d._callback=null;d.count=0;return d}(a.DeviceContext);a.HTML5DeviceContext=g;g.prototype.__class__="egret.HTML5DeviceContext"})(egret||(egret={}));var egret_html5_localStorage;
(function(a){a.getItem=function(a){if(window.localStorage)return window.localStorage.getItem(a)};a.setItem=function(a,e){if(window.localStorage)try{return window.localStorage.setItem(a,e),!0}catch(d){return egret.Logger.infoWithErrorId(1018,a,e),!1}};a.removeItem=function(a){window.localStorage&&window.localStorage.removeItem(a)};a.clear=function(){window.localStorage&&window.localStorage.clear()};a.init=function(){for(var g in a)egret.localStorage[g]=a[g]}})(egret_html5_localStorage||(egret_html5_localStorage=
{}));egret_html5_localStorage.init();
(function(a){var g=function(e){function d(b,c){void 0===c&&(c=!0);e.call(this);this.useCacheCanvas=c;a.Texture.prototype.draw=a.Texture.prototype._drawForCanvas;a.Texture.prototype.dispose=a.Texture.prototype._disposeForCanvas;this.canvas=b||this.createCanvas();this.canvasContext=this.canvas.getContext("2d");c?(this._cacheCanvas=document.createElement("canvas"),this._cacheCanvas.width=this.canvas.width,this._cacheCanvas.height=this.canvas.height,this.drawCanvasContext=this._cacheCanvasContext=this._cacheCanvas.getContext("2d")):
this.drawCanvasContext=this.canvasContext;var d=this.drawCanvasContext;if(void 0==d.imageSmoothingEnabled){for(var g=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled"],t=0;t<g.length;t++){var p=g[t];if(void 0!=d[p])break}Object.defineProperty(d,"imageSmoothingEnabled",{get:function(){return this[p]},set:function(b){this[p]=b},enumerable:!0,configurable:!0})}this.onResize();var h=this.drawCanvasContext.setTransform,k=this;this.drawCanvasContext.setTransform=function(b,
a,c,f,d,e){k._matrixA=b;k._matrixB=a;k._matrixC=c;k._matrixD=f;k._matrixTx=d;k._matrixTy=e;h.call(k.drawCanvasContext,b,a,c,f,d,e)};this._matrixA=1;this._matrixC=this._matrixB=0;this._matrixD=1;this._transformTy=this._transformTx=this._matrixTy=this._matrixTx=0;this.initBlendMode()}__extends(d,e);var c=d.prototype;c.createCanvas=function(){var b=a.Browser.getInstance().$("#egretCanvas");if(!b){var c=document.getElementById(a.StageDelegate.canvas_div_name),b=a.Browser.getInstance().$new("canvas");
b.id="egretCanvas";c.appendChild(b)}a.MainContext.instance.stage.addEventListener(a.Event.RESIZE,this.onResize,this);return b};c.onResize=function(){if(this.canvas){var b=document.getElementById(a.StageDelegate.canvas_div_name);this.canvas.width=a.MainContext.instance.stage.stageWidth;this.canvas.height=a.MainContext.instance.stage.stageHeight;this.canvas.style.width=b.style.width;this.canvas.style.height=b.style.height;this.useCacheCanvas&&(this._cacheCanvas.width=this.canvas.width,this._cacheCanvas.height=
this.canvas.height);this.drawCanvasContext.imageSmoothingEnabled=a.RendererContext.imageSmoothingEnabled}};c.clearScreen=function(){for(var b=a.RenderFilter.getInstance().getDrawAreaList(),c=0,d=b.length;c<d;c++){var e=b[c];this.clearRect(e.x,e.y,e.width,e.height)}b=a.MainContext.instance.stage;this.useCacheCanvas&&this._cacheCanvasContext.clearRect(0,0,b.stageWidth,b.stageHeight);this.renderCost=0};c.clearRect=function(b,a,c,d){this.canvasContext.clearRect(b,a,c,d)};c.drawImage=function(b,c,d,g,
t,p,h,k,l,m){void 0===m&&(m=void 0);p+=this._transformTx;h+=this._transformTy;var q=a.getTimer();b.draw(this.drawCanvasContext,c,d,g,t,p,h,k,l,m);e.prototype.drawImage.call(this,b,c,d,g,t,p,h,k,l,m);this.renderCost+=a.getTimer()-q};c.setTransform=function(b){1==b.a&&0==b.b&&0==b.c&&1==b.d&&1==this._matrixA&&0==this._matrixB&&0==this._matrixC&&1==this._matrixD?(this._transformTx=b.tx-this._matrixTx,this._transformTy=b.ty-this._matrixTy):(this._transformTx=this._transformTy=0,this._matrixA==b.a&&this._matrixB==
b.b&&this._matrixC==b.c&&this._matrixD==b.d&&this._matrixTx==b.tx&&this._matrixTy==b.ty||this.drawCanvasContext.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty))};c.setAlpha=function(b,c){this.drawCanvasContext.globalAlpha=b;c?(this.blendValue=this.blendModes[c],this.drawCanvasContext.globalCompositeOperation=this.blendValue):this.blendValue!=a.BlendMode.NORMAL&&(this.blendValue=this.blendModes[a.BlendMode.NORMAL],this.drawCanvasContext.globalCompositeOperation=this.blendValue)};c.initBlendMode=function(){this.blendModes=
{};this.blendModes[a.BlendMode.NORMAL]="source-over";this.blendModes[a.BlendMode.ADD]="lighter";this.blendModes[a.BlendMode.ERASE]="destination-out";this.blendModes[a.BlendMode.ERASE_REVERSE]="destination-in"};c.setupFont=function(b,a){void 0===a&&(a=null);a=a||{};var c=b._TF_Props_,d=null==a.size?c._size:a.size,e=null==a.fontFamily?c._fontFamily:a.fontFamily,g=this.drawCanvasContext,h=(null==a.italic?c._italic:a.italic)?"italic ":"normal ",h=h+((null==a.bold?c._bold:a.bold)?"bold ":"normal ");g.font=
h+(d+"px "+e);g.textAlign="left";g.textBaseline="middle"};c.measureText=function(b){return this.drawCanvasContext.measureText(b).width};c.drawText=function(b,c,d,g,t,p){void 0===p&&(p=null);this.setupFont(b,p);p=p||{};var h=b._TF_Props_,k;k=null!=p.textColor?a.toColorString(p.textColor):h._textColorString;var l;l=null!=p.strokeColor?a.toColorString(p.strokeColor):h._strokeColorString;var h=null!=p.stroke?p.stroke:h._stroke,m=this.drawCanvasContext;m.fillStyle=k;m.strokeStyle=l;h&&(m.lineWidth=2*h,
m.strokeText(c,d+this._transformTx,g+this._transformTy,t||65535));m.fillText(c,d+this._transformTx,g+this._transformTy,t||65535);e.prototype.drawText.call(this,b,c,d,g,t,p)};c.strokeRect=function(b,a,c,d,e){this.drawCanvasContext.strokeStyle=e;this.drawCanvasContext.strokeRect(b,a,c,d)};c.pushMask=function(b){this.drawCanvasContext.save();this.drawCanvasContext.beginPath();this.drawCanvasContext.rect(b.x+this._transformTx,b.y+this._transformTy,b.width,b.height);this.drawCanvasContext.clip();this.drawCanvasContext.closePath()};
c.popMask=function(){this.drawCanvasContext.restore();this.drawCanvasContext.setTransform(1,0,0,1,0,0)};c.onRenderStart=function(){this.drawCanvasContext.save()};c.onRenderFinish=function(){this.drawCanvasContext.restore();this.drawCanvasContext.setTransform(1,0,0,1,0,0);if(this.useCacheCanvas)for(var b=this._cacheCanvas.width,c=this._cacheCanvas.height,d=a.RenderFilter.getInstance().getDrawAreaList(),e=0,g=d.length;e<g;e++){var p=d[e],h=p.x,k=p.y,l=p.width,p=p.height;h+l>b&&(l=b-h);k+p>c&&(p=c-k);
0<l&&0<p&&this.canvasContext.drawImage(this._cacheCanvas,h,k,l,p,h,k,l,p)}};c.drawCursor=function(b,a,c,d){this.drawCanvasContext.strokeStyle="#40a5ff";this.drawCanvasContext.lineWidth=2;this.drawCanvasContext.beginPath();this.drawCanvasContext.moveTo(Math.round(b+this._transformTx),Math.round(a+this._transformTy));this.drawCanvasContext.lineTo(Math.round(c+this._transformTx),Math.round(d+this._transformTy));this.drawCanvasContext.closePath();this.drawCanvasContext.stroke()};return d}(a.RendererContext);
a.HTML5CanvasRenderer=g;g.prototype.__class__="egret.HTML5CanvasRenderer"})(egret||(egret={}));egret.RendererContext.createRendererContext=function(a){return new egret.HTML5CanvasRenderer(a,!1)};egret.Graphics.prototype._beginDraw=function(a){this._renderContext=a.drawCanvasContext;var g=a._transformTx;a=a._transformTy;0==g&&0==a||this._renderContext.translate(g,a)};
egret.Graphics.prototype._endDraw=function(a){this._renderContext=a.drawCanvasContext;var g=a._transformTx;a=a._transformTy;0==g&&0==a||this._renderContext.translate(-g,-a)};
(function(a){var g=function(e){function d(b){e.call(this);this.glID=this.gl=this.canvas=null;this.size=2E3;this.vertices=null;this.vertSize=5;this.indices=null;this.projectionY=this.projectionX=NaN;this.shaderManager=null;this.contextLost=!1;this.glContextId=0;this.currentBlendMode="";this.currentBaseTexture=null;this.currentBatchSize=0;this.worldTransform=null;this.worldAlpha=1;this.maskList=[];this.maskDataFreeList=[];this.graphicsIndexBuffer=this.graphicsBuffer=this.graphicsIndices=this.graphicsPoints=
this.filterType=this.colorTransformMatrix=null;this.graphicsStyle={};a.Texture.prototype.dispose=a.Texture.prototype._disposeForCanvas;this.canvas=b||this.createCanvas();this.canvas.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1);this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),!1);this.html5Canvas=document.createElement("canvas");this.canvasContext=new a.HTML5CanvasRenderer(this.html5Canvas);this.onResize();this.projectionX=this.canvas.width/
2;this.projectionY=-this.canvas.height/2;b=6*this.size;this.vertices=new Float32Array(4*this.size*this.vertSize);this.indices=new Uint16Array(b);for(var c=0,d=0;c<b;c+=6,d+=4)this.indices[c+0]=d+0,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d+0,this.indices[c+4]=d+2,this.indices[c+5]=d+3;this.initWebGL();this.shaderManager=new a.WebGLShaderManager(this.gl);this.worldTransform=new a.Matrix;this.initAll()}__extends(d,e);var c=d.prototype;c.onRenderFinish=function(){this._drawWebGL()};
d.initWebGLCanvas=function(){a.RenderTexture.WebGLCanvas||(a.RenderTexture.WebGLCanvas=document.createElement("canvas"),a.RenderTexture.WebGLCanvas.avaliable=!0,a.RenderTexture.WebGLRenderer=new a.WebGLRenderer(a.RenderTexture.WebGLCanvas),a.RenderTexture.WebGLRenderer.setAlpha(1))};c.initAll=function(){d.isInit||(d.isInit=!0,egret_webgl_graphics.init(),a.TextField.prototype._makeBitmapCache=function(){this.renderTexture||(this.renderTexture=new a.RenderTexture);var b=this.getBounds(a.Rectangle.identity);
if(0==b.width||0==b.height)return this._texture_to_render=null,!1;this._bitmapData||(this._bitmapData=document.createElement("canvas"),this._bitmapData.avaliable=!0,this.renderContext=a.RendererContext.createRendererContext(this._bitmapData));var c=this._bitmapData,d=b.width,b=b.height,e,g,p=a.MainContext.instance.rendererContext._texture_scale_factor;e=d/p;g=b/p;e=Math.round(e);g=Math.round(g);c.width=e;c.height=g;c.style.width=e+"px";c.style.height=g+"px";this.renderContext._cacheCanvas&&(this.renderContext._cacheCanvas.width=
e,this.renderContext._cacheCanvas.height=g);this._worldTransform.identity();this._worldTransform.a=1/p;this._worldTransform.d=1/p;this.renderContext.setTransform(this._worldTransform);this.worldAlpha=1;c=a.RenderFilter.getInstance();p=c._drawAreaList.concat();c._drawAreaList.length=0;this.renderContext.clearScreen();this.renderContext.onRenderStart();a.Texture.deleteWebGLTexture(this.renderTexture);this.renderTexture.dispose();this._hasFilters()&&this._setGlobalFilters(this.renderContext);var h=this.mask||
this._DO_Props_._scrollRect;h&&this.renderContext.pushMask(h);this._render(this.renderContext);h&&this.renderContext.popMask();this._hasFilters()&&this._removeGlobalFilters(this.renderContext);a.RenderTexture.identityRectangle.width=e;a.RenderTexture.identityRectangle.height=g;c.addDrawArea(a.RenderTexture.identityRectangle);this.renderContext.onRenderFinish();c._drawAreaList=p;this.renderTexture._bitmapData=this._bitmapData;this.renderTexture._sourceWidth=e;this.renderTexture._sourceHeight=g;this.renderTexture._textureWidth=
d;this.renderTexture._textureHeight=b;this._texture_to_render=this.renderTexture;return!0},a.TextField.prototype._draw=function(b){this._TF_Props_._type==a.TextFieldType.INPUT&&this._isTyping||(this.getDirty()&&(this._texture_to_render=this.renderTexture,this._DO_Props_._cacheAsBitmap=!0),a.DisplayObject.prototype._draw.call(this,b))},a.RenderTexture.prototype.init=function(){this._bitmapData=document.createElement("canvas");this._bitmapData.avaliable=!0;this.canvasContext=this._bitmapData.getContext("2d");
d.initWebGLCanvas();this._webglBitmapData=a.RenderTexture.WebGLCanvas;this.renderContext=a.RenderTexture.WebGLRenderer},a.RenderTexture.prototype.setSize=function(b,a){this._webglBitmapData&&this.renderContext.setSize(b,a);if(this._bitmapData){var c=this._bitmapData;c.width=b;c.height=a;c.style.width=b+"px";c.style.height=a+"px"}},a.RenderTexture.prototype.end=function(){},a.RenderTexture.prototype.drawToTexture=function(b,c,d){var e=c||b.getBounds(a.Rectangle.identity);if(0==e.width||0==e.height)return!1;
"undefined"==typeof d&&(d=1);this._bitmapData||this.init();var g=e.x,p=e.y,h=e.width,e=e.height,e=e/d,k=a.MainContext.instance.rendererContext._texture_scale_factor,h=Math.round(h/d),e=Math.round(e);this.setSize(h,e);var l=this._bitmapData,m=h/k*d,q=e/k*d;l.width=m;l.height=q;l.style.width=m+"px";l.style.height=q+"px";this.begin();b._worldTransform.identity();l=b._DO_Props_._anchorOffsetX;m=b._DO_Props_._anchorOffsetY;if(0!=b._DO_Props_._anchorX||0!=b._DO_Props_._anchorY)l=b._DO_Props_._anchorX*h,
m=b._DO_Props_._anchorY*e;this._offsetX=g+l;this._offsetY=p+m;b._worldTransform.append(1,0,0,1,-this._offsetX,-this._offsetY);c&&(this._offsetX-=g,this._offsetY-=p);b.worldAlpha=1;c=a.MainContext.__use_new_draw;a.MainContext.__use_new_draw=!1;if(b instanceof a.DisplayObjectContainer)for(g=b._children,p=0,l=g.length;p<l;p++)g[p]._updateTransform();this.renderContext.setTransform(b._worldTransform);g=a.RenderFilter.getInstance();p=g._drawAreaList.concat();g._drawAreaList.length=0;l=this.renderContext.gl;
l.viewport(0,0,h,e);l.bindFramebuffer(l.FRAMEBUFFER,null);l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT);this.renderContext.onRenderStart();a.Texture.deleteWebGLTexture(this);b._hasFilters()&&b._setGlobalFilters(this.renderContext);(l=b.mask||b._DO_Props_._scrollRect)&&this.renderContext.pushMask(l);b._render(this.renderContext);this.renderContext._drawWebGL();a.MainContext.__use_new_draw=c;l&&this.renderContext.popMask();b._hasFilters()&&b._removeGlobalFilters(this.renderContext);a.RenderTexture.identityRectangle.width=
h;a.RenderTexture.identityRectangle.height=e;g.addDrawArea(a.RenderTexture.identityRectangle);this.renderContext.onRenderFinish();g._drawAreaList=p;this._sourceWidth=h/k*d;this._sourceHeight=e/k*d;this._textureWidth=h*d;this._textureHeight=e*d;this.canvasContext.drawImage(this._webglBitmapData,0,0,h,e,0,0,this._sourceWidth,this._sourceHeight);return!0})};c.createCanvas=function(){var b=a.Browser.getInstance().$("#egretCanvas");if(!b){var c=document.getElementById(a.StageDelegate.canvas_div_name),
b=a.Browser.getInstance().$new("canvas");b.id="egretCanvas";c.appendChild(b)}a.MainContext.instance.stage.addEventListener(a.Event.RESIZE,this.onResize,this);return b};c.onResize=function(){this.setSize(a.MainContext.instance.stage.stageWidth,a.MainContext.instance.stage.stageHeight)};c.setSize=function(b,c){var d=document.getElementById(a.StageDelegate.canvas_div_name);this.canvas&&(this.canvas.width=b,this.canvas.height=c,this.canvas.style.width=d.style.width,this.canvas.style.height=d.style.height,
this.projectionX=this.canvas.width/2,this.projectionY=-this.canvas.height/2);this.html5Canvas&&(this.html5Canvas.width=b,this.html5Canvas.height=c,this.html5Canvas.style.width=d.style.width,this.html5Canvas.style.height=d.style.height);this.width=b;this.height=c};c.handleContextLost=function(){this.contextLost=!0};c.handleContextRestored=function(){this.initWebGL();this.shaderManager.setContext(this.gl);this.contextLost=!1};c.initWebGL=function(){for(var b={},c,e=["experimental-webgl","webgl"],g=
0;g<e.length;g++){try{c=this.canvas.getContext(e[g],b)}catch(t){}if(c)break}if(!c)throw Error(a.getString(1021));d.glID++;this.glID=d.glID;this.setContext(c)};c.setContext=function(b){this.gl=b;b.id=this.glContextId++;this.vertexBuffer=b.createBuffer();this.indexBuffer=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.indices,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer);b.bufferData(b.ARRAY_BUFFER,this.vertices,b.DYNAMIC_DRAW);
b.disable(b.DEPTH_TEST);b.disable(b.CULL_FACE);b.enable(b.BLEND);b.colorMask(!0,!0,!0,!0)};c.start=function(){if(!this.contextLost){var b=this.gl;b.activeTexture(b.TEXTURE0);b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var a;a="colorTransform"==this.filterType?this.shaderManager.colorTransformShader:"blur"==this.filterType?this.shaderManager.blurShader:this.shaderManager.defaultShader;this.shaderManager.activateShader(a);a.syncUniforms();b.uniform2f(a.projectionVector,
this.projectionX,this.projectionY);var c=4*this.vertSize;b.vertexAttribPointer(a.aVertexPosition,2,b.FLOAT,!1,c,0);b.vertexAttribPointer(a.aTextureCoord,2,b.FLOAT,!1,c,8);b.vertexAttribPointer(a.colorAttribute,2,b.FLOAT,!1,c,16)}};c.clearScreen=function(){var b=this.gl;b.colorMask(!0,!0,!0,!0);for(var c=a.RenderFilter.getInstance().getDrawAreaList(),d=0,e=c.length;d<e;d++){var g=c[d];b.viewport(g.x,g.y,g.width,g.height);b.bindFramebuffer(b.FRAMEBUFFER,null);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)}b.viewport(0,
0,this.width,this.height);this.renderCost=0};c.setBlendMode=function(b){b||(b=a.BlendMode.NORMAL);if(this.currentBlendMode!=b){var c=a.RendererContext.blendModesForGL[b];c&&(this._drawWebGL(),this.gl.blendFunc(c[0],c[1]),this.currentBlendMode=b)}};c.drawRepeatImage=function(b,c,d,e,g,p,h,k,l,m){m=a.MainContext.instance.rendererContext._texture_scale_factor;e*=m;for(g*=m;p<k;p+=e)for(var q=h;q<l;q+=g){var s=Math.min(e,k-p),r=Math.min(g,l-q);this.drawImage(b,c,d,s/m,r/m,p,q,s,r)}};c.drawImage=function(b,
a,c,d,e,g,h,k,l,m){void 0===m&&(m=void 0);if(!this.contextLost){var q=b._bitmapData;if(q&&q.avaliable)if(void 0!==m)this.drawRepeatImage(b,a,c,d,e,g,h,k,l,m);else{if(this.filters)for(m=0;1>m;m++)if("glow"==this.filters[0].type){this.useGlow(b,a,c,d,e,g,h,k,l);return}this._drawImage(b,a,c,d,e,g,h,k,l)}}};c._drawImage=function(b,a,c,d,e,g,h,k,l){this.createWebGLTexture(b);var m=b._bitmapData.webGLTexture[this.glID];if(m!==this.currentBaseTexture||this.currentBatchSize>=this.size-1)this._drawWebGL(),
this.currentBaseTexture=m;var q=this.worldTransform,s=q.a,r=q.b,x=q.c,z=q.d,v=q.tx,y=q.ty;0==g&&0==h||q.append(1,0,0,1,g,h);1==d/k&&1==e/l||q.append(k/d,0,0,l/e,0,0);g=q.a;h=q.b;k=q.c;l=q.d;var m=q.tx,w=q.ty;q.a=s;q.b=r;q.c=x;q.d=z;q.tx=v;q.ty=y;s=b._sourceWidth;r=b._sourceHeight;b=d;q=e;a/=s;c/=r;d/=s;e/=r;s=this.vertices;r=4*this.currentBatchSize*this.vertSize;x=this.worldAlpha;s[r++]=m;s[r++]=w;s[r++]=a;s[r++]=c;s[r++]=x;s[r++]=g*b+m;s[r++]=h*b+w;s[r++]=d+a;s[r++]=c;s[r++]=x;s[r++]=g*b+k*q+m;s[r++]=
l*q+h*b+w;s[r++]=d+a;s[r++]=e+c;s[r++]=x;s[r++]=k*q+m;s[r++]=l*q+w;s[r++]=a;s[r++]=e+c;s[r++]=x;this.currentBatchSize++};c.useGlow=function(b,c,e,g,t,p,h,k,l){var m=this.filters[0],q=m.distance||0,s=m.angle||0,r=0,x=0;0!=q&&0!=s&&(r=Math.ceil(q*a.NumberUtils.cos(s)),x=Math.ceil(q*a.NumberUtils.sin(s)));var q=m.quality,s=m.blurX/10,z=m.blurY/10,v=k+2*s+20+Math.abs(r),y=l+2*z+20+Math.abs(x);d.initWebGLCanvas();var w=a.RenderTexture.WebGLRenderer,B=a.RenderTexture.WebGLCanvas,A=a.RenderTexture.create();
A._bitmapData||A.init();A.setSize(v,y);A._sourceWidth=v;A._sourceHeight=y;var C=a.RenderTexture.create();C._bitmapData||C.init();C.setSize(v,y);C._sourceWidth=v;C._sourceHeight=y;w.clearScreen();w.filterType="colorTransform";w.setGlobalColorTransform([0,0,0,0,m._red,0,0,0,0,m._green,0,0,0,0,m._blue,0,0,0,0,255*m.alpha]);w.setAlpha(1,a.BlendMode.NORMAL);w.setTransform(new a.Matrix(1,0,0,1,0,0));w.drawImage(b,c,e,g,t,s+10,z+10,k,l);w._drawWebGL();w.filterType=null;A.canvasContext.clearRect(0,0,v,y);
A.canvasContext.drawImage(B,0,0,v,y,0,0,v,y);w.clearScreen();w.setAlpha(1,a.BlendMode.NORMAL);w.setTransform(new a.Matrix(1,0,0,1,0,0));w.filterType="blur";w.setBlurData(s,0);a.Texture.deleteWebGLTexture(A);w.drawImage(A,s,z,v-2*s,y-2*z,s,z,v-2*s,y-2*z);w._drawWebGL();w.filterType=null;C.canvasContext.clearRect(0,0,v,y);C.canvasContext.drawImage(B,0,0,v,y,0,0,v,y);w.clearScreen();w.setAlpha(1,a.BlendMode.NORMAL);w.setTransform(new a.Matrix(1,0,0,1,0,0));w.filterType="blur";w.setBlurData(0,z);a.Texture.deleteWebGLTexture(C);
w.drawImage(C,0,z,v,y-2*z,0,z+5,v,y-2*z);w._drawWebGL();w.filterType=null;A.canvasContext.clearRect(0,0,v,y);A.canvasContext.drawImage(B,0,0,v,y,0,0,v,y);w.clearScreen();w.setAlpha(1,a.BlendMode.NORMAL);w.setTransform(new a.Matrix(1,0,0,1,0,0));a.Texture.deleteWebGLTexture(A);for(m=0;m<q;m++)w.drawImage(A,0,0,v,y,r,x,v,y);w._drawWebGL();w.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA);w.currentBlendMode=null;w.drawImage(b,c,e,g,t,p+s+10,h+z+15,k,l);w._drawWebGL();C.canvasContext.clearRect(0,
0,v,y);C.canvasContext.drawImage(B,0,0,v,y,0,0,v,y);a.Texture.deleteWebGLTexture(C);this._drawImage(C,0,0,v,y,p-s-10,h-z-15,v,y);this._drawWebGL();a.RenderTexture.release(A);a.RenderTexture.release(C)};c._drawWebGL=function(){if(0!=this.currentBatchSize&&!this.contextLost){var b=a.getTimer();this.start();var c=this.gl;c.bindTexture(c.TEXTURE_2D,this.currentBaseTexture);var d=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);c.bufferSubData(c.ARRAY_BUFFER,0,d);c.drawElements(c.TRIANGLES,
6*this.currentBatchSize,c.UNSIGNED_SHORT,0);this.currentBatchSize=0;this.renderCost+=a.getTimer()-b;a.Profiler.getInstance().onDrawImage()}};c.setTransform=function(b){var a=this.worldTransform;a.a=b.a;a.b=b.b;a.c=b.c;a.d=b.d;a.tx=b.tx;a.ty=b.ty};c.setAlpha=function(b,a){this.worldAlpha=b;this.setBlendMode(a)};c.createWebGLTexture=function(b){b=b._bitmapData;b.webGLTexture||(b.webGLTexture={});if(!b.webGLTexture[this.glID]){var a=this.gl;b.webGLTexture[this.glID]=a.createTexture();b.webGLTexture[this.glID].glContext=
a;a.bindTexture(a.TEXTURE_2D,b.webGLTexture[this.glID]);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.bindTexture(a.TEXTURE_2D,null)}};c.pushMask=function(b){this._drawWebGL();var a=this.gl;
0==this.maskList.length&&a.enable(a.SCISSOR_TEST);b=this.getScissorRect(b);this.maskList.push(b);this.scissor(b.x,b.y,b.width,b.height)};c.getScissorRect=function(b){var c=this.maskList[this.maskList.length-1],d,e,g;c?c.intersects(c)?(d=Math.max(b.x+this.worldTransform.tx,c.x),e=Math.max(b.y+this.worldTransform.ty,c.y),g=Math.min(b.x+this.worldTransform.tx+b.width,c.x+c.width)-d,b=Math.min(b.y+this.worldTransform.ty+b.height,c.y+c.height)-e):b=g=e=d=0:(d=b.x+this.worldTransform.tx,e=b.y+this.worldTransform.ty,
g=b.width,b=b.height);(c=this.maskDataFreeList.pop())?(c.x=d,c.y=e,c.width=g,c.height=b):c=new a.Rectangle(d,e,g,b);return c};c.popMask=function(){this._drawWebGL();var b=this.gl,a=this.maskList.pop();this.maskDataFreeList.push(a);a=this.maskList.length;0!=a?(a=this.maskList[a-1],(0<a.width||0<a.height)&&this.scissor(a.x,a.y,a.width,a.height)):b.disable(b.SCISSOR_TEST)};c.scissor=function(b,c,d,e){var g=this.gl;0>d&&(d=0);0>e&&(e=0);g.scissor(b,-c+a.MainContext.instance.stage.stageHeight-e,d,e)};
c.setGlobalColorTransform=function(b){if(this.colorTransformMatrix!=b&&(this._drawWebGL(),this.colorTransformMatrix=b)){b=b.concat();var a=this.shaderManager.colorTransformShader;a.uniforms.colorAdd.value.w=b.splice(19,1)[0]/255;a.uniforms.colorAdd.value.z=b.splice(14,1)[0]/255;a.uniforms.colorAdd.value.y=b.splice(9,1)[0]/255;a.uniforms.colorAdd.value.x=b.splice(4,1)[0]/255;a.uniforms.matrix.value=b}};c.setBlurData=function(b,a){var c=this.shaderManager.blurShader;c.uniforms.blur.value.x=b;c.uniforms.blur.value.y=
a};c.setGlobalFilters=function(b){this._drawWebGL();this.setFilterProperties(b)};c.setFilterProperties=function(b){if((this.filters=b)&&b.length)for(var a=0;1>a;a++){var c=b[a];this.filterType=c.type;switch(c.type){case "blur":this.setBlurData(c.blurX,c.blurY);break;case "colorTransform":this.setGlobalColorTransform(c._matrix)}}else this.filterType=null};c.setupFont=function(b,a){void 0===a&&(a=null);this.canvasContext.setupFont(b,a)};c.measureText=function(b){return this.canvasContext.measureText(b)};
c.renderGraphics=function(b){this._drawWebGL();var a=this.gl,c=this.shaderManager.primitiveShader;this.graphicsPoints?(this.graphicsPoints.length=0,this.graphicsIndices.length=0):(this.graphicsPoints=[],this.graphicsIndices=[],this.graphicsBuffer=a.createBuffer(),this.graphicsIndexBuffer=a.createBuffer());this.updateGraphics(b);this.shaderManager.activateShader(c);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.uniformMatrix3fv(c.translationMatrix,!1,this.worldTransform.toArray(!0));a.uniform2f(c.projectionVector,
this.projectionX,-this.projectionY);a.uniform2f(c.offsetVector,0,0);a.uniform3fv(c.tintColor,[1,1,1]);a.uniform1f(c.alpha,this.worldAlpha);a.bindBuffer(a.ARRAY_BUFFER,this.graphicsBuffer);a.vertexAttribPointer(c.aVertexPosition,2,a.FLOAT,!1,24,0);a.vertexAttribPointer(c.colorAttribute,4,a.FLOAT,!1,24,8);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer);a.drawElements(a.TRIANGLE_STRIP,this.graphicsIndices.length,a.UNSIGNED_SHORT,0);this.shaderManager.activateShader(this.shaderManager.defaultShader)};
c.updateGraphics=function(b){var a=this.gl;this.buildRectangle(b);a.bindBuffer(a.ARRAY_BUFFER,this.graphicsBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.graphicsPoints),a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.graphicsIndices),a.STATIC_DRAW)};c.buildRectangle=function(b){var a=b.x,c=b.y,d=b.w;b=b.h;var e=this.graphicsStyle.a,g=this.graphicsStyle.r*e,h=this.graphicsStyle.g*e,k=this.graphicsStyle.b*
e,l=this.graphicsPoints,m=this.graphicsIndices,q=l.length/6;l.push(a,c);l.push(g,h,k,e);l.push(a+d,c);l.push(g,h,k,e);l.push(a,c+b);l.push(g,h,k,e);l.push(a+d,c+b);l.push(g,h,k,e);m.push(q,q,q+1,q+2,q+3,q+3)};c.setGraphicsStyle=function(b,a,c,d){this.graphicsStyle.r=b;this.graphicsStyle.g=a;this.graphicsStyle.b=c;this.graphicsStyle.a=d};d.glID=0;d.isInit=!1;return d}(a.RendererContext);a.WebGLRenderer=g;g.prototype.__class__="egret.WebGLRenderer"})(egret||(egret={}));var egret_webgl_graphics;
(function(a){a.beginFill=function(a,d){void 0===d&&(d=1);this._pushCommand(new g(this._setStyle,this,[(a>>16)/255,((a&65280)>>8)/255,(a&255)/255,d]))};a.drawRect=function(a,d,c,b){this._pushCommand(new g(function(b){this.renderContext.renderGraphics(b)},this,[{x:a,y:d,w:c,h:b}]));this._checkRect(a,d,c,b)};a.drawCircle=function(a,d,c){};a.drawRoundRect=function(a,d,c,b,f,g){};a.drawEllipse=function(a,d,c,b){};a.lineStyle=function(a,d,c,b,f,g,u,t){};a.lineTo=function(a,d){};a.curveTo=function(a,d,c,
b){};a.cubicCurveTo=function(a,d,c,b,f,g){};a.moveTo=function(a,d){};a.clear=function(){this._maxY=this._maxX=this._minY=this._minX=this.commandQueue.length=0};a.endFill=function(){};a._pushCommand=function(a){this.commandQueue.push(a)};a._draw=function(a){var d=this.commandQueue.length;if(0!=d)for(this.renderContext=a,a=0;a<d;a++){var c=this.commandQueue[a];c.method.apply(c.thisObject,c.args)}};var g=function(){return function(a,d,c){this.method=a;this.thisObject=d;this.args=c}}();g.prototype.__class__=
"egret_webgl_graphics.Command";a._setStyle=function(a,d,c,b){this.renderContext.setGraphicsStyle(a,d,c,b)};a.init=function(){for(var e in a)egret.Graphics.prototype[e]=a[e]}})(egret_webgl_graphics||(egret_webgl_graphics={}));
(function(a){var g=function(){function e(){}e.compileProgram=function(d,c,b){b=e.compileFragmentShader(d,b);c=e.compileVertexShader(d,c);var f=d.createProgram();d.attachShader(f,c);d.attachShader(f,b);d.linkProgram(f);d.getProgramParameter(f,d.LINK_STATUS)||a.Logger.infoWithErrorId(1020);return f};e.compileFragmentShader=function(a,c){return e._compileShader(a,c,a.FRAGMENT_SHADER)};e.compileVertexShader=function(a,c){return e._compileShader(a,c,a.VERTEX_SHADER)};e._compileShader=function(d,c,b){b=
d.createShader(b);d.shaderSource(b,c);d.compileShader(b);return d.getShaderParameter(b,d.COMPILE_STATUS)?b:(a.Logger.info(d.getShaderInfoLog(b)),null)};e.checkCanUseWebGL=function(){if(void 0==e.canUseWebGL)try{var a=document.createElement("canvas");e.canUseWebGL=!!window.WebGLRenderingContext&&!(!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(c){e.canUseWebGL=!1}return e.canUseWebGL};return e}();a.WebGLUtils=g;g.prototype.__class__="egret.WebGLUtils"})(egret||(egret={}));
(function(a){var g=function(){function e(a){this.defaultVertexSrc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}";
this.program=this.gl=null;this.fragmentSrc="precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";this.uniforms=null;this.gl=a;this.init()}var d=e.prototype;d.init=function(){var c=this.gl,b=a.WebGLUtils.compileProgram(c,this.defaultVertexSrc,this.fragmentSrc);c.useProgram(b);this.uSampler=c.getUniformLocation(b,"uSampler");this.projectionVector=c.getUniformLocation(b,
"projectionVector");this.offsetVector=c.getUniformLocation(b,"offsetVector");this.dimensions=c.getUniformLocation(b,"dimensions");this.aVertexPosition=c.getAttribLocation(b,"aVertexPosition");this.aTextureCoord=c.getAttribLocation(b,"aTextureCoord");this.colorAttribute=c.getAttribLocation(b,"aColor");-1===this.colorAttribute&&(this.colorAttribute=2);this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var f in this.uniforms)this.uniforms[f].uniformLocation=c.getUniformLocation(b,
f);this.initUniforms();this.program=b};d.initUniforms=function(){if(this.uniforms){var a=this.gl,b,f;for(f in this.uniforms){b=this.uniforms[f];var d=b.type;"mat2"===d||"mat3"===d||"mat4"===d?(b.glMatrix=!0,b.glValueLength=1,"mat2"===d?b.glFunc=a.uniformMatrix2fv:"mat3"===d?b.glFunc=a.uniformMatrix3fv:"mat4"===d&&(b.glFunc=a.uniformMatrix4fv)):(b.glFunc=a["uniform"+d],b.glValueLength="2f"===d||"2i"===d?2:"3f"===d||"3i"===d?3:"4f"===d||"4i"===d?4:1)}}};d.syncUniforms=function(){if(this.uniforms){var a,
b=this.gl,f;for(f in this.uniforms)a=this.uniforms[f],1===a.glValueLength?!0===a.glMatrix?a.glFunc.call(b,a.uniformLocation,a.transpose,a.value):a.glFunc.call(b,a.uniformLocation,a.value):2===a.glValueLength?a.glFunc.call(b,a.uniformLocation,a.value.x,a.value.y):3===a.glValueLength?a.glFunc.call(b,a.uniformLocation,a.value.x,a.value.y,a.value.z):4===a.glValueLength&&a.glFunc.call(b,a.uniformLocation,a.value.x,a.value.y,a.value.z,a.value.w)}};return e}();a.EgretShader=g;g.prototype.__class__="egret.EgretShader"})(egret||
(egret={}));
(function(a){var g=function(a){function d(c){a.call(this,c);this.fragmentSrc="precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform float invert;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\nvec4 texColor = texture2D(uSampler, vTextureCoord);\nvec4 locColor = texColor * matrix;\nif(texColor.a != 0.0){\nlocColor += colorAdd;\n}\ngl_FragColor = vec4(locColor.rgb*locColor.a,locColor.a);\n}";this.uniforms={matrix:{type:"mat4",value:[1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},colorAdd:{type:"4f",value:{x:0,y:0,z:0,w:0}}};this.init()}__extends(d,a);return d}(a.EgretShader);a.ColorTransformShader=g;g.prototype.__class__="egret.ColorTransformShader"})(egret||(egret={}));
(function(a){var g=function(a){function d(c){a.call(this,c);this.fragmentSrc="precision mediump float;uniform vec2 blur;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){gl_FragColor = vec4(0.0);gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.028 * blur.x, -0.028 * blur.y))) * 0.0044299121055113265;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.024 * blur.x, -0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.020 * blur.x, -0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.016 * blur.x, -0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.012 * blur.x, -0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.008 * blur.x, -0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.004 * blur.x, -0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, vTextureCoord) * 0.159576912161;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.004 * blur.x,  0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.008 * blur.x,  0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.012 * blur.x,  0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.016 * blur.x,  0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.020 * blur.x,  0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.024 * blur.x,  0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.028 * blur.x,  0.028 * blur.y))) * 0.0044299121055113265;}";this.uniforms=
{blur:{type:"2f",value:{x:2,y:2}}};this.init()}__extends(d,a);return d}(a.EgretShader);a.BlurShader=g;g.prototype.__class__="egret.BlurShader"})(egret||(egret={}));
(function(a){var g=function(){function e(a){this.alpha=this.translationMatrix=this.attributes=this.colorAttribute=this.aVertexPosition=this.tintColor=this.offsetVector=this.projectionVector=this.program=this.gl=null;this.fragmentSrc="precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}";this.vertexSrc="attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}";
this.gl=a;this.init()}e.prototype.init=function(){var d=this.gl,c=a.WebGLUtils.compileProgram(d,this.vertexSrc,this.fragmentSrc);d.useProgram(c);this.projectionVector=d.getUniformLocation(c,"projectionVector");this.offsetVector=d.getUniformLocation(c,"offsetVector");this.tintColor=d.getUniformLocation(c,"tint");this.aVertexPosition=d.getAttribLocation(c,"aVertexPosition");this.colorAttribute=d.getAttribLocation(c,"aColor");this.attributes=[this.aVertexPosition,this.colorAttribute];this.translationMatrix=
d.getUniformLocation(c,"translationMatrix");this.alpha=d.getUniformLocation(c,"alpha");this.program=c};return e}();a.PrimitiveShader=g;g.prototype.__class__="egret.PrimitiveShader"})(egret||(egret={}));
(function(a){var g=function(){function e(a){this.gl=null;this.maxAttibs=10;this.attribState=[];this.tempAttribState=[];this.blurShader=this.colorTransformShader=this.primitiveShader=this.defaultShader=this.currentShader=null;for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.setContext(a)}var d=e.prototype;d.setContext=function(c){this.gl=c;this.primitiveShader=new a.PrimitiveShader(c);this.defaultShader=new a.EgretShader(c);this.colorTransformShader=new a.ColorTransformShader(c);this.blurShader=
new a.BlurShader(c);this.activateShader(this.defaultShader)};d.activateShader=function(a){this.currentShader!=a&&(this.gl.useProgram(a.program),this.setAttribs(a.attributes),this.currentShader=a)};d.setAttribs=function(a){var b,f;f=this.tempAttribState.length;for(b=0;b<f;b++)this.tempAttribState[b]=!1;f=a.length;for(b=0;b<f;b++)this.tempAttribState[a[b]]=!0;a=this.gl;f=this.attribState.length;for(b=0;b<f;b++)this.attribState[b]!==this.tempAttribState[b]&&(this.attribState[b]=this.tempAttribState[b],
this.tempAttribState[b]?a.enableVertexAttribArray(b):a.disableVertexAttribArray(b))};return e}();a.WebGLShaderManager=g;g.prototype.__class__="egret.WebGLShaderManager"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);a.Texture.createBitmapData=a.Texture._createBitmapDataForCanvasAndWebGl}__extends(d,e);var c=d.prototype;c.initVersion=function(b){this._versionCtr=b};c.proceed=function(b){function c(){if(4==e.readyState)if(e.status!=b._status&&(b._status=e.status,a.HTTPStatusEvent.dispatchHTTPStatusEvent(b,e.status)),400<=e.status||0==e.status)a.IOErrorEvent.dispatchIOErrorEvent(b);else{switch(b.dataFormat){case a.URLLoaderDataFormat.TEXT:b.data=e.responseText;
break;case a.URLLoaderDataFormat.VARIABLES:b.data=new a.URLVariables(e.responseText);break;case a.URLLoaderDataFormat.BINARY:b.data=e.response;break;default:b.data=e.responseText}a.__callAsync(a.Event.dispatchEvent,a.Event,b,a.Event.COMPLETE)}}if(b.dataFormat==a.URLLoaderDataFormat.TEXTURE)this.loadTexture(b);else if(b.dataFormat==a.URLLoaderDataFormat.SOUND)a.Html5Capatibility._audioType==a.AudioType.WEB_AUDIO?this.loadWebAudio(b):a.Html5Capatibility._audioType==a.AudioType.QQ_AUDIO?this.loadQQAudio(b):
this.loadSound(b);else{var d=b._request,e=this.getXHR();e.onreadystatechange=c;var g=this.getVirtualUrl(a.NetContext._getUrl(d));e.open(d.method,g,!0);this.setResponseType(e,b.dataFormat);d.method!=a.URLRequestMethod.GET&&d.data?d.data instanceof a.URLVariables?(e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(d.data.toString())):(e.setRequestHeader("Content-Type","multipart/form-data"),e.send(d.data)):e.send()}};c.loadSound=function(b){function c(e){a.clearTimeout(g.__timeoutId);
g.removeEventListener("canplaythrough",c,!1);g.removeEventListener("error",d,!1);e=new a.Html5Audio;e._setAudio(g);var u=new a.Sound;u._setAudio(e);b.data=u;a.__callAsync(a.Event.dispatchEvent,a.Event,b,a.Event.COMPLETE)}function d(e){a.clearTimeout(g.__timeoutId);g.removeEventListener("canplaythrough",c,!1);g.removeEventListener("error",d,!1);a.IOErrorEvent.dispatchIOErrorEvent(b)}var e=this.getVirtualUrl(b._request.url),g=new Audio(e);g.__timeoutId=a.setTimeout(c,this,100);g.addEventListener("canplaythrough",
c,!1);g.addEventListener("error",d,!1);g.load()};c.loadQQAudio=function(b){var c=a.Html5Capatibility._QQRootPath+this.getVirtualUrl(b._request.url);console.log("loadQQAudio");QZAppExternal.preloadSound(function(d){if(0==d.code){d=new a.QQAudio;d._setPath(c);var e=new a.Sound;e._setAudio(d);b.data=e;a.__callAsync(a.Event.dispatchEvent,a.Event,b,a.Event.COMPLETE)}else a.IOErrorEvent.dispatchIOErrorEvent(b)},{bid:-1,url:c,refresh:1})};c.loadWebAudio=function(b){var c=this.getVirtualUrl(b._request.url),
d=new XMLHttpRequest;d.open("GET",c,!0);d.responseType="arraybuffer";console.log("loadWebAudio");d.onload=function(){var c=new a.WebAudio;c._setArrayBuffer(d.response,function(){var f=new a.Sound;f._setAudio(c);b.data=f;a.__callAsync(a.Event.dispatchEvent,a.Event,b,a.Event.COMPLETE)})};d.send()};c.getXHR=function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")};c.setResponseType=function(b,c){switch(c){case a.URLLoaderDataFormat.TEXT:case a.URLLoaderDataFormat.VARIABLES:b.responseType=
a.URLLoaderDataFormat.TEXT;break;case a.URLLoaderDataFormat.BINARY:b.responseType="arraybuffer";break;default:b.responseType=c}};c.loadTexture=function(b){var c=this.getVirtualUrl(b._request.url);a.Texture.createBitmapData(c,function(c,f){if(0!=c)a.IOErrorEvent.dispatchIOErrorEvent(b);else{var d=new a.Texture;d._setBitmapData(f);b.data=d;a.__callAsync(a.Event.dispatchEvent,a.Event,b,a.Event.COMPLETE)}})};c.getVirtualUrl=function(b){return this._versionCtr?this._versionCtr.getVirtualUrl(b):b};return d}(a.NetContext);
a.HTML5NetContext=g;g.prototype.__class__="egret.HTML5NetContext"})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this._isTouchDown=!1;this.rootDiv=null;this.rootDiv=document.getElementById(a.StageDelegate.canvas_div_name);if(!this.rootDiv){var b=document.getElementById(a.StageDelegate.egret_root_div);this.rootDiv=a.Browser.getInstance().$new("div");this.rootDiv.id=a.StageDelegate.canvas_div_name;b.appendChild(this.rootDiv)}}__extends(d,e);var c=d.prototype;c.prevent=function(b){b.stopPropagation();!0==b.isScroll||a.HTMLInput.getInstance().isInputOn()||
b.preventDefault()};c.run=function(){var b=this;window.navigator.msPointerEnabled?(this.rootDiv.addEventListener("MSPointerDown",function(a){b._onTouchBegin(a);b.prevent(a)},!1),this.rootDiv.addEventListener("MSPointerMove",function(a){b._onTouchMove(a);b.prevent(a)},!1),this.rootDiv.addEventListener("MSPointerUp",function(a){b._onTouchEnd(a);b.prevent(a)},!1)):a.MainContext.deviceType==a.MainContext.DEVICE_MOBILE?this.addTouchListener():a.MainContext.deviceType==a.MainContext.DEVICE_PC&&(this.addTouchListener(),
this.addMouseListener());window.addEventListener("mousedown",function(a){b.inOutOfCanvas(a)?b.dispatchLeaveStageEvent():b._isTouchDown=!0});window.addEventListener("mouseup",function(a){b._isTouchDown&&(b.inOutOfCanvas(a)?b.dispatchLeaveStageEvent():b._onTouchEnd(a));b._isTouchDown=!1})};c.addMouseListener=function(){var b=this;this.rootDiv.addEventListener("mousedown",function(a){b._onTouchBegin(a)});this.rootDiv.addEventListener("mousemove",function(a){b._onTouchMove(a)});this.rootDiv.addEventListener("mouseup",
function(a){b._onTouchEnd(a)})};c.addTouchListener=function(){var b=this;this.rootDiv.addEventListener("touchstart",function(a){for(var c=a.changedTouches.length,d=0;d<c;d++)b._onTouchBegin(a.changedTouches[d]);b.prevent(a)},!1);this.rootDiv.addEventListener("touchmove",function(a){for(var c=a.changedTouches.length,d=0;d<c;d++)b._onTouchMove(a.changedTouches[d]);b.prevent(a)},!1);this.rootDiv.addEventListener("touchend",function(a){for(var c=a.changedTouches.length,d=0;d<c;d++)b._onTouchEnd(a.changedTouches[d]);
b.prevent(a)},!1);this.rootDiv.addEventListener("touchcancel",function(a){for(var c=a.changedTouches.length,d=0;d<c;d++)b._onTouchEnd(a.changedTouches[d]);b.prevent(a)},!1)};c.inOutOfCanvas=function(b){var c=this.getLocation(this.rootDiv,b);b=c.x;var c=c.y,d=a.MainContext.instance.stage;return 0>b||0>c||b>d.stageWidth||c>d.stageHeight?!0:!1};c.dispatchLeaveStageEvent=function(){this.touchingIdentifiers.length=0;a.MainContext.instance.stage.dispatchEventWith(a.Event.LEAVE_STAGE)};c._onTouchBegin=function(b){var a=
this.getLocation(this.rootDiv,b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchBegan(a.x,a.y,c)};c._onTouchMove=function(b){var a=this.getLocation(this.rootDiv,b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchMove(a.x,a.y,c)};c._onTouchEnd=function(b){var a=this.getLocation(this.rootDiv,b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchEnd(a.x,a.y,c)};c.getLocation=function(b,c){var d=document.documentElement,e=window,g,p;"function"===typeof b.getBoundingClientRect?
(p=b.getBoundingClientRect(),g=p.left,p=p.top):p=g=0;g+=e.pageXOffset-d.clientLeft;p+=e.pageYOffset-d.clientTop;null!=c.pageX?(d=c.pageX,e=c.pageY):(g-=document.body.scrollLeft,p-=document.body.scrollTop,d=c.clientX,e=c.clientY);var h=a.Point.identity;h.x=(d-g)/a.StageDelegate.getInstance().getScaleX();h.y=(e-p)/a.StageDelegate.getInstance().getScaleY();return h};return d}(a.TouchContext);a.HTML5TouchContext=g;g.prototype.__class__="egret.HTML5TouchContext"})(egret||(egret={}));
(function(a){var g=function(d){function c(){d.call(this);this._isNeedShow=!1;this.inputDiv=this.inputElement=null;this._gscaleY=this._gscaleX=0;this._isNeesHide=!1;this.textValue="";this._styleInfoes={};e.getInstance()}__extends(c,d);var b=c.prototype;b._initElement=function(b,c,d,e){var g=a.StageDelegate.getInstance().getScaleX(),h=a.StageDelegate.getInstance().getScaleY();this.inputDiv.style.left=b*g+"px";this.inputDiv.style.top=c*h+"px";this._gscaleX=g*d;this._gscaleY=h*e};b._show=function(b,a,
c,d){this._multiline=b;e.getInstance().isCurrentStageText(this)?this.inputElement.onblur=null:(this.inputElement=e.getInstance().getInputElement(this),this.inputDiv=e.getInstance()._inputDIV);this._isNeedShow=e.getInstance()._needShow=!0};b.onBlurHandler=function(){e.getInstance().clearInputElement();window.scrollTo(0,0)};b.executeShow=function(){this.inputElement.value=this._getText();null==this.inputElement.onblur&&(this.inputElement.onblur=this.onBlurHandler);this._resetStageText();0<this._textfield._TF_Props_._maxChars?
this.inputElement.setAttribute("maxlength",this._textfield._TF_Props_._maxChars):this.inputElement.removeAttribute("maxlength");this.inputElement.selectionStart=this.inputElement.value.length;this.inputElement.selectionEnd=this.inputElement.value.length;this.inputElement.focus()};b._hide=function(){this._isNeesHide=!0;0<=a.Browser.getInstance().getUserAgent().indexOf("ios")&&e.getInstance().disconnectStageText(this)};b._getText=function(){this.textValue||(this.textValue="");return this.textValue};
b._setText=function(b){this.textValue=b;this.resetText()};b.resetText=function(){this.inputElement&&(this.inputElement.value=this.textValue)};b._onInput=function(){this.textValue=this.inputElement.value;a.Event.dispatchEvent(this,"updateText",!1)};b._onClickHandler=function(b){this._isNeedShow&&(b.stopImmediatePropagation(),this._isNeedShow=!1,this.executeShow(),this.dispatchEvent(new a.Event("focus")))};b._onDisconnect=function(){this.inputElement=null;this.dispatchEvent(new a.Event("blur"))};b.setElementStyle=
function(b,a){this.inputElement&&this._styleInfoes[b]!=a&&(this.inputElement.style[b]=a)};b._removeInput=function(){this.inputElement&&e.getInstance().disconnectStageText(this)};b._resetStageText=function(){if(this.inputElement){var b=this._textfield,c=b._TF_Props_;this.setElementStyle("fontFamily",c._fontFamily);this.setElementStyle("fontStyle",c._italic?"italic":"normal");this.setElementStyle("fontWeight",c._bold?"bold":"normal");this.setElementStyle("textAlign",c._textAlign);this.setElementStyle("fontSize",
c._size*this._gscaleY+"px");this.setElementStyle("lineHeight",c._size*this._gscaleY+"px");this.setElementStyle("color",c._textColorString);this.setElementStyle("width",b._getSize(a.Rectangle.identity).width*this._gscaleX+"px");this.setElementStyle("height",b._getSize(a.Rectangle.identity).height*this._gscaleY+"px");this.setElementStyle("verticalAlign",c._verticalAlign)}};return c}(a.StageText);a.HTML5StageText=g;g.prototype.__class__="egret.HTML5StageText";var e=function(){function d(){this._needShow=
!1}var c=d.prototype;c.isInputOn=function(){return null!=this._stageText};c.isCurrentStageText=function(b){return this._stageText==b};c.initValue=function(b){b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.border="none";b.style.padding="0"};c._initStageDelegateDiv=function(){var b=this,c=a.Browser.getInstance().$("#StageDelegateDiv");c||(c=a.Browser.getInstance().$new("div"),c.id="StageDelegateDiv",document.getElementById(a.StageDelegate.egret_root_div).appendChild(c),b.initValue(c),
c.style.width="0px",c.style.height="0px",b._inputDIV=a.Browser.getInstance().$new("div"),b.initValue(b._inputDIV),b._inputDIV.style.width="0px",b._inputDIV.style.height="0px",b._inputDIV.style.left="0px",b._inputDIV.style.top="-100px",b._inputDIV.style[a.Browser.getInstance().getTrans("transformOrigin")]="0% 0% 0px",c.appendChild(b._inputDIV),document.getElementById(a.StageDelegate.canvas_div_name).addEventListener("click",function(c){b._needShow?(b._needShow=!1,a.MainContext.instance.stage._changeSizeDispatchFlag=
!1,b._stageText._onClickHandler(c),d.getInstance().show()):b._inputElement&&(b.clearInputElement(),b._inputElement.blur(),b._inputElement=null)}),b.initInputElement(!0),b.initInputElement(!1))};c.initInputElement=function(b){var a=this;b?(b=document.createElement("textarea"),b.style.resize="none",a._multiElement=b,b.id="egretTextarea"):(b=document.createElement("input"),a._simpleElement=b,b.id="egretInput");b.type="text";a._inputDIV.appendChild(b);b.setAttribute("tabindex","-1");b.style.width="1px";
b.style.height="12px";a.initValue(b);b.style.outline="thin";b.style.background="none";b.style.overflow="hidden";b.style.wordBreak="break-all";b.style.opacity=0;b.oninput=function(){a._stageText&&a._stageText._onInput()}};c.show=function(){var b=this._inputElement;a.__callAsync(function(){b.style.opacity=1},this)};c.disconnectStageText=function(b){if(null==this._stageText||this._stageText==b)this.clearInputElement(),this._inputElement&&this._inputElement.blur()};c.clearInputElement=function(){this._inputElement&&
(this._inputElement.value="",this._inputElement.onblur=null,this._inputElement.style.width="1px",this._inputElement.style.height="12px",this._inputElement.style.left="0px",this._inputElement.style.top="0px",this._inputElement.style.opacity=0,(this._simpleElement==this._inputElement?this._multiElement:this._simpleElement).style.display="block",this._inputDIV.style.left="0px",this._inputDIV.style.top="-100px");this._stageText&&(this._stageText._onDisconnect(),this._stageText=null);a.MainContext.instance.stage._changeSizeDispatchFlag=
!0};c.getInputElement=function(b){this.clearInputElement();this._stageText=b;this._inputElement=this._stageText._multiline?this._multiElement:this._simpleElement;(this._simpleElement==this._inputElement?this._multiElement:this._simpleElement).style.display="none";return this._inputElement};d.getInstance=function(){null==d._instance&&(d._instance=new a.HTMLInput);return d._instance};return d}();a.HTMLInput=e;e.prototype.__class__="egret.HTMLInput"})(egret||(egret={}));
egret.StageText.create=function(){egret.HTMLInput.getInstance()._initStageDelegateDiv();return new egret.HTML5StageText};
(function(a){var g=function(){function e(){this._loop=!1;this.paused=!0;this._listeners=[];this._onEndedCall=null;this._volume=1;this._startTime=0}var d=e.prototype;d._play=function(c){this.removeListeners();a.Html5Capatibility._System_OS!=a.SystemOSType.WPHONE&&(this._audio=this._audio.cloneNode());this.paused=!1;this._audio.autoplay=!0;this._audio.volume=this._volume;var b=this,d=function(a){b._audio.removeEventListener("ended",d);b._onEndedCall&&b._onEndedCall.call(null,a);b.clear()};this._audio.addEventListener("ended",
d);this.initStart();try{this._audio.currentTime=this._startTime}catch(e){}finally{this._audio.play()}};d.clear=function(){try{this._audio.pause()}catch(a){}finally{this.removeListeners(),this._loop&&!this.paused&&this._play()}};d._pause=function(){this.paused=!0;this._audio.pause()};d._load=function(){this._audio.load()};d._setAudio=function(a){this._audio=a};d.initStart=function(){for(var a=0;a<this._listeners.length;a++){var b=this._listeners[a];this._audio.addEventListener(b.type,b.listener,b.useCapture)}};
d._addEventListener=function(a,b,d){void 0===d&&(d=!1);"ended"==a?this._onEndedCall=b:(this._listeners.push({type:a,listener:b,useCapture:d}),this._audio&&this._audio.addEventListener(a,b,d))};d.removeListeners=function(){for(var a=0;a<this._listeners.length;a++){var b=this._listeners[a];this._audio&&this._audio.removeEventListener(b.type,b.listener,b.useCapture)}};d._removeEventListener=function(a,b,d){void 0===d&&(d=!1);if("ended"==a)this._onEndedCall=null;else for(var e=0;e<this._listeners.length;e++){var g=
this._listeners[e];if(g.listener==b&&g.useCapture==d&&g.type==a){this._listeners.splice(e,1);this._audio&&this._audio.removeEventListener(a,b,d);break}}};d._preload=function(c,b,d){void 0===b&&(b=null);void 0===d&&(d=null);a.callLater(b,d)};d._destroy=function(){};d._getVolume=function(){return this._volume};d._setVolume=function(a){this._volume=Math.max(0,Math.min(a,1));this._audio.volume=this._volume};d._setLoop=function(a){this._loop=a};d._getCurrentTime=function(){return this._audio.currentTime};
d._setCurrentTime=function(a){this._startTime=a};return e}();a.Html5Audio=g;g.prototype.__class__="egret.Html5Audio"})(egret||(egret={}));
(function(a){var g=function(){function e(){this.context=e.ctx;this.bufferSource=null;this.paused=!0;this._loop=!1;this._listeners=[];this._onEndedCall=null;this._volume=1;this._currentTime=this._startTime=0;this.gain=e.ctx.createGain?e.ctx.createGain():e.ctx.createGainNode()}var d=e.prototype;e.decodeAudios=function(){if(!(0>=e.decodeArr.length||e.isDecoding)){e.isDecoding=!0;var a=e.decodeArr.shift();e.ctx.decodeAudioData(a.buffer,function(b){a.self.audioBuffer=b;a.callback&&a.callback();e.isDecoding=
!1;e.decodeAudios()})}};d._play=function(a){var b=this;this.bufferSource&&(this.bufferSource.onended=null,this.removeListeners(),this.bufferSource=null);a=this.context;var d=this.gain,e=a.createBufferSource();this.bufferSource=e;this.addListeners();e.buffer=this.audioBuffer;e.connect(d);d.connect(a.destination);e.onended=function(a){b.clear();b._onEndedCall&&b._onEndedCall.call(null,a);b._loop&&!b.paused&&b._play()};this.paused=!1;this._startTime=Date.now();this.gain.gain.value=this._volume;e.start(0,
this._currentTime);this._currentTime=0};d.clear=function(){if(this.bufferSource){this.removeListeners();var a=this.bufferSource;a.stop?a.stop(0):a.noteOff(0);this.bufferSource.disconnect();this.bufferSource=null}};d.addListeners=function(){for(var a=0;a<this._listeners.length;a++){var b=this._listeners[a];this.bufferSource.addEventListener(b.type,b.listener,b.useCapture)}};d.removeListeners=function(){for(var a=0;a<this._listeners.length;a++){var b=this._listeners[a];this.bufferSource.removeEventListener(b.type,
b.listener,b.useCapture)}};d._pause=function(){this.paused=!0;this.clear()};d._addEventListener=function(a,b,d){void 0===d&&(d=!1);"ended"==a?this._onEndedCall=b:(this._listeners.push({type:a,listener:b,useCapture:d}),this.bufferSource&&this.bufferSource.addEventListener(a,b,d))};d._removeEventListener=function(a,b,d){void 0===d&&(d=!1);if("ended"==a)this._onEndedCall=null;else for(var e=0;e<this._listeners.length;e++){var g=this._listeners[e];if(g.listener==b&&g.useCapture==d&&g.type==a){this._listeners.splice(e,
1);this.bufferSource&&this.bufferSource.removeEventListener(a,b,d);break}}};d._load=function(){this._setArrayBuffer(this._arrayBuffer,null)};d._setArrayBuffer=function(a,b){this._arrayBuffer=a;e.decodeArr.push({buffer:a,callback:b,self:this});e.decodeAudios()};d._preload=function(c,b,d){void 0===b&&(b=null);void 0===d&&(d=null);a.callLater(b,d)};d._getVolume=function(){return this._volume};d._setVolume=function(a){this._volume=a;this.gain.gain.value=a};d._setLoop=function(a){this._loop=a};d._getCurrentTime=
function(){return this.bufferSource?(Date.now()-this._startTime)/1E3:0};d._setCurrentTime=function(a){this._currentTime=a};d._destroy=function(){};e.canUseWebAudio=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;e.ctx=e.canUseWebAudio?new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext):void 0;e.decodeArr=[];e.isDecoding=!1;return e}();a.WebAudio=g;g.prototype.__class__="egret.WebAudio"})(egret||(egret={}));
(function(a){var g=function(){function e(){this._loop=!1;this._currentTime=0}var d=e.prototype;d._play=function(c){this._type=c;c==a.Sound.EFFECT?QZAppExternal.playLocalSound(function(b){alert(JSON.stringify(b))},{bid:-1,url:this._path,loop:this._loop?-1:0}):QZAppExternal.playLocalBackSound({bid:-1,url:this._path,loop:this._loop?-1:0})};d._pause=function(){this._type==a.Sound.EFFECT?QZAppExternal.stopSound():QZAppExternal.stopBackSound()};d._addEventListener=function(a,b,d){};d._removeEventListener=
function(a,b,d){};d._load=function(){};d._preload=function(c,b,d){void 0===b&&(b=null);void 0===d&&(d=null);a.callLater(b,d)};d._setPath=function(a){this._path=a};d._getVolume=function(){return 1};d._setVolume=function(a){};d._setLoop=function(a){this._loop=a};d._getCurrentTime=function(){return 0};d._setCurrentTime=function(a){this._currentTime=a};d._destroy=function(){};return e}();a.QQAudio=g;g.prototype.__class__="egret.QQAudio"})(egret||(egret={}));
(function(a){var g=function(){function a(){}a.QQ_AUDIO=1;a.WEB_AUDIO=2;a.HTML5_AUDIO=3;return a}();a.AudioType=g;g.prototype.__class__="egret.AudioType";var e=function(){function a(){}a.WPHONE=1;a.IOS=2;a.ADNROID=3;return a}();a.SystemOSType=e;e.prototype.__class__="egret.SystemOSType";var d=function(c){function b(){c.call(this)}__extends(b,c);b._init=function(){var c=navigator.userAgent.toLowerCase();b.ua=c;b._canUseBlob=!1;b._audioType=g.HTML5_AUDIO;b._AudioClass=a.Html5Audio;if(0<=c.indexOf("windows phone"))b._System_OS=
e.WPHONE;else if(0<=c.indexOf("android"))b._System_OS=e.ADNROID,window.hasOwnProperty("QZAppExternal")&&0<=c.indexOf("qzone")&&(b._AudioClass=a.QQAudio,b._audioType=g.QQ_AUDIO,(c=document.getElementsByTagName("base"))&&0<c.length?b._QQRootPath=c[0].baseURI:(c=window.location.href.indexOf("?"),-1==c&&(c=window.location.href.length),c=window.location.href.substring(0,c),c=c.substring(0,c.lastIndexOf("/")),b._QQRootPath=c+"/"));else if(0<=c.indexOf("iphone")||0<=c.indexOf("ipad")||0<=c.indexOf("ipod"))b._System_OS=
e.IOS,7<=b.getIOSVersion()&&(b._canUseBlob=!0,b._AudioClass=a.WebAudio,b._audioType=g.WEB_AUDIO);window.URL||window.webkitURL||(b._canUseBlob=!1);window.AudioContext||window.webkitAudioContext||window.mozAudioContext||b._audioType!=g.WEB_AUDIO||(b._audioType=g.HTML5_AUDIO,b._AudioClass=a.Html5Audio)};b.getIOSVersion=function(){var a=b.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0];return parseInt(a.match(/\d(_\d)*/)[0])||0};b._canUseBlob=!1;b._audioType=0;b._QQRootPath="";b._System_OS=0;
b.ua="";return b}(a.HashObject);a.Html5Capatibility=d;d.prototype.__class__="egret.Html5Capatibility";d._init()})(egret||(egret={}));
(function(a){var g=function(e){function d(){e.call(this);this.localVersionDataPath="localVersion.manifest";this.localVersionData=null;this.changeVersionDataPath="version.manifest";this.changeVersionData=null;this.baseVersionDataPath="base.manifest";this.baseVersionData=null;this.localVersionCodePath="localCode.manifest";this.serverVersionCodePath="code.manifest";this._call=this._load=null}__extends(d,e);var c=d.prototype;c.fetchVersion=function(){this._load=new a.NativeResourceLoader;this._load.addEventListener(a.IOErrorEvent.IO_ERROR,
this.loadError,this);this._load.addEventListener(a.Event.COMPLETE,this.fileLoadComplete,this);this.initLocalVersionData()};c.initLocalVersionData=function(){var b=this.getData("appVersion.manifest",!0);if(b){if(1==b.debug){this.baseVersionData=null;if(b=this.getData(this.localVersionDataPath,!1))for(var a in b)this.deleteFile(a);this.deleteFile(this.localVersionDataPath);this.deleteFile(this.localVersionCodePath);this.loadOver();return}var c=this.getData("appVersion.manifest",!1);if(null==c||c.version!=
b.version){this.localVersionData=this.getData(this.localVersionDataPath,!0);null==this.localVersionData&&(this.localVersionData={});this.deleteFile(this.localVersionCodePath);this.save("appVersion.manifest",JSON.stringify(b));if(b=this.getData(this.localVersionCodePath,!1))for(a in b)b[a]!=this.localVersionData[a]&&this.deleteFile(a);else b={};for(a in this.localVersionData)b[a]!=this.localVersionData[a]&&this.deleteFile(a);this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData));
this.loadCodeVersion();return}}this.localVersionData=this.getLocalData(this.localVersionDataPath);null==this.localVersionData&&(this.localVersionData=this.getLocalData(this.baseVersionDataPath),null==this.localVersionData&&(this.localVersionData={}),this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData)));this.loadCodeVersion()};c.deleteFile=function(b){egret_native.deleteUpdateFile&&egret_native.deleteUpdateFile(b)};c.loadCodeVersion=function(){var b=1;this.newCode=1;var a=this.getLocalData(this.localVersionCodePath);
null!=a&&(b=a.code);a=this.getLocalData(this.serverVersionCodePath);null!=a&&(this.newCode=a.code);this.loadBaseVersion(b!=this.newCode)};c.loadBaseVersion=function(b){this.baseVersionData=this.getLocalData(this.baseVersionDataPath);this.changeVersionData=this.getLocalData(this.changeVersionDataPath);var a=this;null==a.baseVersionData||b?a.loadFile(a.baseVersionDataPath,function(){a.baseVersionData=a.getLocalData(a.baseVersionDataPath);a.loadBaseOver()}):a.loadBaseOver()};c.loadBaseOver=function(){this.save(this.localVersionCodePath,
JSON.stringify({code:this.newCode}));this.loadOver()};c.loadFile=function(b,a){void 0===a&&(a=null);this._call=a;this._load.load(b,1E3)};c.fileLoadComplete=function(b){this._call&&this._call()};c.loadError=function(b){this._load.removeEventListener(a.IOErrorEvent.IO_ERROR,this.loadError,this);this._load.removeEventListener(a.Event.COMPLETE,this.fileLoadComplete,this);this.dispatchEvent(b)};c.loadOver=function(){this._load.removeEventListener(a.IOErrorEvent.IO_ERROR,this.loadError,this);this._load.removeEventListener(a.Event.COMPLETE,
this.fileLoadComplete,this);this.dispatchEvent(new a.Event(a.Event.COMPLETE))};c.save=function(b,a){egret_native.writeFileSync?egret_native.writeFileSync(b,a):egret_native.saveRecord&&egret_native.saveRecord(b,a)};c.getData=function(b,a){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var c=a?egret_native.readResourceFileSync(b):egret_native.readUpdateFileSync(b);return null!=c?JSON.parse(c):null}return this.getLocalDataByOld(b)};c.getLocalData=function(b){if(egret_native.readUpdateFileSync&&
egret_native.readResourceFileSync){var a=egret_native.readUpdateFileSync(b);if(null!=a)return JSON.parse(a);a=egret_native.readResourceFileSync(b);return null!=a?JSON.parse(a):null}return this.getLocalDataByOld(b)};c.getLocalDataByOld=function(b){var a=null;egret_native.isRecordExists(b)?(b=egret_native.loadRecord(b),a=JSON.parse(b)):egret_native.isFileExists(b)&&(b=egret_native.readFileSync(b),a=JSON.parse(b));return a};c.getChangeList=function(){if(!this.baseVersionData)return[];var b={},a;for(a in this.changeVersionData)1==
this.changeVersionData[a].d?delete this.baseVersionData[a]:this.baseVersionData[a]=this.changeVersionData[a];for(a in this.baseVersionData)null!=this.localVersionData[a]&&this.compareVersion(this.localVersionData,this.baseVersionData,a)||(b[a]={url:a,size:this.baseVersionData[a].s});var c=[];for(a in b)c.push(b[a]);return c};c.compareVersion=function(b,a,c){return null==b[c]||null==a[c]?!1:b[c].v==a[c].v};c.checkIsNewVersion=function(b){return this.baseVersionData?null!=this.changeVersionData[b]?
this.compareVersion(this.changeVersionData,this.localVersionData,b):null!=this.baseVersionData[b]?this.compareVersion(this.baseVersionData,this.localVersionData,b):!0:!0};c.saveVersion=function(b){if(this.baseVersionData){var a=!1;null!=this.changeVersionData[b]?this.compareVersion(this.changeVersionData,this.localVersionData,b)||(a=!0,this.localVersionData[b]=this.changeVersionData[b]):null==this.baseVersionData[b]||this.compareVersion(this.baseVersionData,this.localVersionData,b)||(a=!0,this.localVersionData[b]=
this.baseVersionData[b]);a&&this.save(this.localVersionDataPath,JSON.stringify(this.localVersionData))}};c.getVirtualUrl=function(b){return b};return d}(a.EventDispatcher);a.NativeVersionController=g;g.prototype.__class__="egret.NativeVersionController"})(egret||(egret={}));var RES;
(function(a){var g=function(a){function d(c,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);a.call(this,c,b,d);this.itemsTotal=this.itemsLoaded=0;this.groupName="";this.resItem=null}__extends(d,a);d.dispatchResourceEvent=function(a,b,f,e,g,t){void 0===f&&(f="");void 0===e&&(e=null);void 0===g&&(g=0);void 0===t&&(t=0);var p=egret.Event._getPropertyData(d);p.groupName=f;p.resItem=e;p.itemsLoaded=g;p.itemsTotal=t;egret.Event._dispatchByTarget(d,a,b,p)};d.ITEM_LOAD_ERROR="itemLoadError";d.CONFIG_COMPLETE=
"configComplete";d.CONFIG_LOAD_ERROR="configLoadError";d.GROUP_PROGRESS="groupProgress";d.GROUP_COMPLETE="groupComplete";d.GROUP_LOAD_ERROR="groupLoadError";return d}(egret.Event);a.ResourceEvent=g;g.prototype.__class__="RES.ResourceEvent"})(RES||(RES={}));
(function(a){var g=function(){function a(c,b,d){this.groupName="";this.data=null;this._loaded=!1;this.name=c;this.url=b;this.type=d}var d=a.prototype;Object.defineProperty(d,"loaded",{get:function(){return this.data?this.data.loaded:this._loaded},set:function(a){this.data&&(this.data.loaded=a);this._loaded=a},enumerable:!0,configurable:!0});d.toString=function(){return'[ResourceItem name="'+this.name+'" url="'+this.url+'" type="'+this.type+'"]'};a.TYPE_XML="xml";a.TYPE_IMAGE="image";a.TYPE_BIN="bin";
a.TYPE_TEXT="text";a.TYPE_JSON="json";a.TYPE_SHEET="sheet";a.TYPE_FONT="font";a.TYPE_SOUND="sound";return a}();a.ResourceItem=g;g.prototype.__class__="RES.ResourceItem"})(RES||(RES={}));
(function(a){var g=function(){function e(){this.keyMap={};this.groupDic={};a.configInstance=this}var d=e.prototype;d.getGroupByName=function(a){var b=[];if(!this.groupDic[a])return b;a=this.groupDic[a];for(var d=a.length,e=0;e<d;e++)b.push(this.parseResourceItem(a[e]));return b};d.getRawGroupByName=function(a){return this.groupDic[a]?this.groupDic[a]:[]};d.createGroup=function(a,b,d){void 0===d&&(d=!1);if(!d&&this.groupDic[a]||!b||0==b.length)return!1;d=this.groupDic;for(var e=[],g=b.length,t=0;t<
g;t++){var p=b[t],h=d[p];if(h)for(var p=h.length,k=0;k<p;k++){var l=h[k];-1==e.indexOf(l)&&e.push(l)}else(l=this.keyMap[p])?-1==e.indexOf(l)&&e.push(l):egret.Logger.warningWithErrorId(2E3,p)}if(0==e.length)return!1;this.groupDic[a]=e;return!0};d.parseConfig=function(a,b){if(a){var d=a.resources;if(d)for(var e=d.length,g=0;g<e;g++){var t=d[g],p=t.url;p&&-1==p.indexOf("://")&&(t.url=b+p);this.addItemToKeyMap(t)}if(d=a.groups)for(e=d.length,g=0;g<e;g++){for(var p=d[g],h=[],k=p.keys.split(","),l=k.length,
m=0;m<l;m++)t=k[m].trim(),(t=this.keyMap[t])&&-1==h.indexOf(t)&&h.push(t);this.groupDic[p.name]=h}}};d.addSubkey=function(a,b){var d=this.keyMap[b];d&&!this.keyMap[a]&&(this.keyMap[a]=d)};d.addItemToKeyMap=function(a){this.keyMap[a.name]||(this.keyMap[a.name]=a);if(a.hasOwnProperty("subkeys")){var b=a.subkeys.split(",");a.subkeys=b;for(var d=b.length,e=0;e<d;e++){var g=b[e];null==this.keyMap[g]&&(this.keyMap[g]=a)}}};d.getName=function(a){return(a=this.keyMap[a])?a.name:""};d.getType=function(a){return(a=
this.keyMap[a])?a.type:""};d.getRawResourceItem=function(a){return this.keyMap[a]};d.getResourceItem=function(a){return(a=this.keyMap[a])?this.parseResourceItem(a):null};d.parseResourceItem=function(c){var b=new a.ResourceItem(c.name,c.url,c.type);b.data=c;return b};return e}();a.ResourceConfig=g;g.prototype.__class__="RES.ResourceConfig"})(RES||(RES={}));
(function(a){var g=function(e){function d(){e.call(this);this.thread=2;this.loadingCount=0;this.resInstance=this.callBack=null;this.groupTotalDic={};this.numLoadedDic={};this.itemListDic={};this.groupErrorDic={};this.retryTimesDic={};this.maxRetryTimes=3;this.failedList=[];this.priorityQueue={};this.lazyLoadList=[];this.analyzerDic={};this.queueIndex=0}__extends(d,e);var c=d.prototype;c.isGroupInLoading=function(b){return void 0!==this.itemListDic[b]};c.loadGroup=function(b,c,d){void 0===d&&(d=0);
if(!this.itemListDic[c]&&c)if(b&&0!=b.length){this.priorityQueue[d]?this.priorityQueue[d].push(c):this.priorityQueue[d]=[c];this.itemListDic[c]=b;d=b.length;for(var e=0;e<d;e++)b[e].groupName=c;this.groupTotalDic[c]=b.length;this.numLoadedDic[c]=0;this.next()}else egret.Logger.warningWithErrorId(2001,c),b=new a.ResourceEvent(a.ResourceEvent.GROUP_LOAD_ERROR),b.groupName=c,this.dispatchEvent(b)};c.loadItem=function(b){this.lazyLoadList.push(b);b.groupName="";this.next()};c.next=function(){for(;this.loadingCount<
this.thread;){var b=this.getOneResourceItem();if(!b)break;this.loadingCount++;if(b.loaded)this.onItemComplete(b);else{var c=this.analyzerDic[b.type];c||(c=this.analyzerDic[b.type]=egret.Injector.getInstance(a.AnalyzerBase,b.type));c.loadFile(b,this.onItemComplete,this)}}};c.getOneResourceItem=function(){if(0<this.failedList.length)return this.failedList.shift();var b=Number.NEGATIVE_INFINITY,a;for(a in this.priorityQueue)b=Math.max(b,a);b=this.priorityQueue[b];if(!b||0==b.length)return 0==this.lazyLoadList.length?
null:this.lazyLoadList.pop();a=b.length;for(var c,d=0;d<a;d++){this.queueIndex>=a&&(this.queueIndex=0);c=this.itemListDic[b[this.queueIndex]];if(0<c.length)break;this.queueIndex++}return 0==c.length?null:c.shift()};c.onItemComplete=function(b){this.loadingCount--;var c=b.groupName;if(!b.loaded){var d=this.retryTimesDic[b.name]||1;if(d>this.maxRetryTimes)delete this.retryTimesDic[b.name],a.ResourceEvent.dispatchResourceEvent(this.resInstance,a.ResourceEvent.ITEM_LOAD_ERROR,c,b);else{this.retryTimesDic[b.name]=
d+1;this.failedList.push(b);this.next();return}}if(c){this.numLoadedDic[c]++;var d=this.numLoadedDic[c],e=this.groupTotalDic[c];b.loaded||(this.groupErrorDic[c]=!0);a.ResourceEvent.dispatchResourceEvent(this.resInstance,a.ResourceEvent.GROUP_PROGRESS,c,b,d,e);d==e&&(b=this.groupErrorDic[c],this.removeGroupName(c),delete this.groupTotalDic[c],delete this.numLoadedDic[c],delete this.itemListDic[c],delete this.groupErrorDic[c],b?a.ResourceEvent.dispatchResourceEvent(this,a.ResourceEvent.GROUP_LOAD_ERROR,
c):a.ResourceEvent.dispatchResourceEvent(this,a.ResourceEvent.GROUP_COMPLETE,c))}else this.callBack.call(this.resInstance,b);this.next()};c.removeGroupName=function(b){for(var a in this.priorityQueue){for(var c=this.priorityQueue[a],d=c.length,e=0,g=!1,d=c.length,h=0;h<d;h++){if(c[h]==b){c.splice(e,1);g=!0;break}e++}if(g){0==c.length&&delete this.priorityQueue[a];break}}};return d}(egret.EventDispatcher);a.ResourceLoader=g;g.prototype.__class__="RES.ResourceLoader"})(RES||(RES={}));
(function(a){var g=function(e){function d(){e.call(this);this.resourceConfig=null;this.resourceConfig=a.configInstance}__extends(d,e);var c=d.prototype;c.addSubkey=function(b,a){this.resourceConfig.addSubkey(b,a)};c.loadFile=function(b,a,c){};c.getRes=function(b){};c.destroyRes=function(b){return!1};d.getStringPrefix=function(b){if(!b)return"";var a=b.indexOf(".");return-1!=a?b.substring(0,a):""};d.getStringTail=function(b){if(!b)return"";var a=b.indexOf(".");return-1!=a?b.substring(a+1):""};return d}(egret.HashObject);
a.AnalyzerBase=g;g.prototype.__class__="RES.AnalyzerBase"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this);this.fileDic={};this.resItemDic=[];this._dataFormat=egret.URLLoaderDataFormat.BINARY;this.recycler=new egret.Recycler}__extends(d,a);var c=d.prototype;c.loadFile=function(b,a,c){if(this.fileDic[b.name])a.call(c,b);else{var d=this.getLoader();this.resItemDic[d.hashCode]={item:b,func:a,thisObject:c};d.load(new egret.URLRequest(b.url))}};c.getLoader=function(){var b=this.recycler.pop();b||(b=new egret.URLLoader,b.addEventListener(egret.Event.COMPLETE,
this.onLoadFinish,this),b.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this));b.dataFormat=this._dataFormat;return b};c.onLoadFinish=function(b){var a=b.target,c=this.resItemDic[a.hashCode];delete this.resItemDic[a.hashCode];var d=c.item,e=c.func;d.loaded=b.type==egret.Event.COMPLETE;d.loaded&&this.analyzeData(d,a.data);this.recycler.push(a);e.call(c.thisObject,d)};c.analyzeData=function(b,a){var c=b.name;!this.fileDic[c]&&a&&(this.fileDic[c]=a)};c.getRes=function(b){return this.fileDic[b]};
c.hasRes=function(b){return null!=this.getRes(b)};c.destroyRes=function(b){return this.fileDic[b]?(this.onResourceDestroy(this.fileDic[b]),delete this.fileDic[b],!0):!1};c.onResourceDestroy=function(b){};return d}(a.AnalyzerBase);a.BinAnalyzer=g;g.prototype.__class__="RES.BinAnalyzer"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXTURE}__extends(d,a);var c=d.prototype;c.analyzeData=function(b,a){var c=b.name;!this.fileDic[c]&&a&&(this.fileDic[c]=a,(c=b.data)&&c.scale9grid&&(c=c.scale9grid.split(","),a.scale9Grid=new egret.Rectangle(parseInt(c[0]),parseInt(c[1]),parseInt(c[2]),parseInt(c[3]))))};c.onResourceDestroy=function(b){b.dispose()};return d}(a.BinAnalyzer);a.ImageAnalyzer=g;g.prototype.__class__="RES.ImageAnalyzer"})(RES||
(RES={}));(function(a){var g=function(a){function d(){a.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(d,a);d.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b)try{this.fileDic[d]=JSON.parse(b)}catch(e){egret.Logger.warningWithErrorId(1017,a.url,b)}};return d}(a.BinAnalyzer);a.JsonAnalyzer=g;g.prototype.__class__="RES.JsonAnalyzer"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(d,a);return d}(a.BinAnalyzer);a.TextAnalyzer=g;g.prototype.__class__="RES.TextAnalyzer"})(RES||(RES={}));
(function(a){var g=function(e){function d(){e.call(this);this.sheetMap={};this.textureMap={};this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(d,e);var c=d.prototype;c.getRes=function(b){var c=this.fileDic[b];c||(c=this.textureMap[b]);!c&&(c=a.AnalyzerBase.getStringPrefix(b),c=this.fileDic[c])&&(b=a.AnalyzerBase.getStringTail(b),c=c.getTexture(b));return c};c.onLoadFinish=function(b){var a=b.target,c=this.resItemDic[a.hashCode];delete this.resItemDic[a.hashCode];var d=c.item,e=c.func;d.loaded=
b.type==egret.Event.COMPLETE;if(d.loaded)if("string"==typeof a.data){if(d.loaded=!1,b=this.analyzeConfig(d,a.data)){a=d.url;d.url=b;this._dataFormat=egret.URLLoaderDataFormat.TEXTURE;this.loadFile(d,e,c.thisObject);this._dataFormat=egret.URLLoaderDataFormat.TEXT;d.url=a;return}}else this.analyzeBitmap(d,a.data);this.recycler.push(a);e.call(c.thisObject,d)};c.analyzeConfig=function(b,a){var c=b.name,d,e="";try{d=JSON.parse(a)}catch(g){egret.Logger.warningWithErrorId(1017,b.url,a)}d&&(this.sheetMap[c]=
d,e=this.getRelativePath(b.url,d.file));return e};c.analyzeBitmap=function(b,a){var c=b.name;if(!this.fileDic[c]&&a){var d=this.sheetMap[c];delete this.sheetMap[c];d=this.parseSpriteSheet(a,d,b.data&&b.data.subkeys?"":c);this.fileDic[c]=d}};c.getRelativePath=function(b,a){b=b.split("\\").join("/");var c=b.lastIndexOf("/");return b=-1!=c?b.substring(0,c+1)+a:a};c.parseSpriteSheet=function(b,a,c){a=a.frames;if(!a)return null;var d=new egret.SpriteSheet(b),e=this.textureMap,g;for(g in a){var h=a[g];
b=d.createTexture(g,h.x,h.y,h.w,h.h,h.offX,h.offY,h.sourceW,h.sourceH);h.scale9grid&&(h=h.scale9grid.split(","),b.scale9Grid=new egret.Rectangle(parseInt(h[0]),parseInt(h[1]),parseInt(h[2]),parseInt(h[3])));null==e[g]&&(e[g]=b,c&&this.addSubkey(g,c))}return d};c.destroyRes=function(b){var a=this.fileDic[b];if(a){delete this.fileDic[b];for(var c in a._textureMap)this.textureMap[c]&&delete this.textureMap[c];this.onResourceDestroy(a);return!0}return!1};c.onResourceDestroy=function(b){b.dispose()};return d}(a.BinAnalyzer);
a.SheetAnalyzer=g;g.prototype.__class__="RES.SheetAnalyzer"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this)}__extends(d,a);var c=d.prototype;c.analyzeConfig=function(b,a){var c=b.name,d,e="";try{d=JSON.parse(a)}catch(g){}d?e=this.getRelativePath(b.url,d.file):(d=a,e=this.getTexturePath(b.url,d));this.sheetMap[c]=d;return e};c.analyzeBitmap=function(b,a){var c=b.name;if(!this.fileDic[c]&&a){var d=this.sheetMap[c];delete this.sheetMap[c];d=new egret.BitmapFont(a,d);this.fileDic[c]=d}};c.getTexturePath=function(b,a){var c="",d=a.split("\n")[2],e=d.indexOf('file="');
-1!=e&&(d=d.substring(e+6),e=d.indexOf('"'),c=d.substring(0,e));b=b.split("\\").join("/");e=b.lastIndexOf("/");return b=-1!=e?b.substring(0,e+1)+c:c};c.onResourceDestroy=function(b){b.dispose()};return d}(a.SheetAnalyzer);a.FontAnalyzer=g;g.prototype.__class__="RES.FontAnalyzer"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this);this._dataFormat=egret.URLLoaderDataFormat.SOUND}__extends(d,a);d.prototype.analyzeData=function(a,b){var d=a.name;!this.fileDic[d]&&b&&(this.fileDic[d]=b,(d=a.data)&&d.soundType?b.preload(d.soundType):b.preload(egret.Sound.EFFECT))};return d}(a.BinAnalyzer);a.SoundAnalyzer=g;g.prototype.__class__="RES.SoundAnalyzer"})(RES||(RES={}));
(function(a){var g=function(a){function d(){a.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(d,a);d.prototype.analyzeData=function(a,b){var d=a.name;if(!this.fileDic[d]&&b)try{var e=egret.XML.parse(b);this.fileDic[d]=e}catch(g){}};return d}(a.BinAnalyzer);a.XMLAnalyzer=g;g.prototype.__class__="RES.XMLAnalyzer"})(RES||(RES={}));
(function(a){a.loadConfig=function(a,c,b){void 0===c&&(c="");void 0===b&&(b="json");e.loadConfig(a,c,b)};a.loadGroup=function(a,c){void 0===c&&(c=0);e.loadGroup(a,c)};a.isGroupLoaded=function(a){return e.isGroupLoaded(a)};a.getGroupByName=function(a){return e.getGroupByName(a)};a.createGroup=function(a,c,b){void 0===b&&(b=!1);return e.createGroup(a,c,b)};a.hasRes=function(a){return e.hasRes(a)};a.parseConfig=function(a,c){void 0===c&&(c="");e.parseConfig(a,c)};a.getRes=function(a){return e.getRes(a)};
a.getResAsync=function(a,c,b){e.getResAsync(a,c,b)};a.getResByUrl=function(a,c,b,f){void 0===f&&(f="");e.getResByUrl(a,c,b,f)};a.destroyRes=function(a,c){return e.destroyRes(a,c)};a.setMaxLoadingThread=function(a){e.setMaxLoadingThread(a)};a.setMaxRetryTimes=function(a){e.setMaxRetryTimes(a)};a.addEventListener=function(a,c,b,f,g){void 0===f&&(f=!1);void 0===g&&(g=0);e.addEventListener(a,c,b,f,g)};a.removeEventListener=function(a,c,b,f){void 0===f&&(f=!1);e.removeEventListener(a,c,b,f)};var g=function(d){function c(){d.call(this);
this.analyzerDic={};this.configItemList=[];this.configComplete=this.callLaterFlag=!1;this.loadedGroups=[];this.groupNameList=[];this.asyncDic={};this.init()}__extends(c,d);var b=c.prototype;b.getAnalyzerByType=function(b){var c=this.analyzerDic[b];c||(c=this.analyzerDic[b]=egret.Injector.getInstance(a.AnalyzerBase,b));return c};b.init=function(){egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_BIN)||egret.Injector.mapClass(a.AnalyzerBase,a.BinAnalyzer,a.ResourceItem.TYPE_BIN);egret.Injector.hasMapRule(a.AnalyzerBase,
a.ResourceItem.TYPE_IMAGE)||egret.Injector.mapClass(a.AnalyzerBase,a.ImageAnalyzer,a.ResourceItem.TYPE_IMAGE);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_TEXT)||egret.Injector.mapClass(a.AnalyzerBase,a.TextAnalyzer,a.ResourceItem.TYPE_TEXT);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_JSON)||egret.Injector.mapClass(a.AnalyzerBase,a.JsonAnalyzer,a.ResourceItem.TYPE_JSON);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_SHEET)||egret.Injector.mapClass(a.AnalyzerBase,
a.SheetAnalyzer,a.ResourceItem.TYPE_SHEET);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_FONT)||egret.Injector.mapClass(a.AnalyzerBase,a.FontAnalyzer,a.ResourceItem.TYPE_FONT);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_SOUND)||egret.Injector.mapClass(a.AnalyzerBase,a.SoundAnalyzer,a.ResourceItem.TYPE_SOUND);egret.Injector.hasMapRule(a.AnalyzerBase,a.ResourceItem.TYPE_XML)||egret.Injector.mapClass(a.AnalyzerBase,a.XMLAnalyzer,a.ResourceItem.TYPE_XML);this.resConfig=
new a.ResourceConfig;this.resLoader=new a.ResourceLoader;this.resLoader.callBack=this.onResourceItemComp;this.resLoader.resInstance=this;this.resLoader.addEventListener(a.ResourceEvent.GROUP_COMPLETE,this.onGroupComp,this);this.resLoader.addEventListener(a.ResourceEvent.GROUP_LOAD_ERROR,this.onGroupError,this)};b.loadConfig=function(a,b,c){void 0===c&&(c="json");this.configItemList.push({url:a,resourceRoot:b,type:c});this.callLaterFlag||(egret.callLater(this.startLoadConfig,this),this.callLaterFlag=
!0)};b.startLoadConfig=function(){this.callLaterFlag=!1;var b=this.configItemList;this.configItemList=[];this.loadingConfigList=b;for(var d=b.length,e=[],g=0;g<d;g++){var p=b[g],p=new a.ResourceItem(p.url,p.url,p.type);e.push(p)}this.resLoader.loadGroup(e,c.GROUP_CONFIG,Number.MAX_VALUE)};b.isGroupLoaded=function(a){return-1!=this.loadedGroups.indexOf(a)};b.getGroupByName=function(a){return this.resConfig.getGroupByName(a)};b.loadGroup=function(b,c){void 0===c&&(c=0);if(-1!=this.loadedGroups.indexOf(b))a.ResourceEvent.dispatchResourceEvent(this,
a.ResourceEvent.GROUP_COMPLETE,b);else if(!this.resLoader.isGroupInLoading(b))if(this.configComplete){var d=this.resConfig.getGroupByName(b);this.resLoader.loadGroup(d,b,c)}else this.groupNameList.push({name:b,priority:c})};b.createGroup=function(a,b,c){void 0===c&&(c=!1);if(c){var d=this.loadedGroups.indexOf(a);-1!=d&&this.loadedGroups.splice(d,1)}return this.resConfig.createGroup(a,b,c)};b.onGroupComp=function(b){if(b.groupName==c.GROUP_CONFIG){b=this.loadingConfigList.length;for(var d=0;d<b;d++){var e=
this.loadingConfigList[d],g=this.getAnalyzerByType(e.type),p=g.getRes(e.url);g.destroyRes(e.url);this.resConfig.parseConfig(p,e.resourceRoot)}this.configComplete=!0;this.loadingConfigList=null;a.ResourceEvent.dispatchResourceEvent(this,a.ResourceEvent.CONFIG_COMPLETE);this.loadDelayGroups()}else this.loadedGroups.push(b.groupName),this.dispatchEvent(b)};b.loadDelayGroups=function(){var a=this.groupNameList;this.groupNameList=[];for(var b=a.length,c=0;c<b;c++){var d=a[c];this.loadGroup(d.name,d.priority)}};
b.onGroupError=function(b){b.groupName==c.GROUP_CONFIG?(this.loadingConfigList=null,a.ResourceEvent.dispatchResourceEvent(this,a.ResourceEvent.CONFIG_LOAD_ERROR)):this.dispatchEvent(b)};b.hasRes=function(b){var c=this.resConfig.getType(b);return""==c&&(b=a.AnalyzerBase.getStringPrefix(b),c=this.resConfig.getType(b),""==c)?!1:!0};b.parseConfig=function(a,b){this.resConfig.parseConfig(a,b);this.configComplete||this.loadingConfigList||(this.configComplete=!0,this.loadDelayGroups())};b.getRes=function(b){var c=
this.resConfig.getType(b);return""==c&&(c=a.AnalyzerBase.getStringPrefix(b),c=this.resConfig.getType(c),""==c)?null:this.getAnalyzerByType(c).getRes(b)};b.getResAsync=function(b,c,d){var e=this.resConfig.getType(b),g=this.resConfig.getName(b);if(""==e&&(g=a.AnalyzerBase.getStringPrefix(b),e=this.resConfig.getType(g),""==e)){c.call(d,null);return}(e=this.getAnalyzerByType(e).getRes(b))?c.call(d,e):(b={key:b,compFunc:c,thisObject:d},this.asyncDic[g]?this.asyncDic[g].push(b):(this.asyncDic[g]=[b],g=
this.resConfig.getResourceItem(g),this.resLoader.loadItem(g)))};b.getResByUrl=function(b,c,d,e){void 0===e&&(e="");if(b){e||(e=this.getTypeByUrl(b));var g=this.getAnalyzerByType(e).getRes(b);g?c.call(d,g):(c={key:b,compFunc:c,thisObject:d},this.asyncDic[b]?this.asyncDic[b].push(c):(this.asyncDic[b]=[c],b=new a.ResourceItem(b,b,e),this.resLoader.loadItem(b)))}else c.call(d,null)};b.getTypeByUrl=function(b){(b=b.substr(b.lastIndexOf(".")+1))&&(b=b.toLowerCase());switch(b){case a.ResourceItem.TYPE_XML:case a.ResourceItem.TYPE_JSON:case a.ResourceItem.TYPE_SHEET:break;
case "png":case "jpg":case "gif":case "jpeg":case "bmp":b=a.ResourceItem.TYPE_IMAGE;break;case "fnt":b=a.ResourceItem.TYPE_FONT;break;case "txt":b=a.ResourceItem.TYPE_TEXT;break;case "mp3":case "ogg":case "mpeg":case "wav":case "m4a":case "mp4":case "aiff":case "wma":case "mid":b=a.ResourceItem.TYPE_SOUND;break;default:b=a.ResourceItem.TYPE_BIN}return b};b.onResourceItemComp=function(b){var a=this.asyncDic[b.name];delete this.asyncDic[b.name];b=this.getAnalyzerByType(b.type);for(var c=a.length,d=
0;d<c;d++){var e=a[d],g=b.getRes(e.key);e.compFunc.call(e.thisObject,g,e.key)}};b.destroyRes=function(b,a){void 0===a&&(a=!0);var c=this.resConfig.getRawGroupByName(b);if(c&&0<c.length){var d=this.loadedGroups.indexOf(b);-1!=d&&this.loadedGroups.splice(d,1);for(var e=c.length,g=0;g<e;g++)if(d=c[g],a||!this.isResInLoadedGroup(d.name)){d.loaded=!1;var k=this.getAnalyzerByType(d.type);k.destroyRes(d.name);this.removeLoadedGroupsByItemName(d.name)}return!0}c=this.resConfig.getType(b);if(""==c)return!1;
d=this.resConfig.getRawResourceItem(b);d.loaded=!1;k=this.getAnalyzerByType(c);c=k.destroyRes(b);this.removeLoadedGroupsByItemName(d.name);return c};b.removeLoadedGroupsByItemName=function(b){for(var a=this.loadedGroups,c=a.length,d=0;d<c;d++)for(var e=this.resConfig.getRawGroupByName(a[d]),g=e.length,k=0;k<g;k++)if(e[k].name==b){a.splice(d,1);d--;c=a.length;break}};b.isResInLoadedGroup=function(b){for(var a=this.loadedGroups,c=a.length,d=0;d<c;d++)for(var e=this.resConfig.getRawGroupByName(a[d]),
g=e.length,k=0;k<g;k++)if(e[k].name==b)return!0;return!1};b.setMaxLoadingThread=function(b){1>b&&(b=1);this.resLoader.thread=b};b.setMaxRetryTimes=function(b){b=Math.max(b,0);this.resLoader.maxRetryTimes=b};c.GROUP_CONFIG="RES__CONFIG";return c}(egret.EventDispatcher);g.prototype.__class__="RES.Resource";var e=new g})(RES||(RES={}));var com;
(function(a){(function(g){(function(e){var d=function(c){function b(){c.call(this);this.groupName="";this.hasEvent=!1;this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddStage,this);this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveStage,this);this.addEventListener(egret.Event.RESIZE,this.onResize,this)}__extends(b,c);var d=b.prototype;d.setScale=function(b){this.scaleY=this.scaleX=b};d.onAddStage=function(b){this.onResize(null)};d.onRemoveStage=function(b){this.removeChildren();
this.removePreLoadEvent();this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddStage,this);this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveStage,this);this.removeEventListener(egret.Event.RESIZE,this.onResize,this)};d.onResize=function(b){};d.preload=function(b){this.groupName=b;this.hasEvent||(this.hasEvent=!0,a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.COMPLETE,this.onPreLoadComplete.bind(this)),a.controller.EventManager.instance.addEventListener(this,
a.model.localData.event.LoaderEvent.ERROR,this.onPreLoadError.bind(this)),a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.PROGRESS,this.onPreLoadProgress.bind(this)));a.controller.ResManager.instance.loadGroup(this.groupName)};d.onPreLoadComplete=function(b){b.data==this.groupName&&this.removePreLoadEvent()};d.onPreLoadError=function(b){};d.onPreLoadProgress=function(b){};d.removePreLoadEvent=function(){a.controller.EventManager.instance.removeEventListener(this,
a.model.localData.event.LoaderEvent.COMPLETE);a.controller.EventManager.instance.removeEventListener(this,a.model.localData.event.LoaderEvent.ERROR);a.controller.EventManager.instance.removeEventListener(this,a.model.localData.event.LoaderEvent.PROGRESS)};return b}(egret.Sprite);e.BasicView=d;d.prototype.__class__="com.views.ui.BasicView"})(g.ui||(g.ui={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(a){var c=function(){return function(b,a){this.data=a;this.type=b}}();a.Event=c;c.prototype.__class__="com.model.localData.event.Event"})(a.event||(a.event={}))})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.haveDaoju=!0;var d=new egret.MovieClipDataFactory(DATAS,TEX);this.cloud=new egret.MovieClip(d.generateMovieClipData("WhiteCloud"));this.addChild(this.cloud);this.cloud.frameRate=8;this.cloud.play(-1);this.width=this.cloud.width;this.height=this.cloud.height;d=Math.floor(4*Math.random());this.daoju=a.utils.createBitmapByName(["peach","bear","apple","star"][d]);this.addChild(this.daoju);this.daoju.anchorX=
0.5;this.daoju.x=this.width/2;this.daoju.anchorY=1;this.daoju.y=this.height/2;this.isFlyCloud=!1;this.speedX=this.speedY=this.targetX=this.targetY=0}__extends(c,b);var d=c.prototype;d.setAnchorPosition=function(b){this.anchorPosition=b};d.startAnimation=function(){var b;if(void 0!=this.daoju&&this.haveDaoju){this.parent.touchChildren=!0;b=new egret.MovieClipDataFactory(DATAS,TEX);var c=new egret.MovieClip(b.generateMovieClipData("caidaoyun"));c.play(-1);this.addChild(c);c.anchorX=c.anchorY=0.5;c.x=
this.daoju.x;c.y=this.daoju.y;this.removeChild(this.daoju);this.haveDaoju=!1;COMBO++;a.model.DataCenter.instance.userVO.combo++;a.model.DataCenter.instance.userVO.rushCount++;b=new a.model.localData.ScoreVO;b.baseScore=100*COMBO;5<COMBO&&10>COMBO?(b.color=1,b.mutiply=2):15>=COMBO&&10<=COMBO?(b.color=2,b.mutiply=3):(b.color=0,b.mutiply=1);b.score=100*COMBO*b.mutiply;SCORE+=b.score;a.views.scene.gameScene.Combo.show(this.parent,this.x,this.y-350/960*a.utils.stageWidth(),b);25<COMBO&&(COMBO=25);1<COMBO?
a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_shoot",!1,!1):a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_combo",!1,!1);this.combo=new a.views.scene.gameScene.ComboBar;this.parent.addChild(this.combo);this.combo.anchorX=1;this.combo.x=a.utils.stageWidth();this.combo.y=a.utils.stageHeight()/2;this.combo.setCombo(a.model.DataCenter.instance.userVO.combo);egret.Tween.get(this).to({alpha:1},150).call(function(){void 0!=
c&&this.removeChild(c)},this);egret.Tween.get(this).to({alpha:1},300).call(function(){this.parent.removeChild(this.combo)},this)}};return c}(a.views.ui.BasicView);d.Cloud=c;c.prototype.__class__="com.views.scene.gameScene.Cloud"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(d){var c=function(b){function a(c){b.call(this);this.skins=[];this.enable=!0;for(var d=0,d=0;d<c.length;d++)this.skins.push(c[d]);this.bg=new egret.Bitmap;this.addChild(this.bg);this.setSkin(0);this.touchEnabled=!0;this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);this.addEventListener(egret.TouchEvent.TOUCH_ROLL_OUT,this.onTouchEnd,this)}__extends(a,b);
var c=a.prototype;c.setEnable=function(b){this.enable=b;this.setSkin(2)};c.onRemoveStage=function(a){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);this.removeEventListener(egret.TouchEvent.TOUCH_ROLL_OUT,this.onTouchEnd,this);b.prototype.onRemoveStage.call(this,a);this.skins=this.bg=null};c.onTouchBegin=function(b){this.enable?this.setSkin(1):b.preventDefault()};c.onTouchEnd=function(b){this.enable?
this.setSkin(0):b.preventDefault()};c.setSkin=function(b){this.bg.texture=RES.getRes(this.skins[b])};return a}(a.BasicView);d.Button=c;c.prototype.__class__="com.views.ui.button.Button"})(a.button||(a.button={}))})(a.ui||(a.ui={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(d){var c=function(b){function a(c,d){void 0===d&&(d=0.5);b.call(this);this.maskAlpha=0.5;this.maskAlpha=d;this.maskSprite=new egret.Shape;this.addChild(this.maskSprite);this.containerSprite=new egret.Sprite;this.addChild(this.containerSprite);this.bg=new egret.Bitmap(RES.getRes(c));this.containerSprite.addChild(this.bg);this.maskSprite.touchEnabled=!0}__extends(a,b);var c=a.prototype;c.setScale=function(b){this.containerSprite.scaleX=b;this.containerSprite.scaleY=
b};c.addItem=function(b){this.containerSprite.addChild(b)};c.removeItem=function(b){this.containerSprite.removeChild(b)};c.setMaskAlpha=function(b){this.maskSprite.graphics.beginFill(0,b);this.maskSprite.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight);this.maskSprite.graphics.endFill()};c.onAddStage=function(a){b.prototype.onAddStage.call(this,a);this.setMaskAlpha(this.maskAlpha)};c.onRemoveStage=function(a){b.prototype.onRemoveStage.call(this,a);this.bg=this.maskSprite=null};
return a}(a.BasicView);d.MaskWindow=c;c.prototype.__class__="com.views.ui.window.MaskWindow"})(a.window||(a.window={}))})(a.ui||(a.ui={}))})(a.views||(a.views={}))})(com||(com={}));
var weixin=function(a){function g(){a.call(this);this.huode=new egret.Sprite;this.wx_shibai=new egret.Sprite;this.w=com.model.DataCenter.instance.configVO.appWidth;this.h=com.model.DataCenter.instance.configVO.appHeight;this.show=!1;this.wxloading=new weixinloading;this.timer=new egret.Timer(1500);this.zj_view=new egret.Sprite;this.zjb=!1;this.nametxt=new egret.TextField;this.phonetxt=new egret.TextField;this.dizhitxt=new egret.TextField;this.wx_qd=new egret.Bitmap;var d=com.model.DataCenter.instance.configVO.whRate,
c=this.h/800,b=this.w/480,f=new egret.Shape;f.graphics.beginFill(0,0);f.graphics.drawRect(0,0,this.w,this.h);f.graphics.endFill();f.touchEnabled=!0;this.addChild(f);var e=new egret.Shape;e.graphics.beginFill(0,0.5);e.graphics.drawRect(0,0,this.w,this.h);e.graphics.endFill();f=new egret.Bitmap;f.scaleX=f.scaleY=d;f.texture=RES.getRes("coujiangbg");f.x=(this.w-f.width*d)/2;f.y=90;var g=new egret.Bitmap;g.texture=RES.getRes("fangqi");g.scaleX=g.scaleY=d;g.x=com.model.DataCenter.instance.configVO.appWidth/
2-10*d-g.width*d;g.touchEnabled=!0;g.name="fangqi";var t=new egret.Bitmap;t.texture=RES.getRes("choujiang");t.scaleX=t.scaleY=d;t.x=com.model.DataCenter.instance.configVO.appWidth/2+10*d;t.name="choujiang";t.touchEnabled=!0;g.y=t.y=f.y+450*d;this.huode.addChild(e);this.huode.addChild(f);this.huode.addChild(t);this.huode.addChild(g);e=new egret.Bitmap;e.texture=RES.getRes("sp");e.name="sp";e.touchEnabled=!0;e.width*=com.model.DataCenter.instance.configVO.dpiRate;e.height*=com.model.DataCenter.instance.configVO.dpiRate;
e.y=f.y+f.height*d+20*d;e.x=(this.w-e.width)/2;this.huode.addChild(e);e.visible=!1;d=new egret.Bitmap;d.texture=RES.getRes("wx_shibai");d.touchEnabled=!0;d.name="wx_shibai";d.width=this.w;d.scaleY=c;f=new egret.Bitmap;f.texture=RES.getRes("wx_jxyx");f.scaleX=f.scaleY=c;f.x=(this.w-f.width*c)/2;f.y=480*c;this.wx_shibai.addChild(d);this.wx_shibai.addChild(f);f.name="jixu";f.touchEnabled=!0;this.zj_view=new egret.Sprite;d=new egret.Bitmap;d.texture=RES.getRes("wx_zhongjiang");d.width=this.w;d.scaleY=
c;d.name="wx_zhongjiang";d.touchEnabled=!0;this.zj_view.addChild(d);this.wx_qd.texture=RES.getRes("wx_qd");this.wx_qd.scaleX=this.wx_qd.scaleY=c;this.wx_qd.touchEnabled=!0;this.wx_qd.name="wx_qd";this.wx_qd.x=(this.w-this.wx_qd.width*c)/2;this.wx_qd.y=500*c;this.zj_view.addChild(this.wx_qd);this.nametxt.size=Math.floor(24*c);this.nametxt.width=265;this.nametxt.x=d.x+144*b;this.nametxt.y=286*c;this.nametxt.height=this.nametxt.size;this.nametxt.type=egret.TextFieldType.INPUT;this.phonetxt.size=Math.floor(24*
c);this.phonetxt.width=265;this.phonetxt.x=d.x+144*b;this.phonetxt.y=346*c;this.phonetxt.height=this.phonetxt.size;this.phonetxt.type=egret.TextFieldType.INPUT;this.dizhitxt.size=Math.floor(24*c);this.dizhitxt.width=265;this.dizhitxt.x=d.x+144*b;this.dizhitxt.y=400*c;this.dizhitxt.height=80;this.dizhitxt.type=egret.TextFieldType.INPUT;this.dizhitxt.multiline=!0;this.nametxt.textColor=this.phonetxt.textColor=this.dizhitxt.textColor=9803157;this.zj_view.addChild(this.nametxt);this.zj_view.addChild(this.phonetxt);
this.zj_view.addChild(this.dizhitxt);this.timer.addEventListener(egret.TimerEvent.TIMER,this.ontimer,this);this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(g,a);var e=g.prototype;e.onAddToStage=function(a){};e.IS=function(){return-1==window.location.href.indexOf("qq.com")?!1:"MicroMessenger"==navigator.userAgent.toString().match(/MicroMessenger/i)?(console.log("is weixin "),!0):!1};e.open=function(a){this.zjb=!1;var c=this;this.callback=a;this.addChild(this.wxloading);
this.wxloading.start();getcode(function(b){var a=new egret.URLLoader;a.addEventListener(egret.Event.COMPLETE,c.onSetScore,c);var d=new egret.URLRequest(com.model.DataCenter.instance.configVO.apiHost+"/api/v1/wmdax/game/"+com.model.DataCenter.instance.configVO.apiVersion+"/played");d.method=egret.URLRequestMethod.POST;d.data=new egret.URLVariables("code="+b+"&score="+com.model.DataCenter.instance.userVO.score);a.load(d)});this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)};
e.onSetScore=function(a){a=a.target.data.toString();console.log("onSetScore:"+a);"true}"==a.substr(a.length-5,5)?this.addChild(this.huode):(this.show=!0,this.removeChild(this.wxloading),this.wxloading.stop(),this.callback())};e.choujiang=function(){var a=this;this.addChild(this.wxloading);this.wxloading.start();this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);getcode(function(c){var b=new egret.URLLoader;b.addEventListener(egret.Event.COMPLETE,a.lottery_id,a);var f=
new egret.URLRequest(com.model.DataCenter.instance.configVO.apiHost+"/api/v1/wmdax/lottery/create");f.method=egret.URLRequestMethod.POST;f.data=new egret.URLVariables("code="+c);b.load(f)})};e.lottery_id=function(a){a=JSON.parse(a.target.data);console.log("get lottery_id end:","ret:"+a.ret,"lottery_id:"+a.lottery_id);0!=a.ret?(this.removeChild(this.wxloading),this.wxloading.stop(),this.removeChild(this.huode),this.meizhongjiang()):(this.id=a.lottery_id,this.timer.start(),this.addChild(this.wxloading),
this.wxloading.start())};e.meizhongjiang=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.show=!0;this.addChild(this.wx_shibai)};e.zhongjiang=function(){this.zjb=!0;this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.addChild(this.zj_view)};e.ontimer=function(a){var c=this;this.timer.stop();getcode(function(b){var a=new egret.URLLoader;a.addEventListener(egret.Event.COMPLETE,c.chaxun_end,c);var d=new egret.URLRequest(com.model.DataCenter.instance.configVO.apiHost+
"/api/v1/wmdax/lottery/query");d.method=egret.URLRequestMethod.POST;d.data=new egret.URLVariables("code="+b+"&lottery_id="+c.id);a.load(d)})};e.chaxun_end=function(a){a=JSON.parse(a.target.data);console.log("ret:"+a.ret,"cx_status:"+a.status);a.status?(a=a.status,1==a||7==a?this.timer.start():6==a?(this.zhongjiang(),this.wxloading.stop(),this.removeChild(this.wxloading)):(this.wxloading.stop(),this.removeChild(this.wxloading),this.meizhongjiang())):(this.wxloading.stop(),this.removeChild(this.wxloading),
this.meizhongjiang())};e.tijiao=function(){var a=this.nametxt.text,c=this.phonetxt.text,b=this.dizhitxt.text;if(""==a||null==a||void 0==a)alert("\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a");else if(""==c||""==c||void 0==c)alert("\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a");else if(this.checkMobile(c)){this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);var f=this;this.addChild(this.wxloading);this.wxloading.start();getcode(function(e){var g=new egret.URLLoader;g.addEventListener(egret.Event.COMPLETE,
f.tijiao_end,f);var t=new egret.URLRequest(com.model.DataCenter.instance.configVO.apiHost+"/api/v1/wmdax/lottery/submit");t.method=egret.URLRequestMethod.POST;t.data=new egret.URLVariables("code="+e+"&name="+a+"&cellphone="+c+"&address="+b);g.load(t)})}else alert("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e")};e.tijiao_end=function(a){this.show=!0;this.removeChild(this.zj_view);this.parent.removeChild(this);this.callback()};e.checkMobile=function(a){return/^1\d{10}$/.test(a)?!0:!1};e.onTouchBegin=
function(a){var c=com.model.DataCenter.instance.configVO.whRate;console.log("ttt");if(this.zjb&&a.stageX>=this.wx_qd.x&&a.stageX<=this.wx_qd.x+this.wx_qd.width&&a.stageY>=this.wx_qd.y&&a.stageY<=this.wx_qd.y+this.wx_qd.height)this.tijiao();else switch(console.log("test:"+a.target.name),a.target.name){case "wx_qd":this.tijiao();break;case "wx_zhongjiang":a.stageX>=com.model.DataCenter.instance.configVO.appWidth-100*c&&a.stageY<=100*c&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,
this),this.callback(),this.removeChild(this.zj_view),this.parent.removeChild(this));break;case "jixu":this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.callback();this.removeChild(this.wx_shibai);this.parent.removeChild(this);break;case "wx_shibai":a.stageX>=com.model.DataCenter.instance.configVO.appWidth-100*c&&a.stageY<=100*c&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.callback(),this.removeChild(this.wx_shibai),this.parent.removeChild(this));
break;case "choujiang":this.choujiang();break;case "fangqi":this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.callback();this.parent.removeChild(this);break;case "sp":playvideo()}};return g}(egret.Sprite);weixin.prototype.__class__="weixin";
(function(a){(function(a){(function(a){(function(a){var c=function(){return function(a,c,d){this.target=a;this.type=c;this.func=d}}();a.EventVO=c;c.prototype.__class__="com.model.localData.event.EventVO"})(a.event||(a.event={}))})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){var e=function(){function d(){this.eventArr=[]}var c=d.prototype;c.addEventListener=function(b,c,d){this.eventArr.push(new a.model.localData.event.EventVO(b,c,d))};c.removeEventListener=function(a,c){for(var d=0,d=0;d<this.eventArr.length;d++)this.eventArr[d].target==a&&this.eventArr[d].type==c&&(this.eventArr.splice(d,1),d--)};c.dispatchEvent=function(a){for(var c=0,c=0;c<this.eventArr.length;c++)this.eventArr[c].type==a.type&&this.eventArr[c].func(a)};Object.defineProperty(d,
"instance",{get:function(){null==this._instance&&(this._instance=new d);return this._instance},enumerable:!0,configurable:!0});return d}();g.EventManager=e;e.prototype.__class__="com.controller.EventManager"})(a.controller||(a.controller={}))})(com||(com={}));
(function(a){(function(a){(function(a){var d=function(){return function(){this.appHeight=this.appWidth=0;this.frameRate=30;this.dpiRate=this.allWHRate=this.whRate=1;this.isAndroidSound=this.canShare=this.canTouch=this.isPC=!1;this.userID="";this.apiHost="http://cjjmd.happymango.cn";this.apiVersion=7;this.userID=""+(new Date).getTime()+""+Math.random()}}();a.ConfigVO=d;d.prototype.__class__="com.model.localData.ConfigVO"})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(a){(function(a){var d=function(){return function(){this.cookie="";this.topScore=this.score=0;this.isFirst=!0;this.rushCount=this.rushLevel=0;this.rushTotal=5;this.currentTime=0;this.totalTime=60;this.combo=this.comboCount=0}}();a.UserVO=d;d.prototype.__class__="com.model.localData.UserVO"})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(a){function c(d,f){a.call(this,d,f)}__extends(c,a);c.CONFIG_COMPLETE="LoaderEvent_CONFIG_COMPLETE";c.COMPLETE="LoaderEvent_COMPLETE";c.ERROR="LoaderEvent_ERROR";c.PROGRESS="LoaderEvent_PROGRESS";return c}(a.model.localData.event.Event);d.LoaderEvent=c;c.prototype.__class__="com.model.localData.event.LoaderEvent"})(e.event||(e.event={}))})(g.localData||(g.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){var e=function(){function d(){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this);RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this)}var c=d.prototype;c.init=function(){RES.loadConfig("resource/resource.json?r="+Math.random(),"resource/")};
c.loadGroup=function(a){RES.loadGroup(a)};c.loadRes=function(a,c,d){RES.getResByUrl(a,c,d)};c.onConfigComplete=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.LoaderEvent(a.model.localData.event.LoaderEvent.CONFIG_COMPLETE,null))};c.onResourceLoadComplete=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.LoaderEvent(a.model.localData.event.LoaderEvent.COMPLETE,""+b.groupName))};c.onResourceLoadError=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.LoaderEvent(a.model.localData.event.LoaderEvent.ERROR,
""+b.groupName))};c.onResourceProgress=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.LoaderEvent(a.model.localData.event.LoaderEvent.PROGRESS,{name:b.groupName,loaded:b.itemsLoaded,total:b.itemsTotal}))};c.onLoadRes=function(){};Object.defineProperty(d,"instance",{get:function(){null==this._instance&&(this._instance=new d);return this._instance},enumerable:!0,configurable:!0});return d}();g.ResManager=e;e.prototype.__class__="com.controller.ResManager"})(a.controller||
(a.controller={}))})(com||(com={}));(function(a){(function(g){var e=function(){function d(){this.userVO=new a.model.localData.UserVO;this.configVO=new a.model.localData.ConfigVO}Object.defineProperty(d,"instance",{get:function(){null==this._instance&&(this._instance=new d);return this._instance},enumerable:!0,configurable:!0});return d}();g.DataCenter=e;e.prototype.__class__="com.model.DataCenter"})(a.model||(a.model={}))})(com||(com={}));var SCORE=0;
(function(a){(function(a){(function(a){(function(a){(function(a){var b=function(a){function b(){a.call(this);this.bg=new egret.Bitmap(RES.getRes("score_bg"));this.addChild(this.bg);this.bg.width*=2/3;this.width=this.bg.width;this.height=this.bg.height;this.num=new egret.BitmapText;this.num.font=RES.getRes("font_fnt");this.num.text=""+SCORE;this.addChild(this.num);this.num.anchorX=this.num.anchorY=0.5;this.num.x=this.width/2;this.num.y=this.height/2}__extends(b,a);b.prototype.upDateScore=function(){this.num.text=
""+SCORE;this.num.x=this.width/2;this.num.y=this.height/2};return b}(egret.DisplayObjectContainer);a.Score=b;b.prototype.__class__="com.views.scene.gameScene.top.Score"})(a.top||(a.top={}))})(a.gameScene||(a.gameScene={}))})(a.scene||(a.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(d){var c=function(a){function c(d,f){a.call(this);this.bg=new egret.Bitmap(RES.getRes(d));this.addChild(this.bg);this.loading=new egret.Bitmap(RES.getRes(f));this.addChild(this.loading);this.loading.x=(this.bg.width-this.loading.width)/2;this.loading.y=(this.bg.height-this.loading.height)/2;this.txt=new egret.TextField;this.txt.width=this.loading.width;this.addChild(this.txt);this.txt.y=this.loading.y+this.loading.height;this.txt.textAlign=egret.HorizontalAlign.CENTER;
this.txt.stroke=1;this.txt.strokeColor=0;this.maskShape=new egret.Shape;this.maskShape.graphics.beginFill(0,0.01);this.maskShape.graphics.drawRect(0,0,this.loading.width,this.loading.height);this.maskShape.graphics.endFill();this.addChild(this.maskShape)}__extends(c,a);var d=c.prototype;d.setLoading=function(a){this.txt.text="LOADING..."+Math.floor(a)+"%";this.maskShape.width=a/100*this.loading.width;this.loading.mask=this.maskShape.getBounds()};d.setPercent=function(a){this.txt.text=""+Math.floor(a)+
"%";this.maskShape.width=a/100*this.loading.width;this.loading.mask=this.maskShape.getBounds()};d.setCurrent=function(a,b){this.txt.text=""+Math.floor(a/b*100)+"%";this.maskShape.width=a/b*this.loading.width;this.loading.mask=this.maskShape.getBounds()};d.setCurrentNoTxt=function(a,b){this.maskShape.width=a/b*this.loading.width;this.loading.mask=this.maskShape.getBounds()};d.onRemoveStage=function(c){a.prototype.onRemoveStage.call(this,c);this.maskShape=this.txt=this.loading=this.bg=null};return c}(a.BasicView);
d.Loading=c;c.prototype.__class__="com.views.ui.loading.Loading"})(a.loading||(a.loading={}))})(a.ui||(a.ui={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){var e=function(a){function c(b,c){a.call(this,b,c)}__extends(c,a);c.END="GameSceneEvent_END";c.SHARE="GameSceneEvent_SHARE";c.AGAIN="GameSceneEvent_AGAIN";c.BONUS_END="GameSceneEvent_BONUS_END";c.HELP_END="GameSceneEvent_HELP_END";c.SCORE="GameSceneEvent_SCORE";c.SCORE_TO_RUSH="GameSceneEvent_SCORE_TO_RUSH";c.TIME_OVER_END="GameSceneEvent_TIME_OVER_END";c.BONUS_DIDI="GameSceneEvent_BONUS_DIDI";c.BONUS_DIDI_END="GameSceneEvent_BONUS_DIDI_END";return c}(a.model.localData.event.Event);
g.GameSceneEvent=e;e.prototype.__class__="com.events.GameSceneEvent"})(a.events||(a.events={}))})(com||(com={}));(function(a){(function(a){(function(a){var d=function(){return function(){this.key=""}}();a.SoundVO=d;d.prototype.__class__="com.model.localData.SoundVO"})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(a){var e=function(){function a(){}Object.defineProperty(a,"$60",{get:function(){return d.s_fps.toFixed(0)},enumerable:!0,configurable:!0});a.rateoffest=function(b){void 0===b&&(b=60);return b/a.$60};Object.defineProperty(a,"counttime",{get:function(){return d.s_time},enumerable:!0,configurable:!0});return a}();a.FPS=e;e.prototype.__class__="com.utils.FPS";var d=function(){function a(b){this._countTime=this._lastTime=this._fps=0;this.run(b)}var b=a.prototype;b.run=function(a){a.addEventListener(egret.Event.ENTER_FRAME,
this.calculateFPS,this)};b.calculateFPS=function(){var b=egret.getTimer(),d=b-this._lastTime;this._countTime+=d;1E3<=this._countTime&&(this._countTime=0,a.s_time++);this._fps=1E3/d;this._lastTime=b;a.s_fps=this._fps};a.s_time=0;a.s_fps=0;return a}();a.GameProfiler=d;d.prototype.__class__="com.utils.GameProfiler"})(a.utils||(a.utils={}))})(com||(com={}));var RATE,USERINFOR;
(function(a){(function(g){(function(e){var d=function(c){function b(){c.call(this);this.preload("preload")}__extends(b,c);var d=b.prototype;d.onPreLoadComplete=function(a){c.prototype.onPreLoadComplete.call(this,a);a.data==this.groupName&&this.start()};d.onRemoveStage=function(b){this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStartClick,this);a.controller.EventManager.instance.removeEventListener(this,a.model.localData.event.LoaderEvent.COMPLETE);a.controller.EventManager.instance.removeEventListener(this,
a.model.localData.event.LoaderEvent.ERROR);a.controller.EventManager.instance.removeEventListener(this,a.model.localData.event.LoaderEvent.PROGRESS);c.prototype.onRemoveStage.call(this,b);this.startBtn=this.loading=this.bg=null};d.onInitComplete=function(b){"initScene"==b.data&&(RATE=b=a.model.DataCenter.instance.configVO.whRate,this.loading.setPercent(100),this.loading.visible=!1,this.startBtn=new a.views.ui.button.Button(["start_btn","start_btn","start_btn"]),this.startBtn.scaleX=b,this.startBtn.scaleY=
b,this.addChild(this.startBtn),this.startBtn.x=(a.model.DataCenter.instance.configVO.appWidth-this.startBtn.width*b)/2,this.startBtn.y=this.loading.y,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStartClick,this))};d.onUserRequest=function(a,b){};d.onInitError=function(a){"initScene"==a.data&&alert("\u52a0\u8f7dinitScene\u8d44\u6e90\u5931\u8d25")};d.onInitProgress=function(a){"initScene"==a.data.name&&this.loading.setPercent(a.data.loaded/a.data.total*100)};d.onStartClick=function(b){a.MainView.instance.changeScene(1)};
d.onMoreClick=function(a){};d.start=function(){var b;this.bg=new egret.Bitmap(RES.getRes("loading_bg"));this.addChild(this.bg);a.model.DataCenter.instance.configVO.allWHRate=Math.max(a.model.DataCenter.instance.configVO.appWidth/640,a.model.DataCenter.instance.configVO.appHeight/960);a.model.DataCenter.instance.configVO.whRate=Math.min(a.model.DataCenter.instance.configVO.appWidth/640,a.model.DataCenter.instance.configVO.appHeight/960);b=a.model.DataCenter.instance.configVO.whRate;this.bg.width=a.model.DataCenter.instance.configVO.appWidth;
this.bg.height=a.model.DataCenter.instance.configVO.appHeight;this.logo=new egret.Bitmap(RES.getRes("loadingBar"));this.addChild(this.logo);this.logo.scaleX=b;this.logo.scaleY=b;this.logo.x=(a.model.DataCenter.instance.configVO.appWidth-this.logo.width*b)/2;this.logo.y=(a.model.DataCenter.instance.configVO.appHeight-this.logo.height*b)/2-100*b;this.loading=new a.views.ui.loading.Loading("loading_bar","loading");this.addChild(this.loading);this.loading.setScale(b);this.loading.x=(a.model.DataCenter.instance.configVO.appWidth-
this.loading.bg.width*b)/2;this.loading.y=0.7*a.model.DataCenter.instance.configVO.appHeight;a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.COMPLETE,this.onInitComplete.bind(this));a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.ERROR,this.onInitError.bind(this));a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.PROGRESS,this.onInitProgress.bind(this));a.controller.ResManager.instance.loadGroup("initScene")};
return b}(a.views.ui.BasicView);e.InitScene=d;d.prototype.__class__="com.views.scene.InitScene"})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){var e=function(){function d(){this.soundArr=[];this._mute=!1}var c=d.prototype;c.play=function(b,c,d){for(var e=0,g,p=!1,e=0;e<this.soundArr.length;e++)g=this.soundArr[e],g.key==b?(p=!0,this.mute||g.sound.play(c)):d&&g.sound.pause();p||(g=new a.model.localData.SoundVO,g.sound=RES.getRes(b),g.key=b,this.mute||g.sound.play(c),this.soundArr.push(g))};c.stop=function(a){a=this.findSound(a);-1!=a&&(a=this.soundArr[a],a.sound.pause())};c.stopAll=function(){for(var a=0,a=0;a<this.soundArr.length;a++)this.soundArr[a].sound.pause()};
Object.defineProperty(c,"mute",{get:function(){return this._mute},set:function(a){var c=0;this._mute=a;for(c=0;c<this.soundArr.length;c++)this._mute&&this.soundArr[c].sound.pause()},enumerable:!0,configurable:!0});c.findSound=function(a){for(var c=-1,d=0,d=0;d<this.soundArr.length;d++)if(this.soundArr[d].key==a){c=d;break}return c};Object.defineProperty(d,"instance",{get:function(){null==this._instance&&(this._instance=new d);return this._instance},enumerable:!0,configurable:!0});return d}();g.SoundManager=
e;e.prototype.__class__="com.controller.SoundManager"})(a.controller||(a.controller={}))})(com||(com={}));(function(a){(function(a){(function(a){var d=function(){return function(){this.mutiply=this.baseScore=this.color=this.score=0}}();a.ScoreVO=d;d.prototype.__class__="com.model.localData.ScoreVO"})(a.localData||(a.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){(function(c){var b=function(a){function b(){a.call(this);this.rushArr=[];var c=this.level=0,d;this.bg=new egret.Bitmap(RES.getRes("rush"));this.addChild(this.bg);this.bar=new egret.Bitmap(RES.getRes("rush_bar"));this.addChild(this.bar);this.bar.x=this.bg.width;this.bar.y=5;for(c=0;3>c;c++)d=new egret.Bitmap(RES.getRes("rush"+c)),this.addChild(d),d.x=this.bar.x,d.y=this.bar.y+4,this.rushArr.push(d);this.fever=new egret.Bitmap(RES.getRes("fever"));
this.addChild(this.fever);this.fever.x=this.bar.x+(this.bar.width-this.fever.width)/2;this.fever.y=this.bar.y+(this.bar.height-this.fever.height)/2;this.clearRush()}__extends(b,a);var c=b.prototype;c.setRush=function(a,b,c){var d=b/c,f=0;this.level=a;for(f=0;f<this.level;f++)a=this.rushArr[f],this.rushArr[f].mask=new egret.Rectangle(0,0,a.width,a.height);a=this.rushArr[this.level];a.mask=new egret.Rectangle(0,0,d*a.width,a.height);b==c&&(this.fever.visible=!0)};c.clearRush=function(){for(var a,b=
0,b=0;b<this.rushArr.length;b++)a=this.rushArr[b],a.mask=new egret.Rectangle(0,0,0,a.height);this.fever.visible=!1};c.onRemoveStage=function(b){a.prototype.onRemoveStage.call(this,b);this.fever=this.rushArr=this.bar=this.bg=null};return b}(a.views.ui.BasicView);c.Rush=b;b.prototype.__class__="com.views.scene.gameScene.bottom.Rush"})(d.bottom||(d.bottom={}))})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));var State,IS_FLY=!1,COMBO=0;
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.mcf=new egret.MovieClipDataFactory(DATAS,TEX);this.role=new egret.MovieClip(this.mcf.generateMovieClipData("RenWu"));this.addChild(this.role);this.role.frameRate=11;this.role.play(-1);this.speed=19;this.ap=1.6*RATE;this.s_speed=this.speed;this.s_ap=this.ap;this.anchorX=0.5;this.anchorY=1}__extends(c,b);var d=c.prototype;d.moveRole=function(b,c){switch(State){case "STAY":this.role.movieClipData=this.mcf.generateMovieClipData("RenWu");
this.role.play(-1);this.y=b.y+55*RATE;b.startAnimation();this.speed=this.Speed;this.ap=this.s_ap;break;case "JUMP":c.touchChildren=!1;this.y-=this.Speed*a.utils.FPS.rateoffest();this.Speed-=this.ap*a.utils.FPS.rateoffest();this.role.movieClipData=this.mcf.generateMovieClipData("RenWuJump");this.role.play(-1);this.x>b.x&&this.x<b.x+b.width*RATE&&this.y>b.y&&this.y<b.y+b.height*RATE&&(State="STAY",this.y=b.y+55*RATE);if(this.y>a.utils.stageHeight()+this.height){COMBO=0;a.model.DataCenter.instance.userVO.combo=
0;var d=a.utils.createBitmapByName("miss");d.anchorX=d.anchorY=0.5;d.x=a.utils.stageWidth()/2;d.y=a.utils.stageHeight()/2;this.parent.addChild(d);d.scaleX=d.scaleY=RATE;egret.Tween.get(this).to({y:b.y+55*RATE},350).call(function(){State="STAY"});egret.Tween.get(d).to({alpha:0},600).call(function(){this.parent.removeChild(d)},this);this.stayPosition=b.y+55*RATE}break;case "YUN":c.touchChildren=!1;this.role.movieClipData=this.mcf.generateMovieClipData("chicuo");this.role.play(-1);break;case "FLY":c.touchChildren=
!1,this.role.movieClipData=this.mcf.generateMovieClipData("RenWuJump"),this.role.play(-1),egret.Tween.get(this).to({y:355*RATE},150).call(function(){IS_FLY&&(IS_FLY=!1,c.startTimer(),this.dispatchEvent(new egret.Event("CAN_FLY")))},this)}};Object.defineProperty(d,"Speed",{get:function(){return this.s_speed},set:function(a){this.s_speed=a},enumerable:!0,configurable:!0});Object.defineProperty(d,"Apt",{get:function(){return this.s_ap},set:function(a){this.s_ap=a},enumerable:!0,configurable:!0});return c}(a.views.ui.BasicView);
d.Role=c;c.prototype.__class__="com.views.scene.gameScene.Role"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(d){var c=function(a){function c(d,f){a.call(this);this.numArr=[];this.gap=0;this.prefix="";this.disHeight=this.disWidth=0;this.prefix=d;this.gap=f}__extends(c,a);var d=c.prototype;d.init=function(a){var b=""+a,c=0;this.clearNum();for(c=0;c<b.length;c++)a=new egret.Bitmap(RES.getRes(""+this.prefix+""+b.substr(c,1))),this.addChild(a),0<c&&(a.x=this.numArr[c-1].x+this.numArr[c-1].width+this.gap),this.numArr.push(a),this.disWidth=a.x+a.width,this.disHeight=
a.height};d.onRemoveStage=function(c){this.clearNum();a.prototype.onRemoveStage.call(this,c)};d.clearNum=function(){for(var a=0,a=0;a<this.numArr.length;a++)this.removeChild(this.numArr[a]);this.disHeight=this.disWidth=0;this.numArr=[]};return c}(a.BasicView);d.BitmapNum=c;c.prototype.__class__="com.views.ui.num.BitmapNum"})(a.num||(a.num={}))})(a.ui||(a.ui={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"send_over");var d=0,d=a.model.DataCenter.instance.configVO.isPC?a.model.DataCenter.instance.configVO.whRate:a.model.DataCenter.instance.configVO.appWidth/500;this.setScale(d);this.containerSprite.x=(a.model.DataCenter.instance.configVO.appWidth-this.bg.width*d)/2;this.touchEnabled=!0;this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)}__extends(c,b);var d=c.prototype;d.onRemoveStage=
function(a){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);b.prototype.onRemoveStage.call(this,a)};d.onTouchBegin=function(b){this.parent.removeChild(this);a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.BONUS_END,null))};c.show=function(a){null==this.instance&&(this.instance=new c,a.addChild(this.instance))};return c}(a.views.ui.window.MaskWindow);d.BonusGetWin=c;c.prototype.__class__="com.views.window.bonusWin.BonusGetWin"})(e.bonusWin||
(e.bonusWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
var loadings=function(a){function g(){a.call(this);this.q=new egret.Bitmap;this.timer=new egret.Timer(1E3/60);this.q.texture=RES.getRes("send_loading");this.q.anchorX=this.q.anchorY=0.5;this.addChild(this.q);this.q.x=com.model.DataCenter.instance.configVO.appWidth/2;this.q.y=com.model.DataCenter.instance.configVO.appHeight/2;this.q.y-=this.q.height;this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)}__extends(g,a);var e=g.prototype;e.start=function(){this.timer.start()};e.stop=function(){this.timer.stop()};
e.onTimer=function(a){this.q.rotation+=10};return g}(egret.Sprite);loadings.prototype.__class__="loadings";
(function(a){(function(g){(function(e){(function(d){var c=function(a){function c(d,f){a.call(this,d,f)}__extends(c,a);c.TouchMoveEvent_START="TouchMoveEvent_START";c.TouchMoveEvent_MOVE="TouchMoveEvent_MOVE";c.TouchMoveEvent_END="TouchMoveEvent_END";return c}(a.model.localData.event.Event);d.TouchMoveEvent=c;c.prototype.__class__="com.model.localData.event.TouchMoveEvent"})(e.event||(e.event={}))})(g.localData||(g.localData={}))})(a.model||(a.model={}))})(com||(com={}));
(function(a){(function(g){var e=function(){function d(){}d.getFontSize=function(c,b){var d=0;return d="undefined"==typeof b?Math.floor(c*a.model.DataCenter.instance.configVO.whRate):Math.floor(c*b)};d.trace=function(a){console.log(""+a)};d.isExitsFunction=function(a){try{if("function"==typeof eval(a))return!0}catch(b){}return!1};d.isExitsVariable=function(a){return"undefined"==typeof a?!1:!0};return d}();g.AppUtils=e;e.prototype.__class__="com.utils.AppUtils";g.createBitmapByName=function(a){var c=
new egret.Bitmap;a=RES.getRes(a);c.texture=a;return c};g.stageWidth=function(a){void 0===a&&(a=1);return egret.MainContext.instance.stage.stageWidth*a};g.stageHeight=function(a){void 0===a&&(a=1);return egret.MainContext.instance.stage.stageHeight*a};g.setCookie=function(a){};g.getCookie=function(){for(var a=document.cookie.split("; "),c=0;c<a.length;c++)a[c].split("=")}})(a.utils||(a.utils={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.masks=new egret.Shape;this.masks.graphics.beginFill(0,0.6);this.masks.graphics.drawRect(0,0,a.model.DataCenter.instance.configVO.appWidth,a.model.DataCenter.instance.configVO.appHeight);this.addChild(this.masks);this.guid=new egret.Bitmap(RES.getRes("guid"));this.guid.scaleX=this.guid.scaleY=RATE;this.addChild(this.guid);this.guid.anchorX=0.5;this.guid.x=a.utils.stageWidth()/2;this.addChild(this.guid);
this.touchEnabled=!0;this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)}__extends(c,b);c.prototype.onTouchBegin=function(){this.dispatchEvent(new egret.Event("GAME_START"))};return c}(a.views.ui.BasicView);d.GuidPanel=c;c.prototype.__class__="com.views.scene.gameScene.GuidPanel"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.width=this.height=33*Math.random()+20;this.bubble=new egret.Bitmap(RES.getRes("bubble"));this.bubble.width=this.bubble.height=this.width;this.bubble.anchorX=this.bubble.anchorY=0.5;this.addChild(this.bubble);egret.Tween.get(this.bubble,{loop:!0}).to({scaleX:1.2,scaleY:1.2},400).to({scaleX:1,scaleY:1},400)}__extends(c,b);var d=c.prototype;d.getBubbleSpeed=function(){return 3*Math.random()+0.5};d.moveBubble=
function(){this.y-=this.getBubbleSpeed()*RATE*a.utils.FPS.rateoffest();this.x+=4*Math.random()*RATE-4*Math.random()*RATE};return c}(a.views.ui.BasicView);d.Bubble=c;c.prototype.__class__="com.views.scene.gameScene.Bubble"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(d){b.call(this);this.str=d;this.Button=a.utils.createBitmapByName(d);this.Button.touchEnabled=!0;this.Button.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onJumpTouch,this);this.addChild(this.Button)}__extends(c,b);c.prototype.onJumpTouch=function(){this.dispatchEvent(new egret.Event(this.str));State="JUMP"};return c}(egret.DisplayObjectContainer);d.Buttons=c;c.prototype.__class__="com.views.scene.gameScene.Buttons"})(e.gameScene||
(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(d){b.call(this);this.bg=new a.views.ui.num.BitmapNum("s"+d.color+"_",0);this.addChild(this.bg);this.bg.init(d.baseScore);1<d.mutiply&&(this.mutiply=new egret.Bitmap(RES.getRes("x"+d.mutiply)),this.addChild(this.mutiply),this.mutiply.x=(this.bg.disWidth-this.mutiply.width)/2,this.mutiply.y=this.bg.disHeight+5);this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)}__extends(c,b);var d=c.prototype;d.onRemoveStage=
function(a){this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this);b.prototype.onRemoveStage.call(this,a);this.mutiply=this.bg=null};d.onEnterFrame=function(b){this.y-=1*a.utils.FPS.rateoffest();this.alpha-=0.02*a.utils.FPS.rateoffest();0>=this.alpha&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.parent.removeChild(this))};c.show=function(b,d,e,g){g=new c(g);g.setScale(a.model.DataCenter.instance.configVO.whRate);b.addChild(g);g.x=d;g.y=e};return c}(a.views.ui.BasicView);
d.Combo=c;c.prototype.__class__="com.views.scene.gameScene.Combo"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.star=a.utils.createBitmapByName("star");this.addChild(this.star)}__extends(c,b);return c}(a.views.ui.BasicView);d.Star=c;c.prototype.__class__="com.views.scene.gameScene.Star"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){(function(c){var b=function(b){function c(){b.call(this);this.disHeight=0;var d=a.model.DataCenter.instance.configVO.whRate;this.bg=new egret.Bitmap(RES.getRes("buttonBg"));this.bg.width=a.model.DataCenter.instance.configVO.appWidth;this.bg.scaleY=a.model.DataCenter.instance.configVO.isAndroidSound?RATE+0.2:RATE+0.3;this.addChild(this.bg);this.rush=new a.views.scene.gameScene.bottom.Rush;this.rush.setScale(d);this.addChild(this.rush);this.rush.x=
37*RATE;this.rush.y=0;this.disHeight=this.bg.height*this.bg.scaleY;this.rushCount=this.level=0}__extends(c,b);var d=c.prototype;d.addRush=function(){var b=!1;0==COMBO&&this.clearRush();a.model.DataCenter.instance.userVO.rushCount>a.model.DataCenter.instance.userVO.rushTotal&&(a.model.DataCenter.instance.userVO.rushLevel++,a.model.DataCenter.instance.userVO.rushCount=0,b=!0,3<=a.model.DataCenter.instance.userVO.rushLevel&&(b=!1,a.model.DataCenter.instance.userVO.rushLevel=0,a.model.DataCenter.instance.userVO.rushCount=
a.model.DataCenter.instance.userVO.rushTotal));this.rush.setRush(a.model.DataCenter.instance.userVO.rushLevel,a.model.DataCenter.instance.userVO.rushCount,a.model.DataCenter.instance.userVO.rushTotal);b&&a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.SCORE_TO_RUSH,null))};d.clearRush=function(){a.model.DataCenter.instance.userVO.rushCount=0;a.model.DataCenter.instance.userVO.rushLevel=0;this.rush.clearRush()};d.onRemoveStage=function(a){b.prototype.onRemoveStage.call(this,
a);this.rush=this.bg=null};return c}(a.views.ui.BasicView);c.BottomBar=b;b.prototype.__class__="com.views.scene.gameScene.bottom.BottomBar"})(d.bottom||(d.bottom={}))})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);var a=new egret.MovieClipDataFactory(DATAS,TEX);this.cloud=new egret.MovieClip(a.generateMovieClipData("BlackCloud"));this.addChild(this.cloud);this.cloud.frameRate=8;this.cloud.play(-1);a=new egret.MovieClipDataFactory(DATAS,TEX);this.removeChild(this.daoju);this.daoju=new egret.MovieClip(a.generateMovieClipData("bomb"));this.addChild(this.daoju);this.daoju.anchorX=0.5;this.daoju.x=this.width/2;this.daoju.anchorY=
1;this.daoju.y=this.height/2;this.daoju.play(-1);this.daoju.frameRate=5}__extends(c,b);c.prototype.startAnimation=function(){if(void 0!=this.daoju&&this.haveDaoju){this.parent.touchChildren=!1;var b=new egret.MovieClipDataFactory(DATAS,TEX),c=new egret.MovieClip(b.generateMovieClipData("explode"));c.play(-1);this.addChild(c);c.frameRate=8;c.anchorX=c.anchorY=0.5;c.x=this.daoju.x+25*RATE;c.y=this.daoju.y-50*RATE;this.removeChild(this.daoju);this.haveDaoju=!1;State="YUN";COMBO=0;a.model.DataCenter.instance.userVO.combo=
0;a.model.DataCenter.instance.userVO.rushCount=0;var d=a.utils.createBitmapByName("miss");d.anchorX=d.anchorY=0.5;d.x=a.utils.stageWidth()/2;d.y=a.utils.stageHeight()/2;this.parent.addChild(d);this.parent.touchChildren=!1;a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_explore",!1,!1);egret.Tween.get(this).to({alpha:1},600).call(function(){this.removeChild(c);this.parent.touchChildren=!0;State="STAY"},this);egret.Tween.get(d).to({alpha:0},600).call(function(){this.parent.removeChild(d)},
this)}};return c}(d.Cloud);d.BlackCloud=c;c.prototype.__class__="com.views.scene.gameScene.BlackCloud"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(a){var c=function(a){function c(){a.call(this);this.speed=5*RATE;this.isFlyCloud=!0}__extends(c,a);c.prototype.moveUpandDown=function(a,b){this.y+=this.speed;if(this.y>a||this.y<b)this.y>a&&(this.y=a),this.y<b&&(this.y=b),this.speed*=-1};return c}(a.Cloud);a.FlyCloud=c;c.prototype.__class__="com.views.scene.gameScene.FlyCloud"})(a.gameScene||(a.gameScene={}))})(a.scene||(a.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(a){(function(a){(function(a){var c=function(a){function c(){a.call(this);var d=new egret.MovieClipDataFactory(DATAS,TEX);this.removeChild(this.daoju);this.daoju=new egret.MovieClip(d.generateMovieClipData("fly_daoju"));this.addChild(this.daoju);this.daoju.anchorX=0.5;this.daoju.x=this.width/2;this.daoju.anchorY=1;this.daoju.y=2*this.height/3;this.isFlyCloud=!1;this.daoju.play(-1)}__extends(c,a);c.prototype.startAnimation=function(){if(void 0!=this.daoju&&this.haveDaoju){var a=
new egret.MovieClipDataFactory(DATAS,TEX),b=new egret.MovieClip(a.generateMovieClipData("caidaoyun"));b.play(-1);this.addChild(b);b.frameRate=8;b.anchorX=b.anchorY=0.5;b.x=this.daoju.x+25*RATE;b.y=this.daoju.y-50*RATE;this.removeChild(this.daoju);this.haveDaoju=!1;State="FLY";IS_FLY=!0;egret.Tween.get(this).to({alpha:1},150).call(function(){this.removeChild(b)},this)}};return c}(a.Cloud);a.SuperCloud=c;c.prototype.__class__="com.views.scene.gameScene.SuperCloud"})(a.gameScene||(a.gameScene={}))})(a.scene||
(a.scene={}))})(a.views||(a.views={}))})(com||(com={}));var SON_STATE;
(function(a){(function(g){(function(e){(function(d){var c=function(a){function c(){a.call(this);this.mcf=new egret.MovieClipDataFactory(DATAS,TEX);this.role=new egret.MovieClip(this.mcf.generateMovieClipData("son"));this.addChild(this.role);this.role.frameRate=11;this.role.play(-1);this.anchorX=0.5;this.anchorY=1}__extends(c,a);c.prototype.moveSon=function(){switch(State){case "STAY":this.role.movieClipData=this.mcf.generateMovieClipData("son");this.role.play(-1);break;case "JUMP":this.role.movieClipData=
this.mcf.generateMovieClipData("son_fly");this.role.play(-1);break;case "YUN":this.role.movieClipData=this.mcf.generateMovieClipData("son_eat");this.role.play(-1);break;case "FLY":this.role.movieClipData=this.mcf.generateMovieClipData("son_fly"),this.role.play(-1)}};return c}(a.views.ui.BasicView);d.son=c;c.prototype.__class__="com.views.scene.gameScene.son"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){(function(c){var b=function(b){function c(){b.call(this);this.bg=new egret.Bitmap(RES.getRes("xianlu"));this.addChild(this.bg);this.bar=new egret.Bitmap(RES.getRes("time_bg"));this.addChild(this.bar);this.bar.x=this.bg.width;this.bar.y=4;this.time=new egret.Bitmap(RES.getRes("time_bar"));this.addChild(this.time);this.time.x=this.bar.x+4;this.time.y=8;this.num=new a.views.ui.num.BitmapNum("time",0);this.addChild(this.num);this.num.y=18}__extends(c,
b);c.prototype.setTime=function(a,b){this.time.mask=new egret.Rectangle(0,0,a/b*this.time.width,this.time.height);this.num.init(a);this.num.x=this.time.x+(this.time.width-this.num.disWidth)/2;this.num.y=this.bar.y+(this.bar.height-this.num.disHeight)/2};return c}(egret.DisplayObjectContainer);c.TimeBar=b;b.prototype.__class__="com.views.scene.gameScene.top.TimeBar"})(d.top||(d.top={}))})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
var ObjectPool=function(){function a(){this._pool=[];this._list=[]}var g=a.prototype;g.createObject=function(a,d,c){var b=this._pool;a=null!=b&&b.length?b.shift():new a(d,c);this._list.push(a);return a};g.destroyObject=function(a){this._pool.push(a);a=this._list.indexOf(a);-1!=a&&this._list.splice(a,1)};Object.defineProperty(g,"objectList",{get:function(){return this._list},enumerable:!0,configurable:!0});a.getInstance=function(){null==a.instance&&(a.instance=new a);return a.instance};return a}();
ObjectPool.prototype.__class__="ObjectPool";
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"bonus_didi");var d=a.model.DataCenter.instance.configVO.whRate;this.exchangeTxt=new egret.TextField;this.addItem(this.exchangeTxt);this.exchangeTxt.size=40;this.exchangeTxt.textColor=16711728;this.exchangeTxt.text="1";this.exchangeTxt.x=(this.bg.width-this.exchangeTxt.width)/2;this.exchangeTxt.y=150;this.code=new egret.Bitmap(RES.getRes("code"));this.addItem(this.code);this.code.x=(this.bg.width-this.code.width)/
2;this.code.y=335;this.follow=new a.views.ui.button.Button(["follow","follow","follow"]);this.addItem(this.follow);this.follow.x=(this.bg.width-this.follow.width)/2;this.follow.y=534;this.close=new a.views.ui.button.Button(["x","x","x"]);this.addItem(this.close);this.close.x=370;this.close.y=0;this.setScale(d);this.containerSprite.x=(a.model.DataCenter.instance.configVO.appWidth-this.bg.width*d)/2;this.containerSprite.y=(a.model.DataCenter.instance.configVO.appHeight-this.bg.height*d)/2;this.follow.addEventListener(egret.TouchEvent.TOUCH_BEGIN,
this.onFollowClick,this);this.close.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onCloseClick,this)}__extends(c,b);var d=c.prototype;d.onRemoveStage=function(a){this.follow.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onFollowClick,this);this.close.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onCloseClick,this);b.prototype.onRemoveStage.call(this,a);this.follow=this.code=this.exchangeTxt=null;c.instance=null};d.onFollowClick=function(a){location.href="http://mp.weixin.qq.com/s?__biz=MzA3Mjc4NjM2NA==&mid=205511475&idx=1&sn=9342dbbb497173c365e4261bf09d715e#rd"};
d.onCloseClick=function(b){this.parent.removeChild(this);a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.BONUS_DIDI_END,null))};c.show=function(a){null==this.instance&&(this.instance=new c,a.addChild(this.instance))};return c}(a.views.ui.window.MaskWindow);d.BonusDidiWin=c;c.prototype.__class__="com.views.window.bonusWin.BonusDidiWin"})(e.bonusWin||(e.bonusWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"send_input");this.loading=new loadings;var d=0,d=a.model.DataCenter.instance.configVO.isPC?a.model.DataCenter.instance.configVO.whRate:a.model.DataCenter.instance.configVO.appWidth/500;this.ok=new a.views.ui.button.Button(["send_okbtn","send_okbtn","send_okbtn"]);this.addItem(this.ok);this.ok.x=(this.bg.width-this.ok.width)/2;this.ok.y=500;this.phoneInput=new egret.TextField;this.phoneInput.type=egret.TextFieldType.INPUT;
this.phoneInput.width=290;this.phoneInput.height=52;this.addItem(this.phoneInput);this.phoneInput.x=130;this.phoneInput.y=350;this.phoneInput.size=30;this.phoneInput.textColor=2631720;this.nameInput=new egret.TextField;this.nameInput.type=egret.TextFieldType.INPUT;this.nameInput.width=290;this.nameInput.height=52;this.addItem(this.nameInput);this.nameInput.x=130;this.nameInput.y=425;this.nameInput.size=30;this.nameInput.textColor=2631720;this.phoneTip=new egret.TextField;this.phoneTip.width=290;this.phoneTip.height=
14;this.addItem(this.phoneTip);this.phoneTip.x=130;this.phoneTip.y=405;this.phoneTip.size=16;this.phoneTip.textColor=16711680;this.nameTip=new egret.TextField;this.nameTip.width=290;this.nameTip.height=14;this.addItem(this.nameTip);this.nameTip.x=130;this.nameTip.y=480;this.nameTip.size=16;this.nameTip.textColor=16711680;this.setScale(d);this.containerSprite.x=(a.model.DataCenter.instance.configVO.appWidth-this.bg.width*d)/2;this.touchEnabled=!0;d=new egret.Bitmap;d.texture=RES.getRes("sp");d.name=
"sp";d.touchEnabled=!0;console.log(d);d.y=580;d.x=(this.bg.width-d.width)/2;this.addItem(d);this.ok.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onOKClick,this);this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)}__extends(c,b);var e=c.prototype;e.onRemoveStage=function(a){this.ok.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onOKClick,this);this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);b.prototype.onRemoveStage.call(this,a);this.loading=
this.nameTip=this.phoneTip=this.nameInput=this.phoneInput=this.ok=null;c.instance=null};e.onOKClick=function(b){b=this.nameInput.text;var d=this.phoneInput.text,e=!0;this.nameInput.text="";this.phoneInput.text="";if(""==b||null==b||void 0==b)console.log("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),this.nameTip.text="*\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a",e=!1;if(""==d||""==d||void 0==d)console.log("\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a"),this.phoneTip.text="*\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a",
e=!1;this.checkMobile(d)||(console.log("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),this.phoneTip.text="*\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",e=!1);e&&(c.isShow=!0,this.containerSprite.visible=!1,this.addChild(this.loading),this.loading.start(),this.loader=new egret.URLLoader,this.loader.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),e=new egret.URLRequest(a.model.DataCenter.instance.configVO.apiHost+"/api/v1/wmdax/lottery/submit"),e.method=egret.URLRequestMethod.POST,
e.data=new egret.URLVariables("code="+apicode+"&name="+b+"&cellphone="+d),this.loader.load(e))};e.onTouchBegin=function(b){100>=b.stageY?(this.close(),a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.BONUS_END,null))):"sp"==b.target.name&&playvideo()};e.onPostComplete=function(a){this.loading.stop();d.BonusGetWin.show(this.parent);this.close()};e.close=function(){this.parent.removeChild(this)};e.checkMobile=function(a){return/^1\d{10}$/.test(a)?
!0:!1};c.show=function(a){null==this.instance&&(this.instance=new c,a.addChild(this.instance))};c.isShow=!1;return c}(a.views.ui.window.MaskWindow);d.BonusWin=c;c.prototype.__class__="com.views.window.bonusWin.BonusWin"})(e.bonusWin||(e.bonusWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"end");this.shareIconFlag=0;a.model.DataCenter.instance.userVO.score>a.model.DataCenter.instance.userVO.topScore&&(a.model.DataCenter.instance.userVO.topScore=a.model.DataCenter.instance.userVO.score);this.score=new a.views.ui.num.BitmapNum("time",-5);this.addItem(this.score);this.score.init(a.model.DataCenter.instance.userVO.score);this.score.x=(this.bg.width-this.score.width)/2+30;this.score.y=30;this.topScore=
new a.views.ui.num.BitmapNum("time",-5);this.addItem(this.topScore);this.topScore.init(a.model.DataCenter.instance.userVO.topScore);this.topScore.x=(this.bg.width-this.topScore.width)/2+30;this.topScore.y=110;this.movie=new a.views.ui.button.Button(["movie","movie","movie"]);this.addItem(this.movie);this.movie.x=70;this.movie.y=450;this.movie.visible=!1;this.again=new a.views.ui.button.Button(["again","again","again"]);this.addItem(this.again);this.again.x=this.width/2-this.again.width/2;this.again.y=
445;this.didi=new egret.Bitmap(RES.getRes("didi"));this.addItem(this.didi);this.didi.x=(this.bg.width-this.didi.width)/2;this.didi.y=525;this.didi.touchEnabled=!0;this.didi.visible=!1;this.total=new egret.TextField;this.total.width=120;this.addItem(this.total);this.total.x=214;this.total.y=237;this.total.fontFamily="Microsoft YaHei";this.total.textColor=16632909;this.total.bold=!0;this.total.size=32;this.total.textAlign=egret.HorizontalAlign.CENTER;this.current=new egret.TextField;this.current.width=
134;this.addItem(this.current);this.current.x=193;this.current.y=342;this.current.fontFamily="Microsoft YaHei";this.current.textColor=16632909;this.current.bold=!0;this.current.size=32;this.current.textAlign=egret.HorizontalAlign.CENTER;document.location.href.match(/kuaiya/i);this.again.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onAgainClick,this);this.didi.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onDidiClick,this);this.movie.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMovieClick,
this);var d=new egret.URLLoader,f=new egret.URLRequest("http://api.hunantv.wanh5.com/interface.php?action=submit_points&game_id="+(a.model.DataCenter.instance.configVO.apiVersion+2)+"&user_id="+a.model.DataCenter.instance.configVO.userID+"&portrait=&nick_name=&points="+a.model.DataCenter.instance.userVO.score);d.addEventListener(egret.Event.COMPLETE,this.onRankComplete,this);d.load(f)}__extends(c,b);var d=c.prototype;d.onRemoveStage=function(a){this.again.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,
this.onAgainClick,this);this.didi.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onDidiClick,this);this.movie.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMovieClick,this);this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this);b.prototype.onRemoveStage.call(this,a);this.movie=this.current=this.total=this.again=this.txt=this.topScore=this.score=null;c.instance=null};d.onRankComplete=function(b){var c=JSON.parse(b.currentTarget.data);b.currentTarget.removeEventListener(egret.Event.COMPLETE,
this.onRankComplete,this);null!=this.total&&(this.total.text=""+Math.floor(parseFloat(c.beatCounts)/(parseFloat(c.beatCounts)+parseFloat(c.rank))*100)+"%",this.current.text=""+c.rank,setShare("\u6211\u548c\u513f\u5b50\u5929\u4e0a\u4eba\u95f4\u6d88\u8d39"+a.model.DataCenter.instance.userVO.score+"\uff0c\u52aa\u529b\u7a0b\u5ea6\u4f60\u61c2\u5f97\uff0c\u4e00\u8d77\u6765\uff1f"))};d.onShareClick=function(a){this.hasEventListener(egret.Event.ENTER_FRAME)||this.addEventListener(egret.Event.ENTER_FRAME,
this.onEnterFrame,this)};d.onAgainClick=function(b){this.close();a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.AGAIN,null))};d.onDidiClick=function(b){this.close();a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.BONUS_DIDI,null))};d.onMovieClick=function(a){location.href="http://weixin.wepiao.com/huodong/wx/20150722/hunanweishi/wmdax0723"};d.onEnterFrame=function(a){};d.close=function(){this.parent.removeChild(this)};
c.show=function(b){var d=0;null==this.instance&&(d=a.model.DataCenter.instance.configVO.whRate,this.instance=new c,b.addChild(this.instance),this.instance.setScale(d),this.instance.containerSprite.x=(a.model.DataCenter.instance.configVO.appWidth-this.instance.containerSprite.width*d)/2,this.instance.containerSprite.y=(a.model.DataCenter.instance.configVO.appHeight-this.instance.containerSprite.height*d)/2)};c.hide=function(){null!=this.instance&&this.instance.close()};return c}(a.views.ui.window.MaskWindow);
d.EndWin=c;c.prototype.__class__="com.views.window.endWin.EndWin"})(e.endWin||(e.endWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"xr");var d=a.model.DataCenter.instance.configVO.whRate;this.setScale(d);this.containerSprite.x=(a.model.DataCenter.instance.configVO.appWidth-this.bg.width*d)/2;this.touchEnabled=!0;this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)}__extends(c,b);c.prototype.onTouchBegin=function(a){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this);this.parent.removeChild(this);
c.instance=null};c.show=function(a){null==this.instance&&(this.instance=new c,a.addChild(this.instance))};c.hide=function(){if(null!=this.instance)this.instance.onTouchBegin(null)};return c}(a.views.ui.window.MaskWindow);d.ShareWin=c;c.prototype.__class__="com.views.window.shareWin.ShareWin"})(e.shareWin||(e.shareWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this,"time_over",0.5);setTimeout(this.onClose.bind(this),1E3)}__extends(c,b);var d=c.prototype;d.onRemoveStage=function(a){b.prototype.onRemoveStage.call(this,a);c.instance=null};d.onClose=function(){this.parent.removeChild(this);a.controller.EventManager.instance.dispatchEvent(new a.events.GameSceneEvent(a.events.GameSceneEvent.TIME_OVER_END,null))};c.show=function(b){var d=0;null==this.instance&&(d=a.model.DataCenter.instance.configVO.whRate,
this.instance=new c,b.addChild(this.instance),this.instance.setScale(d),this.instance.containerSprite.x=a.model.DataCenter.instance.configVO.appWidth/2,this.instance.containerSprite.y=a.model.DataCenter.instance.configVO.appHeight/2,this.instance.containerSprite.anchorX=0.5,this.instance.containerSprite.anchorY=0.5,this.instance.containerSprite.scaleX=0.1,this.instance.containerSprite.scaleY=0.1,b=egret.Tween.get(this.instance.containerSprite),b.to({scaleX:RATE,scaleY:RATE},200))};return c}(a.views.ui.window.MaskWindow);
d.TimeOverWin=c;c.prototype.__class__="com.views.window.timeOverWin.TimeOverWin"})(e.timeOverWin||(e.timeOverWin={}))})(g.window||(g.window={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){(function(g){var e=function(){function d(){this.time=this.y=this.x=0;this.canTouch=!1;this.timerID=-1;this.noMoveCount=0;this.moveTimeout=10}var c=d.prototype;c.init=function(a,c){c?(a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouseDown,this),a.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMouseMove,this),a.addEventListener(egret.TouchEvent.TOUCH_END,this.onMouseUp,this)):(document.addEventListener("touchstart",this.onTouchStart.bind(this),!1),document.addEventListener("touchmove",
this.onTouchMove.bind(this),!1),document.addEventListener("touchend",this.onTouchEnd.bind(this),!1),document.addEventListener("mousemove",this.onTouchStart0.bind(this),!1))};c.onTouchStart=function(b){b=b.targetTouches[0];var c=a.model.DataCenter.instance.configVO.dpiRate;this.canTouch=!0;this.clearTimer();this.x=b.pageX*c;this.y=b.pageY*c;g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_START,{x:b.pageX*c,y:b.pageY*
c}))};c.onTouchEnd=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_END,{x:this.x,y:this.y}))};c.onTouchMove=function(b){b=b.targetTouches[0];var c=a.model.DataCenter.instance.configVO.dpiRate;this.x=b.pageX*c;this.y=b.pageY*c;g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_MOVE,{x:b.pageX*c,y:b.pageY*c}))};c.onTouchStart0=
function(b){var c;this.canTouch||(c=a.model.DataCenter.instance.configVO.dpiRate,this.noMoveCount=0,this.x=b.pageX*c,this.y=b.pageY*c,g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_START,{x:this.x,y:this.y})),this.clearTimer(),this.timerID=setInterval(this.onTouchMove0.bind(this),20))};c.onTouchMove0=function(b){this.canTouch?this.clearTimer():(this.noMoveCount++,void 0!=this.x||void 0!=this.y?(this.noMoveCount=
0,this.y=this.x=void 0,g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_MOVE,{x:this.x,y:this.y}))):this.noMoveCount>=this.moveTimeout&&(this.clearTimer(),g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_END,{x:this.x,y:this.y}))))};c.onMouseDown=function(b){this.x=b.stageX;this.y=b.stageY;g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_START,
{x:this.x,y:this.y}))};c.onMouseUp=function(b){g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_END,{x:this.x,y:this.y}))};c.onMouseMove=function(b){this.x=b.stageX;this.y=b.stageY;g.EventManager.instance.dispatchEvent(new a.model.localData.event.TouchMoveEvent(a.model.localData.event.TouchMoveEvent.TouchMoveEvent_MOVE,{x:this.x,y:this.y}))};c.clearTimer=function(){-1!=this.timerID&&clearTimeout(this.timerID);this.timerID=
-1};Object.defineProperty(d,"instance",{get:function(){null==this._instance&&(this._instance=new d);return this._instance},enumerable:!0,configurable:!0});return d}();g.TouchManager=e;e.prototype.__class__="com.controller.TouchManager"})(a.controller||(a.controller={}))})(com||(com={}));var MOVESTATE,DATAS,TEX;
(function(a){(function(g){(function(e){var d=function(c){function b(){c.call(this);this.cloundArray=[];this.counts=0;this.totalTime=60;this.bubbleCount=4;this.bubbleArr=[];this.starsArr=[];this.starSpeed=15;this.fatherPositionArr=[];this.status=0;this.bonusTimer=-1;this.width=a.utils.stageWidth();this.height=a.utils.stageHeight();this.counts=0;a.model.DataCenter.instance.userVO.weiXin=new weixin;DATAS=RES.getRes("animation");TEX=RES.getRes("animate");this.bg=a.utils.createBitmapByName("bgImage");
this.bg.width=this.width;this.bg.height=this.height;this.addChild(this.bg);this.cloudBg=a.utils.createBitmapByName("cloudBg");this.cloudBg.anchorX=0;this.cloudBg.x=0;this.cloudBg.y=250/960*this.height;this.cloudBg.scaleX=this.cloudBg.scaleY=RATE;this.addChild(this.cloudBg);this.cloudBg1=a.utils.createBitmapByName("cloudBg");this.cloudBg1.anchorX=1;this.cloudBg1.x=a.utils.stageWidth();this.cloudBg1.scaleX=this.cloudBg1.scaleY=RATE;this.cloudBg1.y=0.5*this.height;this.addChild(this.cloudBg1);for(var b=
0;b<this.bubbleCount;b++){var d=new a.views.scene.gameScene.Bubble;d.setScale(RATE);d.x=544*Math.random()*RATE;d.y=890*Math.random()*RATE;this.addChild(d);this.bubbleArr.push(d)}this.topBg=a.utils.createBitmapByName("topBg");this.topBg.anchorX=0;this.topBg.x=0;this.topBg.y=0;this.topBg.scaleY=RATE;this.topBg.width=a.utils.stageWidth();this.addChild(this.topBg);this.timePanel=new a.views.scene.gameScene.top.TimeBar;this.timePanel.x=0;this.timePanel.y=13/960*a.utils.stageHeight();this.addChild(this.timePanel);
this.timePanel.scaleX=this.timePanel.scaleY=RATE;this.buttonBg=new a.views.scene.gameScene.bottom.BottomBar;this.buttonBg.anchorX=0;this.buttonBg.anchorY=1;this.buttonBg.width=a.utils.stageWidth();this.buttonBg.y=a.utils.stageHeight();this.addChild(this.buttonBg);document.getElementById("txt").innerHTML="\u672c\u9875\u9762\u7531\u6e56\u5357\u536b\u89c6\u548c\u5feb\u4e50\u8292\u679c\u4e92\u5a31\u63d0\u4f9b \u706b\u821e\u6e38\u620f";document.getElementById("txt").style.color="#000000";this.scorePanel=
new a.views.scene.gameScene.top.Score;this.addChild(this.scorePanel);this.scorePanel.anchorX=1;this.scorePanel.x=a.utils.stageWidth()-21*RATE;this.scorePanel.y=13*RATE;this.scorePanel.scaleX=this.scorePanel.scaleY=RATE;this.cloud=new ObjectPool;for(b=0;10>b;b++)d=this.cloud.createObject(a.views.scene.gameScene.Cloud),this.addChild(d),this.cloundArray.push(d),d.scaleX=d.scaleY=RATE,d.x=0.6*b*d.width*RATE,d.y=598*RATE-0.7*b*d.height*RATE,d.setAnchorPosition(598*RATE-0.7*b*d.height*RATE);this.distance=
this.cloundArray[1].x-this.cloundArray[0].x;this.tanR=(this.cloundArray[1].y-this.cloundArray[0].y)/this.distance;this.distances=this.cloundArray[2].x-this.cloundArray[0].x;this.tanRs=(this.cloundArray[2].y-this.cloundArray[0].y)/this.distances;this.touchEnabled=!0;this.length=this.cloundArray.length;this.jumpNextButton=new a.views.scene.gameScene.Buttons("jump_next");this.jumpDoubleButton=new a.views.scene.gameScene.Buttons("jump_double");this.jumpNextButton.touchChildren=!1;this.jumpDoubleButton.touchChildren=
!1;this.jumpNextButton.x=0.0375*a.model.DataCenter.instance.configVO.appWidth;this.jumpNextButton.y=0.734375*a.model.DataCenter.instance.configVO.appHeight;this.addChild(this.jumpNextButton);this.jumpNextButton.scaleX=this.jumpNextButton.scaleY=RATE;this.jumpDoubleButton.x=0.73125*a.utils.stageWidth();this.jumpDoubleButton.y=0.734375*a.utils.stageHeight();this.addChild(this.jumpDoubleButton);this.jumpDoubleButton.scaleX=this.jumpDoubleButton.scaleY=RATE;this.jumpNextButton.addEventListener("jump_next",
this.onBegin,this);this.jumpDoubleButton.addEventListener("jump_double",this.onBeginDouble,this);this.role=new a.views.scene.gameScene.Role;this.addChild(this.role);this.role.x=this.cloundArray[1].x+this.cloundArray[1].width/2*RATE+15*RATE;this.role.y=this.cloundArray[1].y+55*RATE;this.role.scaleX=this.role.scaleY=RATE;this.role.addEventListener("CAN_FLY",this.onRoleFly,this);this.son=new a.views.scene.gameScene.son;this.son.x=this.cloundArray[1].x+this.cloundArray[1].width/2*RATE-30*RATE;this.son.y=
this.cloundArray[1].y+85*RATE;this.addChild(this.son);this.son.scaleX=this.son.scaleY=RATE;for(b=0;b<this.cloundArray.length;b++)this.cloundArray[b].x<this.role.x&&this.role.x<this.cloundArray[b].x+this.cloundArray[b].width*RATE&&(this.cloudCollision=this.cloundArray[b+1]);this.guidPanel=new a.views.scene.gameScene.GuidPanel;this.addChild(this.guidPanel);this.guidPanel.x=0;this.guidPanel.y=0;this.guidPanel.addEventListener("GAME_START",this.onGameStart,this);this.curTime=this.totalTime;this.timePanel.setTime(this.curTime,
this.totalTime);this.timer=new egret.Timer(1E3,this.totalTime);this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimerBegin,this);this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerOver,this);this.touchChildren=!0;a.controller.EventManager.instance.addEventListener(this,a.events.GameSceneEvent.TIME_OVER_END,this.onTimeOverEnd.bind(this));a.controller.EventManager.instance.addEventListener(this,a.events.GameSceneEvent.BONUS_END,this.onBonusEnd.bind(this));a.controller.EventManager.instance.addEventListener(this,
a.events.GameSceneEvent.BONUS_DIDI,this.onBonusDidi.bind(this));a.controller.EventManager.instance.addEventListener(this,a.events.GameSceneEvent.BONUS_DIDI_END,this.onBonusDidiEnd.bind(this));a.controller.EventManager.instance.addEventListener(this,a.events.GameSceneEvent.AGAIN,this.onAgain.bind(this));a.controller.SoundManager.instance.play("sound_bg",!0,!0)}__extends(b,c);var d=b.prototype;d.onGameStart=function(){this.removeChild(this.guidPanel);this.removeEventListener("GAME_START",this.onGameStart,
this);this.jumpNextButton.touchChildren=!0;this.jumpDoubleButton.touchChildren=!0;this.timer.start();this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)};d.onTimerBegin=function(a){this.curTime-=1;this.timePanel.setTime(this.curTime,this.totalTime)};d.onTimerOver=function(b){this.touchChildren=!0;this.jumpNextButton.touchEnabled=!1;this.jumpDoubleButton.touchEnabled=!1;this.removeEventListener(egret.TimerEvent.TIMER,this.onTimerBegin,this);this.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,
this.onTimerOver,this);a.views.window.timeOverWin.TimeOverWin.show(this)};d.onBegin=function(){MOVESTATE=1;this.role.Speed=12*RATE;this.setChildIndex(this.role,this.numChildren-1);this.tweenTime=120;for(var b=0;b<this.cloundArray.length;b++)this.cloundArray[b].x<this.role.x&&this.role.x<this.cloundArray[b].x+this.cloundArray[b].width*RATE&&(this.cloudCollision=this.cloundArray[b+1]);this.moveCloudArray();this.counts++;for(b=0;b<this.cloundArray.length;b++)this.setChildIndex(this.cloundArray[b],this.numChildren-
b+1);this.setChildIndex(this.role,this.numChildren-1);this.setChildIndex(this.son,this.numChildren-1);this.touchChildren=!1;a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_jump",!1,!1)};d.onBeginDouble=function(){for(var b=0;b<this.cloundArray.length;b++)this.cloundArray[b].x<this.role.x&&this.role.x<this.cloundArray[b].x+this.cloundArray[b].width*RATE&&(this.cloundArray[b+1]instanceof a.views.scene.gameScene.FlyCloud?(MOVESTATE=1,this.role.Speed=
12*RATE,this.tweenTime=120):(MOVESTATE=2,this.role.Speed=24*RATE,this.tweenTime=240));this.setChildIndex(this.role,this.numChildren-1);for(b=0;b<this.cloundArray.length;b++)this.cloundArray[b].x<this.role.x&&this.role.x<this.cloundArray[b].x+this.cloundArray[b].width*RATE&&(1==MOVESTATE?this.cloudCollision=this.cloundArray[b+1]:2==MOVESTATE&&(this.cloudCollision=this.cloundArray[b+2]));this.touchChildren=!1;this.moveCloudArray();this.counts+=1;for(b=0;b<this.cloundArray.length;b++)this.setChildIndex(this.cloundArray[b],
this.numChildren-b+1);this.setChildIndex(this.son,this.numChildren-1);this.setChildIndex(this.role,this.numChildren-1);a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_jump",!1,!1)};d.onEnterFrame=function(b){for(b=0;b<this.cloundArray.length;b++)this.cloundArray[b].setAnchorPosition(598*RATE-0.7*b*this.cloundArray[b].height*RATE);for(b=0;b<this.cloundArray.length;b++)this.cloundArray[b].isFlyCloud&&this.cloundArray[b].x<this.width&&this.cloundArray[b].moveUpandDown(this.cloundArray[b].anchorPosition+
235*RATE,this.cloundArray[b].anchorPosition-235*RATE);this.role.moveRole(this.cloudCollision,this);this.son.moveSon();this.scorePanel.upDateScore();this.buttonBg.addRush();"FLY"==State&&(SCORE+=Math.floor(250*a.utils.FPS.rateoffest()));this.fatherPositionArr.push({x:this.role.x-45*RATE,y:this.role.y+30*RATE});5<this.fatherPositionArr.length&&this.fatherPositionArr.splice(0,1);this.followFather();for(b=0;b<this.bubbleArr.length;b++)this.bubbleArr[b].moveBubble(),this.bubbleArr[b].y<-this.bubbleArr[b].width&&
(this.bubbleArr[b].y=150*Math.random()*RATE+a.utils.stageHeight(),this.bubbleArr[b].x=544*Math.random()*RATE+56*RATE);if(0!=this.starsArr.length)for(b=0;b<this.starsArr.length;b++)if(this.starsArr[b].x-=this.starSpeed*a.utils.FPS.rateoffest()*RATE,this.starsArr[b].y-=this.starSpeed*this.tanR*RATE*a.utils.FPS.rateoffest(),this.starsArr[b].x<this.role.x){var c;COMBO++;a.model.DataCenter.instance.userVO.combo++;25<COMBO&&(COMBO=25);c=new a.model.localData.ScoreVO;c.baseScore=100*COMBO;5<COMBO&&10>COMBO?
(c.color=1,c.mutiply=2):15>=COMBO&&10<=COMBO?(c.color=2,c.mutiply=3):(c.color=0,c.mutiply=1);c.score=100*COMBO*c.mutiply;SCORE+=c.score;a.views.scene.gameScene.Combo.show(this,0,this.height/2-250*RATE,c);this.removeChild(this.starsArr[b]);this.starsArr.splice(this.starsArr.indexOf(this.starsArr[b]),1);1<COMBO?a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_shoot",!1,!1):a.model.DataCenter.instance.configVO.isAndroidSound||a.controller.SoundManager.instance.play("sound_combo",
!1,!1)}};d.moveCloudArray=function(){switch(MOVESTATE){case 1:for(var a=0;a<this.length;a++)0!=a?egret.Tween.get(this.cloundArray[a]).to({x:this.cloundArray[a-1].x,y:this.cloundArray[a].y-this.distance*this.tanR},this.tweenTime):egret.Tween.get(this.cloundArray[a]).to({x:-this.distance,y:this.cloundArray[a].y-this.distance*this.tanR},this.tweenTime).call(function(){var a=this.cloundArray.shift();this.removeChild(a);a=this.generRateCloud();a.scaleX=a.scaleY=RATE;this.addChild(a);a.x=0.7*(this.length-
1)*a.width*RATE;a.y=598*RATE-0.7*(this.length-1)*a.height*RATE;this.cloundArray.push(a)},this);break;case 2:for(a=0;a<this.length;a++)0==a?egret.Tween.get(this.cloundArray[a]).to({x:-2*this.distances,y:this.cloundArray[a].y-this.distances*this.tanRs},this.tweenTime).call(function(){var a=this.cloundArray.shift();this.removeChild(a);a=this.generRateCloud();this.addChild(a);a.scaleX=a.scaleY=RATE;a.x=0.7*(this.length-1)*a.width*RATE;a.y=598*RATE-0.7*(this.length-1)*a.height*RATE;this.cloundArray.push(a)},
this):1==a?egret.Tween.get(this.cloundArray[a]).to({x:-this.distances,y:this.cloundArray[a].y-this.distances*this.tanRs},this.tweenTime).call(function(){var a=this.cloundArray.shift();this.removeChild(a);a=this.generRateCloud();this.addChild(a);a.scaleX=a.scaleY=RATE;a.x=0.7*(this.length-1)*a.width*RATE;a.y=598*RATE-0.7*(this.length-2)*a.height*RATE;this.cloundArray.push(a)},this):0!=a&&1!=a&&egret.Tween.get(this.cloundArray[a]).to({x:this.cloundArray[a-2].x,y:this.cloundArray[a].y-this.distances*
this.tanRs},this.tweenTime)}};d.moveAllCloud=function(){for(var a=0;a<this.length;a++)0!=a?egret.Tween.get(this.cloundArray[a]).to({x:this.cloundArray[a-1].x,y:this.cloundArray[a].y-this.distance*this.tanR},60):egret.Tween.get(this.cloundArray[a]).to({x:-this.distance,y:this.cloundArray[a].y-this.distance*this.tanR},60).call(function(){var a=this.cloundArray.shift();this.removeChild(a);a=this.generRateCloud();this.addChild(a);a.scaleX=a.scaleY=RATE;a.x=0.7*(this.length-1)*a.width*RATE;a.y=598*RATE-
0.7*(this.length-1)*a.height*RATE;this.cloundArray.push(a);this.counts++},this)};d.startTimer=function(){var a=new egret.Timer(110,10);a.addEventListener(egret.TimerEvent.TIMER,this.onMoveCloud,this);a.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onMoveComplete,this);a.start()};d.onMoveCloud=function(){this.moveAllCloud()};d.onRoleFly=function(){for(var b=0;10>b;b++){var c=new a.views.scene.gameScene.Star;this.addChild(c);c.x=a.utils.stageWidth()/2+b*this.distance;c.y=150*RATE+b*this.distance*
this.tanR;c.setScale(RATE);this.starsArr.push(c);this.setChildIndex(c,3)}};d.onMoveComplete=function(){for(var a=0;a<this.cloundArray.length;a++)this.cloundArray[a].x<this.role.x&&this.role.x<this.cloundArray[a].x+this.cloundArray[a].width*RATE&&(this.cloudCollision=this.cloundArray[a+1]);IS_FLY=!1;egret.Tween.get(this).to({alpha:1},10).call(function(){State="JUMP"},this);this.setChildIndex(this.role,this.numChildren-1);this.setChildIndex(this.son,this.numChildren-1);if(0!=this.starsArr.length){for(a=
0;a<this.starsArr.length;a++)this.removeChild(this.starsArr[a]);this.starsArr=[]}};d.onAgain=function(b){a.model.DataCenter.instance.userVO.currentTime=a.model.DataCenter.instance.userVO.totalTime;a.model.DataCenter.instance.userVO.score=0;a.model.DataCenter.instance.userVO.comboCount=0;SCORE=a.model.DataCenter.instance.userVO.combo=0;MOVESTATE=1;IS_FLY=!1;COMBO=0;State=null;this.status=0;-1!=this.bonusTimer&&(clearTimeout(this.bonusTimer),this.bonusTimer=-1);this.scorePanel.upDateScore();this.jumpNextButton.touchEnabled=
!0;this.jumpDoubleButton.touchEnabled=!0;this.counts=0;this.curTime=this.totalTime;this.timePanel.setTime(this.curTime,this.totalTime);for(b=0;b<this.cloundArray.length;b++)this.removeChild(this.cloundArray[b]);this.cloundArray=[];for(b=0;10>b;b++){var c=this.cloud.createObject(a.views.scene.gameScene.Cloud);this.addChild(c);c.scaleX=c.scaleY=RATE;this.cloundArray.push(c);c.x=0.6*b*c.width*RATE;c.y=598*RATE-0.7*b*c.height*RATE;c.setAnchorPosition(598*RATE-0.7*b*c.height*RATE)}this.role.x=this.cloundArray[1].x+
this.cloundArray[1].width/2*RATE;this.role.y=this.cloundArray[1].y+55*RATE;this.role.scaleX=this.role.scaleY=RATE;this.setChildIndex(this.role,this.numChildren-1);this.setChildIndex(this.son,this.numChildren-1);this.timer=new egret.Timer(1E3,this.totalTime);this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimerBegin,this);this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerOver,this);this.touchChildren=!0;this.timer.start()};d.onBonusEnd=function(a){this.showEnd()};d.onTimeOverEnd=
function(b){this.status=1;a.model.DataCenter.instance.userVO.score=SCORE;this.showEnd()};d.onBonusDidi=function(b){a.views.window.bonusWin.BonusDidiWin.show(this)};d.onBonusDidiEnd=function(a){this.showEnd()};d.showEnd=function(){a.views.window.endWin.EndWin.show(this)};d.showBonus=function(){var b=this;this.bonusTimer=-1;if(0!=this.status)if(a.model.DataCenter.instance.userVO.weiXin.IS()&&!a.model.DataCenter.instance.userVO.weiXin.show)a.views.window.endWin.EndWin.hide(),a.views.window.shareWin.ShareWin.hide(),
this.addChild(a.model.DataCenter.instance.userVO.weiXin),a.model.DataCenter.instance.userVO.weiXin.open(function(){b.showEnd()});else if(a.model.DataCenter.instance.userVO.weiXin.IS()||a.views.window.bonusWin.BonusWin.isShow)this.showEnd();else{var c=new egret.URLLoader;c.addEventListener(egret.Event.COMPLETE,this.checkIsLottery.bind(this),this);var d=new egret.URLRequest(""+a.model.DataCenter.instance.configVO.apiHost+"/api/v1/wmdax/game/"+a.model.DataCenter.instance.configVO.apiVersion+"/played");
d.method=egret.URLRequestMethod.POST;d.data=new egret.URLVariables("code=&score="+a.model.DataCenter.instance.userVO.score);c.load(d)}};d.checkIsLottery=function(b){b=JSON.parse(b.target.data);apicode="";0!=this.status&&(b.lottery?(a.views.window.endWin.EndWin.hide(),a.views.window.shareWin.ShareWin.hide(),a.views.window.bonusWin.BonusWin.show(this)):this.showEnd())};d.generRateCloud=function(){var b=100*Math.random();if(30<b&&50>b){if(b=this.cloud.createObject(a.views.scene.gameScene.BlackCloud),
this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.BlackCloud||this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.FlyCloud||"FLY"==State)b=this.cloud.createObject(a.views.scene.gameScene.Cloud)}else if(80<b&&90>=b){if(b=this.cloud.createObject(a.views.scene.gameScene.FlyCloud),this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.FlyCloud||this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.BlackCloud)b=
this.cloud.createObject(a.views.scene.gameScene.Cloud)}else if(0<=b&&3>b){if(b=this.cloud.createObject(a.views.scene.gameScene.SuperCloud),this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.SuperCloud||this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.FlyCloud||this.cloundArray[this.cloundArray.length-1]instanceof a.views.scene.gameScene.BlackCloud)b=this.cloud.createObject(a.views.scene.gameScene.Cloud)}else b=this.cloud.createObject(a.views.scene.gameScene.Cloud);
return b};d.followFather=function(){this.son.x=this.fatherPositionArr[0].x;this.son.y="FLY"==State?this.fatherPositionArr[0].y+85*a.model.DataCenter.instance.configVO.whRate:this.fatherPositionArr[0].y};return b}(a.views.ui.BasicView);e.GameScene=d;d.prototype.__class__="com.views.scene.GameScene"})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
(function(a){var g=function(e){function d(){e.call(this);d.instance=this;null!=navigator.userAgent.match(/android/i)?(a.model.DataCenter.instance.configVO.isPC=!1,a.model.DataCenter.instance.configVO.dpiRate=1,a.model.DataCenter.instance.configVO.isAndroidSound=!0):null!=navigator.userAgent.match(/ipad|iphone|mac/i)?(a.model.DataCenter.instance.configVO.isPC=!1,a.model.DataCenter.instance.configVO.dpiRate=2,a.model.DataCenter.instance.configVO.isAndroidSound=!1):null!=navigator.userAgent.match(/windows phone/i)?
(a.model.DataCenter.instance.configVO.isPC=!1,a.model.DataCenter.instance.configVO.dpiRate=1,a.model.DataCenter.instance.configVO.isAndroidSound=!0):(a.model.DataCenter.instance.configVO.isPC=!0,a.model.DataCenter.instance.configVO.dpiRate=1);null!=navigator.userAgent.match(/MicroMessenger/i)?a.model.DataCenter.instance.configVO.canShare=!0:null!=navigator.userAgent.match(/QQBrowser/i)&&(a.model.DataCenter.instance.configVO.canShare=!0);a.model.DataCenter.instance.userVO.cookie=document.cookie;null!=
a.model.DataCenter.instance.userVO.cookie.match(/isFirst=false/i)&&(a.model.DataCenter.instance.userVO.isFirst=!1);a.model.DataCenter.instance.userVO.cookie=document.cookie;0<=location.href.indexOf("qq.com")&&setShare("\u5bab\u5973\u3001\u5b37\u5b37\u3001\u7687\u540e\u901a\u901a\u4e0d\u5728\u8bdd\u4e0b\uff0c\u6211\u90fd\u5f81\u670d\u4e86, \u4f60\u884c\u5417\uff1f\u6765\u6211\u4eec\u90fd\u7231\u7b11\u8bd5\u8bd5\u5427\uff01");a.controller.EventManager.instance.addEventListener(this,a.model.localData.event.LoaderEvent.CONFIG_COMPLETE,
this.onConfigComplete.bind(this))}__extends(d,e);var c=d.prototype;c.changeScene=function(b){null!=this.scene&&this.removeChild(this.scene);switch(b){case 0:this.scene=new a.views.scene.InitScene;break;case 1:this.scene=new a.views.scene.GameScene}this.addChild(this.scene)};c.onAddStage=function(b){a.model.DataCenter.instance.configVO.appWidth=this.stage.stageWidth;a.model.DataCenter.instance.configVO.appHeight=this.stage.stageHeight;a.controller.ResManager.instance.init();a.controller.TouchManager.instance.init(this.stage,
a.model.DataCenter.instance.configVO.isPC)};c.onConfigComplete=function(a){this.changeScene(0)};return d}(a.views.ui.BasicView);a.MainView=g;g.prototype.__class__="com.MainView"})(com||(com={}));var Main=function(a){function g(){a.call(this);this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(g,a);g.prototype.onAddToStage=function(a){this.mainView=new com.MainView;this.addChild(this.mainView);new com.utils.GameProfiler(this)};return g}(egret.DisplayObjectContainer);
Main.prototype.__class__="Main";
(function(a){(function(g){(function(e){(function(d){var c=function(b){function c(){b.call(this);this.stopCount=this.status=0;this.bg=new egret.Bitmap(RES.getRes("combo_bar"));this.addChild(this.bg);this.bg.y=3;this.combo=new egret.Bitmap(RES.getRes("combo"));this.addChild(this.combo);this.combo.x=this.bg.width-this.combo.width-20;this.num=new a.views.ui.num.BitmapNum("c",0);this.addChild(this.num);this.visible=!1;this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)}__extends(c,b);
var d=c.prototype;d.setCombo=function(a){this.num.init(a);this.num.x=this.combo.x-this.num.disWidth-10;this.scaleY=this.scaleX=0.1;this.visible=!0;this.status=1};d.onRemoveStage=function(a){this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this);b.prototype.onRemoveStage.call(this,a);this.num=this.combo=this.bg=null};d.onEnterFrame=function(b){1==this.status?(b=this.scaleX+=0.1,b>=a.model.DataCenter.instance.configVO.whRate&&(b=a.model.DataCenter.instance.configVO.whRate,this.stopCount=
0,this.status=2),this.scaleY=this.scaleX=b):2==this.status&&(this.stopCount++,50<=this.stopCount&&(this.status=0,this.visible=!1))};return c}(a.views.ui.BasicView);d.ComboBar=c;c.prototype.__class__="com.views.scene.gameScene.ComboBar"})(e.gameScene||(e.gameScene={}))})(g.scene||(g.scene={}))})(a.views||(a.views={}))})(com||(com={}));
var weixinloading=function(a){function g(){a.call(this);this.q=new egret.Bitmap;this.timer=new egret.Timer(1E3/60);var d=new egret.Shape;d.graphics.beginFill(0,0);d.graphics.drawRect(0,0,480,800);d.graphics.endFill();d.touchEnabled=!0;this.addChild(d);this.q.texture=RES.getRes("loading_wx");this.q.anchorX=this.q.anchorY=0.5;this.addChild(this.q);this.q.x=com.model.DataCenter.instance.configVO.appWidth/2;this.q.y=com.model.DataCenter.instance.configVO.appHeight/2;this.q.y-=this.q.height;this.timer.addEventListener(egret.TimerEvent.TIMER,
this.onTimer,this)}__extends(g,a);var e=g.prototype;e.start=function(){this.timer.start()};e.stop=function(){this.timer.stop()};e.onTimer=function(a){this.q.rotation+=10};return g}(egret.Sprite);weixinloading.prototype.__class__="weixinloading";
